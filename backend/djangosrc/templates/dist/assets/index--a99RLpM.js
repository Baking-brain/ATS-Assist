var bC=Object.defineProperty;var sS=a=>{throw TypeError(a)};var _C=(a,e,t)=>e in a?bC(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var Ce=(a,e,t)=>_C(a,typeof e!="symbol"?e+"":e,t),Qm=(a,e,t)=>e.has(a)||sS("Cannot "+t);var h=(a,e,t)=>(Qm(a,e,"read from private field"),t?t.call(a):e.get(a)),T=(a,e,t)=>e.has(a)?sS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(a):e.set(a,t),b=(a,e,t,n)=>(Qm(a,e,"write to private field"),n?n.call(a,t):e.set(a,t),t),x=(a,e,t)=>(Qm(a,e,"access private method"),t);var gn=(a,e,t,n)=>({set _(r){b(a,e,r,t)},get _(){return h(a,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function xC(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Jm={exports:{}},vu={},Zm={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iS;function CC(){if(iS)return Oe;iS=1;var a=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(O){return O===null||typeof O!="object"?null:(O=y&&O[y]||O["@@iterator"],typeof O=="function"?O:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,E={};function C(O,q,ce){this.props=O,this.context=q,this.refs=E,this.updater=ce||S}C.prototype.isReactComponent={},C.prototype.setState=function(O,q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,q,"setState")},C.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function k(){}k.prototype=C.prototype;function L(O,q,ce){this.props=O,this.context=q,this.refs=E,this.updater=ce||S}var M=L.prototype=new k;M.constructor=L,A(M,C.prototype),M.isPureReactComponent=!0;var I=Array.isArray,j=Object.prototype.hasOwnProperty,z={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function W(O,q,ce){var Se,Te={},ve=null,ye=null;if(q!=null)for(Se in q.ref!==void 0&&(ye=q.ref),q.key!==void 0&&(ve=""+q.key),q)j.call(q,Se)&&!U.hasOwnProperty(Se)&&(Te[Se]=q[Se]);var Ne=arguments.length-2;if(Ne===1)Te.children=ce;else if(1<Ne){for(var He=Array(Ne),De=0;De<Ne;De++)He[De]=arguments[De+2];Te.children=He}if(O&&O.defaultProps)for(Se in Ne=O.defaultProps,Ne)Te[Se]===void 0&&(Te[Se]=Ne[Se]);return{$$typeof:a,type:O,key:ve,ref:ye,props:Te,_owner:z.current}}function K(O,q){return{$$typeof:a,type:O.type,key:q,ref:O.ref,props:O.props,_owner:O._owner}}function te(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function se(O){var q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ce){return q[ce]})}var _e=/\/+/g;function pe(O,q){return typeof O=="object"&&O!==null&&O.key!=null?se(""+O.key):q.toString(36)}function de(O,q,ce,Se,Te){var ve=typeof O;(ve==="undefined"||ve==="boolean")&&(O=null);var ye=!1;if(O===null)ye=!0;else switch(ve){case"string":case"number":ye=!0;break;case"object":switch(O.$$typeof){case a:case e:ye=!0}}if(ye)return ye=O,Te=Te(ye),O=Se===""?"."+pe(ye,0):Se,I(Te)?(ce="",O!=null&&(ce=O.replace(_e,"$&/")+"/"),de(Te,q,ce,"",function(De){return De})):Te!=null&&(te(Te)&&(Te=K(Te,ce+(!Te.key||ye&&ye.key===Te.key?"":(""+Te.key).replace(_e,"$&/")+"/")+O)),q.push(Te)),1;if(ye=0,Se=Se===""?".":Se+":",I(O))for(var Ne=0;Ne<O.length;Ne++){ve=O[Ne];var He=Se+pe(ve,Ne);ye+=de(ve,q,ce,He,Te)}else if(He=v(O),typeof He=="function")for(O=He.call(O),Ne=0;!(ve=O.next()).done;)ve=ve.value,He=Se+pe(ve,Ne++),ye+=de(ve,q,ce,He,Te);else if(ve==="object")throw q=String(O),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return ye}function Ae(O,q,ce){if(O==null)return O;var Se=[],Te=0;return de(O,Se,"","",function(ve){return q.call(ce,ve,Te++)}),Se}function me(O){if(O._status===-1){var q=O._result;q=q(),q.then(function(ce){(O._status===0||O._status===-1)&&(O._status=1,O._result=ce)},function(ce){(O._status===0||O._status===-1)&&(O._status=2,O._result=ce)}),O._status===-1&&(O._status=0,O._result=q)}if(O._status===1)return O._result.default;throw O._result}var Z={current:null},G={transition:null},ae={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:G,ReactCurrentOwner:z};function ee(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:Ae,forEach:function(O,q,ce){Ae(O,function(){q.apply(this,arguments)},ce)},count:function(O){var q=0;return Ae(O,function(){q++}),q},toArray:function(O){return Ae(O,function(q){return q})||[]},only:function(O){if(!te(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Oe.Component=C,Oe.Fragment=t,Oe.Profiler=r,Oe.PureComponent=L,Oe.StrictMode=n,Oe.Suspense=d,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,Oe.act=ee,Oe.cloneElement=function(O,q,ce){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Se=A({},O.props),Te=O.key,ve=O.ref,ye=O._owner;if(q!=null){if(q.ref!==void 0&&(ve=q.ref,ye=z.current),q.key!==void 0&&(Te=""+q.key),O.type&&O.type.defaultProps)var Ne=O.type.defaultProps;for(He in q)j.call(q,He)&&!U.hasOwnProperty(He)&&(Se[He]=q[He]===void 0&&Ne!==void 0?Ne[He]:q[He])}var He=arguments.length-2;if(He===1)Se.children=ce;else if(1<He){Ne=Array(He);for(var De=0;De<He;De++)Ne[De]=arguments[De+2];Se.children=Ne}return{$$typeof:a,type:O.type,key:Te,ref:ve,props:Se,_owner:ye}},Oe.createContext=function(O){return O={$$typeof:l,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:o,_context:O},O.Consumer=O},Oe.createElement=W,Oe.createFactory=function(O){var q=W.bind(null,O);return q.type=O,q},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(O){return{$$typeof:u,render:O}},Oe.isValidElement=te,Oe.lazy=function(O){return{$$typeof:g,_payload:{_status:-1,_result:O},_init:me}},Oe.memo=function(O,q){return{$$typeof:p,type:O,compare:q===void 0?null:q}},Oe.startTransition=function(O){var q=G.transition;G.transition={};try{O()}finally{G.transition=q}},Oe.unstable_act=ee,Oe.useCallback=function(O,q){return Z.current.useCallback(O,q)},Oe.useContext=function(O){return Z.current.useContext(O)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(O){return Z.current.useDeferredValue(O)},Oe.useEffect=function(O,q){return Z.current.useEffect(O,q)},Oe.useId=function(){return Z.current.useId()},Oe.useImperativeHandle=function(O,q,ce){return Z.current.useImperativeHandle(O,q,ce)},Oe.useInsertionEffect=function(O,q){return Z.current.useInsertionEffect(O,q)},Oe.useLayoutEffect=function(O,q){return Z.current.useLayoutEffect(O,q)},Oe.useMemo=function(O,q){return Z.current.useMemo(O,q)},Oe.useReducer=function(O,q,ce){return Z.current.useReducer(O,q,ce)},Oe.useRef=function(O){return Z.current.useRef(O)},Oe.useState=function(O){return Z.current.useState(O)},Oe.useSyncExternalStore=function(O,q,ce){return Z.current.useSyncExternalStore(O,q,ce)},Oe.useTransition=function(){return Z.current.useTransition()},Oe.version="18.3.1",Oe}var rS;function qv(){return rS||(rS=1,Zm.exports=CC()),Zm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oS;function kC(){if(oS)return vu;oS=1;var a=qv(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,r=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,p){var g,y={},v=null,S=null;p!==void 0&&(v=""+p),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(S=d.ref);for(g in d)n.call(d,g)&&!o.hasOwnProperty(g)&&(y[g]=d[g]);if(u&&u.defaultProps)for(g in d=u.defaultProps,d)y[g]===void 0&&(y[g]=d[g]);return{$$typeof:e,type:u,key:v,ref:S,props:y,_owner:r.current}}return vu.Fragment=t,vu.jsx=l,vu.jsxs=l,vu}var aS;function TC(){return aS||(aS=1,Jm.exports=kC()),Jm.exports}var R=TC(),F=qv(),Rf={},ey={exports:{}},kn={},ty={exports:{}},ny={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lS;function RC(){return lS||(lS=1,function(a){function e(G,ae){var ee=G.length;G.push(ae);e:for(;0<ee;){var O=ee-1>>>1,q=G[O];if(0<r(q,ae))G[O]=ae,G[ee]=q,ee=O;else break e}}function t(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var ae=G[0],ee=G.pop();if(ee!==ae){G[0]=ee;e:for(var O=0,q=G.length,ce=q>>>1;O<ce;){var Se=2*(O+1)-1,Te=G[Se],ve=Se+1,ye=G[ve];if(0>r(Te,ee))ve<q&&0>r(ye,Te)?(G[O]=ye,G[ve]=ee,O=ve):(G[O]=Te,G[Se]=ee,O=Se);else if(ve<q&&0>r(ye,ee))G[O]=ye,G[ve]=ee,O=ve;else break e}}return ae}function r(G,ae){var ee=G.sortIndex-ae.sortIndex;return ee!==0?ee:G.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;a.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();a.unstable_now=function(){return l.now()-u}}var d=[],p=[],g=1,y=null,v=3,S=!1,A=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(G){for(var ae=t(p);ae!==null;){if(ae.callback===null)n(p);else if(ae.startTime<=G)n(p),ae.sortIndex=ae.expirationTime,e(d,ae);else break;ae=t(p)}}function I(G){if(E=!1,M(G),!A)if(t(d)!==null)A=!0,me(j);else{var ae=t(p);ae!==null&&Z(I,ae.startTime-G)}}function j(G,ae){A=!1,E&&(E=!1,k(W),W=-1),S=!0;var ee=v;try{for(M(ae),y=t(d);y!==null&&(!(y.expirationTime>ae)||G&&!se());){var O=y.callback;if(typeof O=="function"){y.callback=null,v=y.priorityLevel;var q=O(y.expirationTime<=ae);ae=a.unstable_now(),typeof q=="function"?y.callback=q:y===t(d)&&n(d),M(ae)}else n(d);y=t(d)}if(y!==null)var ce=!0;else{var Se=t(p);Se!==null&&Z(I,Se.startTime-ae),ce=!1}return ce}finally{y=null,v=ee,S=!1}}var z=!1,U=null,W=-1,K=5,te=-1;function se(){return!(a.unstable_now()-te<K)}function _e(){if(U!==null){var G=a.unstable_now();te=G;var ae=!0;try{ae=U(!0,G)}finally{ae?pe():(z=!1,U=null)}}else z=!1}var pe;if(typeof L=="function")pe=function(){L(_e)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,Ae=de.port2;de.port1.onmessage=_e,pe=function(){Ae.postMessage(null)}}else pe=function(){C(_e,0)};function me(G){U=G,z||(z=!0,pe())}function Z(G,ae){W=C(function(){G(a.unstable_now())},ae)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_continueExecution=function(){A||S||(A=!0,me(j))},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return v},a.unstable_getFirstCallbackNode=function(){return t(d)},a.unstable_next=function(G){switch(v){case 1:case 2:case 3:var ae=3;break;default:ae=v}var ee=v;v=ae;try{return G()}finally{v=ee}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(G,ae){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ee=v;v=G;try{return ae()}finally{v=ee}},a.unstable_scheduleCallback=function(G,ae,ee){var O=a.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?O+ee:O):ee=O,G){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ee+q,G={id:g++,callback:ae,priorityLevel:G,startTime:ee,expirationTime:q,sortIndex:-1},ee>O?(G.sortIndex=ee,e(p,G),t(d)===null&&G===t(p)&&(E?(k(W),W=-1):E=!0,Z(I,ee-O))):(G.sortIndex=q,e(d,G),A||S||(A=!0,me(j))),G},a.unstable_shouldYield=se,a.unstable_wrapCallback=function(G){var ae=v;return function(){var ee=v;v=ae;try{return G.apply(this,arguments)}finally{v=ee}}}}(ny)),ny}var cS;function PC(){return cS||(cS=1,ty.exports=RC()),ty.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uS;function LC(){if(uS)return kn;uS=1;var a=qv(),e=PC();function t(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,r={};function o(s,i){l(s,i),l(s+"Capture",i)}function l(s,i){for(r[s]=i,s=0;s<i.length;s++)n.add(i[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function v(s){return d.call(y,s)?!0:d.call(g,s)?!1:p.test(s)?y[s]=!0:(g[s]=!0,!1)}function S(s,i,c,f){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function A(s,i,c,f){if(i===null||typeof i>"u"||S(s,i,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function E(s,i,c,f,m,w,_){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=c,this.propertyName=s,this.type=i,this.sanitizeURL=w,this.removeEmptyString=_}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){C[s]=new E(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];C[i]=new E(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){C[s]=new E(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){C[s]=new E(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){C[s]=new E(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){C[s]=new E(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){C[s]=new E(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){C[s]=new E(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){C[s]=new E(s,5,!1,s.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function L(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(k,L);C[i]=new E(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(k,L);C[i]=new E(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(k,L);C[i]=new E(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){C[s]=new E(s,1,!1,s.toLowerCase(),null,!1,!1)}),C.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){C[s]=new E(s,1,!1,s.toLowerCase(),null,!0,!0)});function M(s,i,c,f){var m=C.hasOwnProperty(i)?C[i]:null;(m!==null?m.type!==0:f||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(A(i,c,m,f)&&(c=null),f||m===null?v(i)&&(c===null?s.removeAttribute(i):s.setAttribute(i,""+c)):m.mustUseProperty?s[m.propertyName]=c===null?m.type===3?!1:"":c:(i=m.attributeName,f=m.attributeNamespace,c===null?s.removeAttribute(i):(m=m.type,c=m===3||m===4&&c===!0?"":""+c,f?s.setAttributeNS(f,i,c):s.setAttribute(i,c))))}var I=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),z=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),se=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),G=Symbol.iterator;function ae(s){return s===null||typeof s!="object"?null:(s=G&&s[G]||s["@@iterator"],typeof s=="function"?s:null)}var ee=Object.assign,O;function q(s){if(O===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||""}return`
`+O+s}var ce=!1;function Se(s,i){if(!s||ce)return"";ce=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch($){var f=$}Reflect.construct(s,[],i)}else{try{i.call()}catch($){f=$}s.call(i.prototype)}else{try{throw Error()}catch($){f=$}s()}}catch($){if($&&f&&typeof $.stack=="string"){for(var m=$.stack.split(`
`),w=f.stack.split(`
`),_=m.length-1,P=w.length-1;1<=_&&0<=P&&m[_]!==w[P];)P--;for(;1<=_&&0<=P;_--,P--)if(m[_]!==w[P]){if(_!==1||P!==1)do if(_--,P--,0>P||m[_]!==w[P]){var N=`
`+m[_].replace(" at new "," at ");return s.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",s.displayName)),N}while(1<=_&&0<=P);break}}}finally{ce=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?q(s):""}function Te(s){switch(s.tag){case 5:return q(s.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return s=Se(s.type,!1),s;case 11:return s=Se(s.type.render,!1),s;case 1:return s=Se(s.type,!0),s;default:return""}}function ve(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case U:return"Fragment";case z:return"Portal";case K:return"Profiler";case W:return"StrictMode";case pe:return"Suspense";case de:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case se:return(s.displayName||"Context")+".Consumer";case te:return(s._context.displayName||"Context")+".Provider";case _e:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ae:return i=s.displayName||null,i!==null?i:ve(s.type)||"Memo";case me:i=s._payload,s=s._init;try{return ve(s(i))}catch{}}return null}function ye(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(i);case 8:return i===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ne(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function He(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function De(s){var i=He(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),f=""+s[i];if(!s.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,w=c.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return m.call(this)},set:function(_){f=""+_,w.call(this,_)}}),Object.defineProperty(s,i,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(_){f=""+_},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Bs(s){s._valueTracker||(s._valueTracker=De(s))}function ur(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var c=i.getValue(),f="";return s&&(f=He(s)?s.checked?"true":"false":s.value),s=f,s!==c?(i.setValue(s),!0):!1}function We(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ot(s,i){var c=i.checked;return ee({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Tt(s,i){var c=i.defaultValue==null?"":i.defaultValue,f=i.checked!=null?i.checked:i.defaultChecked;c=Ne(i.value!=null?i.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function wt(s,i){i=i.checked,i!=null&&M(s,"checked",i,!1)}function Us(s,i){wt(s,i);var c=Ne(i.value),f=i.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?Nc(s,i.type,c):i.hasOwnProperty("defaultValue")&&Nc(s,i.type,Ne(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function hr(s,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var f=i.type;if(!(f!=="submit"&&f!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,c||i===s.value||(s.value=i),s.defaultValue=i}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Nc(s,i,c){(i!=="number"||We(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var go=Array.isArray;function ms(s,i,c,f){if(s=s.options,i){i={};for(var m=0;m<c.length;m++)i["$"+c[m]]=!0;for(c=0;c<s.length;c++)m=i.hasOwnProperty("$"+s[c].value),s[c].selected!==m&&(s[c].selected=m),m&&f&&(s[c].defaultSelected=!0)}else{for(c=""+Ne(c),i=null,m=0;m<s.length;m++){if(s[m].value===c){s[m].selected=!0,f&&(s[m].defaultSelected=!0);return}i!==null||s[m].disabled||(i=s[m])}i!==null&&(i.selected=!0)}}function Ic(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return ee({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function yd(s,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(t(92));if(go(c)){if(1<c.length)throw Error(t(93));c=c[0]}i=c}i==null&&(i=""),c=i}s._wrapperState={initialValue:Ne(c)}}function vd(s,i){var c=Ne(i.value),f=Ne(i.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),i.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function wd(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function Ad(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $s(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?Ad(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var yi,mo=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,f,m){MSApp.execUnsafeLocalFunction(function(){return s(i,c,f,m)})}:s}(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(yi=yi||document.createElement("div"),yi.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=yi.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function vi(s,i){if(i){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=i;return}}s.textContent=i}var Fc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kx=["Webkit","ms","Moz","O"];Object.keys(Fc).forEach(function(s){kx.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),Fc[i]=Fc[s]})});function v0(s,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||Fc.hasOwnProperty(s)&&Fc[s]?(""+i).trim():i+"px"}function w0(s,i){s=s.style;for(var c in i)if(i.hasOwnProperty(c)){var f=c.indexOf("--")===0,m=v0(c,i[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,m):s[c]=m}}var Tx=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cg(s,i){if(i){if(Tx[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function ug(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hg=null;function dg(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var fg=null,Wa=null,Ga=null;function A0(s){if(s=su(s)){if(typeof fg!="function")throw Error(t(280));var i=s.stateNode;i&&(i=$d(i),fg(s.stateNode,s.type,i))}}function S0(s){Wa?Ga?Ga.push(s):Ga=[s]:Wa=s}function E0(){if(Wa){var s=Wa,i=Ga;if(Ga=Wa=null,A0(s),i)for(s=0;s<i.length;s++)A0(i[s])}}function b0(s,i){return s(i)}function _0(){}var pg=!1;function x0(s,i,c){if(pg)return s(i,c);pg=!0;try{return b0(s,i,c)}finally{pg=!1,(Wa!==null||Ga!==null)&&(_0(),E0())}}function Dc(s,i){var c=s.stateNode;if(c===null)return null;var f=$d(c);if(f===null)return null;c=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,i,typeof c));return c}var gg=!1;if(u)try{var Oc={};Object.defineProperty(Oc,"passive",{get:function(){gg=!0}}),window.addEventListener("test",Oc,Oc),window.removeEventListener("test",Oc,Oc)}catch{gg=!1}function Rx(s,i,c,f,m,w,_,P,N){var $=Array.prototype.slice.call(arguments,3);try{i.apply(c,$)}catch(Y){this.onError(Y)}}var jc=!1,Sd=null,Ed=!1,mg=null,Px={onError:function(s){jc=!0,Sd=s}};function Lx(s,i,c,f,m,w,_,P,N){jc=!1,Sd=null,Rx.apply(Px,arguments)}function Mx(s,i,c,f,m,w,_,P,N){if(Lx.apply(this,arguments),jc){if(jc){var $=Sd;jc=!1,Sd=null}else throw Error(t(198));Ed||(Ed=!0,mg=$)}}function yo(s){var i=s,c=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,i.flags&4098&&(c=i.return),s=i.return;while(s)}return i.tag===3?c:null}function C0(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function k0(s){if(yo(s)!==s)throw Error(t(188))}function Nx(s){var i=s.alternate;if(!i){if(i=yo(s),i===null)throw Error(t(188));return i!==s?null:s}for(var c=s,f=i;;){var m=c.return;if(m===null)break;var w=m.alternate;if(w===null){if(f=m.return,f!==null){c=f;continue}break}if(m.child===w.child){for(w=m.child;w;){if(w===c)return k0(m),s;if(w===f)return k0(m),i;w=w.sibling}throw Error(t(188))}if(c.return!==f.return)c=m,f=w;else{for(var _=!1,P=m.child;P;){if(P===c){_=!0,c=m,f=w;break}if(P===f){_=!0,f=m,c=w;break}P=P.sibling}if(!_){for(P=w.child;P;){if(P===c){_=!0,c=w,f=m;break}if(P===f){_=!0,f=w,c=m;break}P=P.sibling}if(!_)throw Error(t(189))}}if(c.alternate!==f)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:i}function T0(s){return s=Nx(s),s!==null?R0(s):null}function R0(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=R0(s);if(i!==null)return i;s=s.sibling}return null}var P0=e.unstable_scheduleCallback,L0=e.unstable_cancelCallback,Ix=e.unstable_shouldYield,Fx=e.unstable_requestPaint,At=e.unstable_now,Dx=e.unstable_getCurrentPriorityLevel,yg=e.unstable_ImmediatePriority,M0=e.unstable_UserBlockingPriority,bd=e.unstable_NormalPriority,Ox=e.unstable_LowPriority,N0=e.unstable_IdlePriority,_d=null,Vs=null;function jx(s){if(Vs&&typeof Vs.onCommitFiberRoot=="function")try{Vs.onCommitFiberRoot(_d,s,void 0,(s.current.flags&128)===128)}catch{}}var ys=Math.clz32?Math.clz32:Bx,Hx=Math.log,zx=Math.LN2;function Bx(s){return s>>>=0,s===0?32:31-(Hx(s)/zx|0)|0}var xd=64,Cd=4194304;function Hc(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function kd(s,i){var c=s.pendingLanes;if(c===0)return 0;var f=0,m=s.suspendedLanes,w=s.pingedLanes,_=c&268435455;if(_!==0){var P=_&~m;P!==0?f=Hc(P):(w&=_,w!==0&&(f=Hc(w)))}else _=c&~m,_!==0?f=Hc(_):w!==0&&(f=Hc(w));if(f===0)return 0;if(i!==0&&i!==f&&!(i&m)&&(m=f&-f,w=i&-i,m>=w||m===16&&(w&4194240)!==0))return i;if(f&4&&(f|=c&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=f;0<i;)c=31-ys(i),m=1<<c,f|=s[c],i&=~m;return f}function Ux(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $x(s,i){for(var c=s.suspendedLanes,f=s.pingedLanes,m=s.expirationTimes,w=s.pendingLanes;0<w;){var _=31-ys(w),P=1<<_,N=m[_];N===-1?(!(P&c)||P&f)&&(m[_]=Ux(P,i)):N<=i&&(s.expiredLanes|=P),w&=~P}}function vg(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function I0(){var s=xd;return xd<<=1,!(xd&4194240)&&(xd=64),s}function wg(s){for(var i=[],c=0;31>c;c++)i.push(s);return i}function zc(s,i,c){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-ys(i),s[i]=c}function Vx(s,i){var c=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var m=31-ys(c),w=1<<m;i[m]=0,f[m]=-1,s[m]=-1,c&=~w}}function Ag(s,i){var c=s.entangledLanes|=i;for(s=s.entanglements;c;){var f=31-ys(c),m=1<<f;m&i|s[f]&i&&(s[f]|=i),c&=~m}}var Xe=0;function F0(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var D0,Sg,O0,j0,H0,Eg=!1,Td=[],dr=null,fr=null,pr=null,Bc=new Map,Uc=new Map,gr=[],Wx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function z0(s,i){switch(s){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":Bc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uc.delete(i.pointerId)}}function $c(s,i,c,f,m,w){return s===null||s.nativeEvent!==w?(s={blockedOn:i,domEventName:c,eventSystemFlags:f,nativeEvent:w,targetContainers:[m]},i!==null&&(i=su(i),i!==null&&Sg(i)),s):(s.eventSystemFlags|=f,i=s.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),s)}function Gx(s,i,c,f,m){switch(i){case"focusin":return dr=$c(dr,s,i,c,f,m),!0;case"dragenter":return fr=$c(fr,s,i,c,f,m),!0;case"mouseover":return pr=$c(pr,s,i,c,f,m),!0;case"pointerover":var w=m.pointerId;return Bc.set(w,$c(Bc.get(w)||null,s,i,c,f,m)),!0;case"gotpointercapture":return w=m.pointerId,Uc.set(w,$c(Uc.get(w)||null,s,i,c,f,m)),!0}return!1}function B0(s){var i=vo(s.target);if(i!==null){var c=yo(i);if(c!==null){if(i=c.tag,i===13){if(i=C0(c),i!==null){s.blockedOn=i,H0(s.priority,function(){O0(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Rd(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var c=_g(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);hg=f,c.target.dispatchEvent(f),hg=null}else return i=su(c),i!==null&&Sg(i),s.blockedOn=c,!1;i.shift()}return!0}function U0(s,i,c){Rd(s)&&c.delete(i)}function qx(){Eg=!1,dr!==null&&Rd(dr)&&(dr=null),fr!==null&&Rd(fr)&&(fr=null),pr!==null&&Rd(pr)&&(pr=null),Bc.forEach(U0),Uc.forEach(U0)}function Vc(s,i){s.blockedOn===i&&(s.blockedOn=null,Eg||(Eg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qx)))}function Wc(s){function i(m){return Vc(m,s)}if(0<Td.length){Vc(Td[0],s);for(var c=1;c<Td.length;c++){var f=Td[c];f.blockedOn===s&&(f.blockedOn=null)}}for(dr!==null&&Vc(dr,s),fr!==null&&Vc(fr,s),pr!==null&&Vc(pr,s),Bc.forEach(i),Uc.forEach(i),c=0;c<gr.length;c++)f=gr[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<gr.length&&(c=gr[0],c.blockedOn===null);)B0(c),c.blockedOn===null&&gr.shift()}var qa=I.ReactCurrentBatchConfig,Pd=!0;function Xx(s,i,c,f){var m=Xe,w=qa.transition;qa.transition=null;try{Xe=1,bg(s,i,c,f)}finally{Xe=m,qa.transition=w}}function Kx(s,i,c,f){var m=Xe,w=qa.transition;qa.transition=null;try{Xe=4,bg(s,i,c,f)}finally{Xe=m,qa.transition=w}}function bg(s,i,c,f){if(Pd){var m=_g(s,i,c,f);if(m===null)Bg(s,i,f,Ld,c),z0(s,f);else if(Gx(m,s,i,c,f))f.stopPropagation();else if(z0(s,f),i&4&&-1<Wx.indexOf(s)){for(;m!==null;){var w=su(m);if(w!==null&&D0(w),w=_g(s,i,c,f),w===null&&Bg(s,i,f,Ld,c),w===m)break;m=w}m!==null&&f.stopPropagation()}else Bg(s,i,f,null,c)}}var Ld=null;function _g(s,i,c,f){if(Ld=null,s=dg(f),s=vo(s),s!==null)if(i=yo(s),i===null)s=null;else if(c=i.tag,c===13){if(s=C0(i),s!==null)return s;s=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Ld=s,null}function $0(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dx()){case yg:return 1;case M0:return 4;case bd:case Ox:return 16;case N0:return 536870912;default:return 16}default:return 16}}var mr=null,xg=null,Md=null;function V0(){if(Md)return Md;var s,i=xg,c=i.length,f,m="value"in mr?mr.value:mr.textContent,w=m.length;for(s=0;s<c&&i[s]===m[s];s++);var _=c-s;for(f=1;f<=_&&i[c-f]===m[w-f];f++);return Md=m.slice(s,1<f?1-f:void 0)}function Nd(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Id(){return!0}function W0(){return!1}function On(s){function i(c,f,m,w,_){this._reactName=c,this._targetInst=m,this.type=f,this.nativeEvent=w,this.target=_,this.currentTarget=null;for(var P in s)s.hasOwnProperty(P)&&(c=s[P],this[P]=c?c(w):w[P]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Id:W0,this.isPropagationStopped=W0,this}return ee(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Id)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Id)},persist:function(){},isPersistent:Id}),i}var Xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cg=On(Xa),Gc=ee({},Xa,{view:0,detail:0}),Yx=On(Gc),kg,Tg,qc,Fd=ee({},Gc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pg,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==qc&&(qc&&s.type==="mousemove"?(kg=s.screenX-qc.screenX,Tg=s.screenY-qc.screenY):Tg=kg=0,qc=s),kg)},movementY:function(s){return"movementY"in s?s.movementY:Tg}}),G0=On(Fd),Qx=ee({},Fd,{dataTransfer:0}),Jx=On(Qx),Zx=ee({},Gc,{relatedTarget:0}),Rg=On(Zx),e1=ee({},Xa,{animationName:0,elapsedTime:0,pseudoElement:0}),t1=On(e1),n1=ee({},Xa,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),s1=On(n1),i1=ee({},Xa,{data:0}),q0=On(i1),r1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l1(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=a1[s])?!!i[s]:!1}function Pg(){return l1}var c1=ee({},Gc,{key:function(s){if(s.key){var i=r1[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Nd(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?o1[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pg,charCode:function(s){return s.type==="keypress"?Nd(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Nd(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),u1=On(c1),h1=ee({},Fd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X0=On(h1),d1=ee({},Gc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pg}),f1=On(d1),p1=ee({},Xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),g1=On(p1),m1=ee({},Fd,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),y1=On(m1),v1=[9,13,27,32],Lg=u&&"CompositionEvent"in window,Xc=null;u&&"documentMode"in document&&(Xc=document.documentMode);var w1=u&&"TextEvent"in window&&!Xc,K0=u&&(!Lg||Xc&&8<Xc&&11>=Xc),Y0=" ",Q0=!1;function J0(s,i){switch(s){case"keyup":return v1.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ka=!1;function A1(s,i){switch(s){case"compositionend":return Z0(i);case"keypress":return i.which!==32?null:(Q0=!0,Y0);case"textInput":return s=i.data,s===Y0&&Q0?null:s;default:return null}}function S1(s,i){if(Ka)return s==="compositionend"||!Lg&&J0(s,i)?(s=V0(),Md=xg=mr=null,Ka=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return K0&&i.locale!=="ko"?null:i.data;default:return null}}var E1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ew(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!E1[s.type]:i==="textarea"}function tw(s,i,c,f){S0(f),i=zd(i,"onChange"),0<i.length&&(c=new Cg("onChange","change",null,c,f),s.push({event:c,listeners:i}))}var Kc=null,Yc=null;function b1(s){ww(s,0)}function Dd(s){var i=el(s);if(ur(i))return s}function _1(s,i){if(s==="change")return i}var nw=!1;if(u){var Mg;if(u){var Ng="oninput"in document;if(!Ng){var sw=document.createElement("div");sw.setAttribute("oninput","return;"),Ng=typeof sw.oninput=="function"}Mg=Ng}else Mg=!1;nw=Mg&&(!document.documentMode||9<document.documentMode)}function iw(){Kc&&(Kc.detachEvent("onpropertychange",rw),Yc=Kc=null)}function rw(s){if(s.propertyName==="value"&&Dd(Yc)){var i=[];tw(i,Yc,s,dg(s)),x0(b1,i)}}function x1(s,i,c){s==="focusin"?(iw(),Kc=i,Yc=c,Kc.attachEvent("onpropertychange",rw)):s==="focusout"&&iw()}function C1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Dd(Yc)}function k1(s,i){if(s==="click")return Dd(i)}function T1(s,i){if(s==="input"||s==="change")return Dd(i)}function R1(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var vs=typeof Object.is=="function"?Object.is:R1;function Qc(s,i){if(vs(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var c=Object.keys(s),f=Object.keys(i);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var m=c[f];if(!d.call(i,m)||!vs(s[m],i[m]))return!1}return!0}function ow(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function aw(s,i){var c=ow(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=i&&f>=i)return{node:c,offset:i-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=ow(c)}}function lw(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?lw(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function cw(){for(var s=window,i=We();i instanceof s.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)s=i.contentWindow;else break;i=We(s.document)}return i}function Ig(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function P1(s){var i=cw(),c=s.focusedElem,f=s.selectionRange;if(i!==c&&c&&c.ownerDocument&&lw(c.ownerDocument.documentElement,c)){if(f!==null&&Ig(c)){if(i=f.start,s=f.end,s===void 0&&(s=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(s,c.value.length);else if(s=(i=c.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var m=c.textContent.length,w=Math.min(f.start,m);f=f.end===void 0?w:Math.min(f.end,m),!s.extend&&w>f&&(m=f,f=w,w=m),m=aw(c,w);var _=aw(c,f);m&&_&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==_.node||s.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),s.removeAllRanges(),w>f?(s.addRange(i),s.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),s.addRange(i)))}}for(i=[],s=c;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)s=i[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var L1=u&&"documentMode"in document&&11>=document.documentMode,Ya=null,Fg=null,Jc=null,Dg=!1;function uw(s,i,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Dg||Ya==null||Ya!==We(f)||(f=Ya,"selectionStart"in f&&Ig(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Jc&&Qc(Jc,f)||(Jc=f,f=zd(Fg,"onSelect"),0<f.length&&(i=new Cg("onSelect","select",null,i,c),s.push({event:i,listeners:f}),i.target=Ya)))}function Od(s,i){var c={};return c[s.toLowerCase()]=i.toLowerCase(),c["Webkit"+s]="webkit"+i,c["Moz"+s]="moz"+i,c}var Qa={animationend:Od("Animation","AnimationEnd"),animationiteration:Od("Animation","AnimationIteration"),animationstart:Od("Animation","AnimationStart"),transitionend:Od("Transition","TransitionEnd")},Og={},hw={};u&&(hw=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function jd(s){if(Og[s])return Og[s];if(!Qa[s])return s;var i=Qa[s],c;for(c in i)if(i.hasOwnProperty(c)&&c in hw)return Og[s]=i[c];return s}var dw=jd("animationend"),fw=jd("animationiteration"),pw=jd("animationstart"),gw=jd("transitionend"),mw=new Map,yw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yr(s,i){mw.set(s,i),o(i,[s])}for(var jg=0;jg<yw.length;jg++){var Hg=yw[jg],M1=Hg.toLowerCase(),N1=Hg[0].toUpperCase()+Hg.slice(1);yr(M1,"on"+N1)}yr(dw,"onAnimationEnd"),yr(fw,"onAnimationIteration"),yr(pw,"onAnimationStart"),yr("dblclick","onDoubleClick"),yr("focusin","onFocus"),yr("focusout","onBlur"),yr(gw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zc));function vw(s,i,c){var f=s.type||"unknown-event";s.currentTarget=c,Mx(f,i,void 0,s),s.currentTarget=null}function ww(s,i){i=(i&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],m=f.event;f=f.listeners;e:{var w=void 0;if(i)for(var _=f.length-1;0<=_;_--){var P=f[_],N=P.instance,$=P.currentTarget;if(P=P.listener,N!==w&&m.isPropagationStopped())break e;vw(m,P,$),w=N}else for(_=0;_<f.length;_++){if(P=f[_],N=P.instance,$=P.currentTarget,P=P.listener,N!==w&&m.isPropagationStopped())break e;vw(m,P,$),w=N}}}if(Ed)throw s=mg,Ed=!1,mg=null,s}function st(s,i){var c=i[qg];c===void 0&&(c=i[qg]=new Set);var f=s+"__bubble";c.has(f)||(Aw(i,s,2,!1),c.add(f))}function zg(s,i,c){var f=0;i&&(f|=4),Aw(c,s,f,i)}var Hd="_reactListening"+Math.random().toString(36).slice(2);function eu(s){if(!s[Hd]){s[Hd]=!0,n.forEach(function(c){c!=="selectionchange"&&(I1.has(c)||zg(c,!1,s),zg(c,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Hd]||(i[Hd]=!0,zg("selectionchange",!1,i))}}function Aw(s,i,c,f){switch($0(i)){case 1:var m=Xx;break;case 4:m=Kx;break;default:m=bg}c=m.bind(null,i,c,s),m=void 0,!gg||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),f?m!==void 0?s.addEventListener(i,c,{capture:!0,passive:m}):s.addEventListener(i,c,!0):m!==void 0?s.addEventListener(i,c,{passive:m}):s.addEventListener(i,c,!1)}function Bg(s,i,c,f,m){var w=f;if(!(i&1)&&!(i&2)&&f!==null)e:for(;;){if(f===null)return;var _=f.tag;if(_===3||_===4){var P=f.stateNode.containerInfo;if(P===m||P.nodeType===8&&P.parentNode===m)break;if(_===4)for(_=f.return;_!==null;){var N=_.tag;if((N===3||N===4)&&(N=_.stateNode.containerInfo,N===m||N.nodeType===8&&N.parentNode===m))return;_=_.return}for(;P!==null;){if(_=vo(P),_===null)return;if(N=_.tag,N===5||N===6){f=w=_;continue e}P=P.parentNode}}f=f.return}x0(function(){var $=w,Y=dg(c),Q=[];e:{var X=mw.get(s);if(X!==void 0){var re=Cg,ue=s;switch(s){case"keypress":if(Nd(c)===0)break e;case"keydown":case"keyup":re=u1;break;case"focusin":ue="focus",re=Rg;break;case"focusout":ue="blur",re=Rg;break;case"beforeblur":case"afterblur":re=Rg;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=G0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Jx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=f1;break;case dw:case fw:case pw:re=t1;break;case gw:re=g1;break;case"scroll":re=Yx;break;case"wheel":re=y1;break;case"copy":case"cut":case"paste":re=s1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=X0}var he=(i&4)!==0,St=!he&&s==="scroll",H=he?X!==null?X+"Capture":null:X;he=[];for(var D=$,B;D!==null;){B=D;var J=B.stateNode;if(B.tag===5&&J!==null&&(B=J,H!==null&&(J=Dc(D,H),J!=null&&he.push(tu(D,J,B)))),St)break;D=D.return}0<he.length&&(X=new re(X,ue,null,c,Y),Q.push({event:X,listeners:he}))}}if(!(i&7)){e:{if(X=s==="mouseover"||s==="pointerover",re=s==="mouseout"||s==="pointerout",X&&c!==hg&&(ue=c.relatedTarget||c.fromElement)&&(vo(ue)||ue[wi]))break e;if((re||X)&&(X=Y.window===Y?Y:(X=Y.ownerDocument)?X.defaultView||X.parentWindow:window,re?(ue=c.relatedTarget||c.toElement,re=$,ue=ue?vo(ue):null,ue!==null&&(St=yo(ue),ue!==St||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(re=null,ue=$),re!==ue)){if(he=G0,J="onMouseLeave",H="onMouseEnter",D="mouse",(s==="pointerout"||s==="pointerover")&&(he=X0,J="onPointerLeave",H="onPointerEnter",D="pointer"),St=re==null?X:el(re),B=ue==null?X:el(ue),X=new he(J,D+"leave",re,c,Y),X.target=St,X.relatedTarget=B,J=null,vo(Y)===$&&(he=new he(H,D+"enter",ue,c,Y),he.target=B,he.relatedTarget=St,J=he),St=J,re&&ue)t:{for(he=re,H=ue,D=0,B=he;B;B=Ja(B))D++;for(B=0,J=H;J;J=Ja(J))B++;for(;0<D-B;)he=Ja(he),D--;for(;0<B-D;)H=Ja(H),B--;for(;D--;){if(he===H||H!==null&&he===H.alternate)break t;he=Ja(he),H=Ja(H)}he=null}else he=null;re!==null&&Sw(Q,X,re,he,!1),ue!==null&&St!==null&&Sw(Q,St,ue,he,!0)}}e:{if(X=$?el($):window,re=X.nodeName&&X.nodeName.toLowerCase(),re==="select"||re==="input"&&X.type==="file")var fe=_1;else if(ew(X))if(nw)fe=T1;else{fe=C1;var Ee=x1}else(re=X.nodeName)&&re.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(fe=k1);if(fe&&(fe=fe(s,$))){tw(Q,fe,c,Y);break e}Ee&&Ee(s,X,$),s==="focusout"&&(Ee=X._wrapperState)&&Ee.controlled&&X.type==="number"&&Nc(X,"number",X.value)}switch(Ee=$?el($):window,s){case"focusin":(ew(Ee)||Ee.contentEditable==="true")&&(Ya=Ee,Fg=$,Jc=null);break;case"focusout":Jc=Fg=Ya=null;break;case"mousedown":Dg=!0;break;case"contextmenu":case"mouseup":case"dragend":Dg=!1,uw(Q,c,Y);break;case"selectionchange":if(L1)break;case"keydown":case"keyup":uw(Q,c,Y)}var be;if(Lg)e:{switch(s){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Ka?J0(s,c)&&(xe="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(xe="onCompositionStart");xe&&(K0&&c.locale!=="ko"&&(Ka||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Ka&&(be=V0()):(mr=Y,xg="value"in mr?mr.value:mr.textContent,Ka=!0)),Ee=zd($,xe),0<Ee.length&&(xe=new q0(xe,s,null,c,Y),Q.push({event:xe,listeners:Ee}),be?xe.data=be:(be=Z0(c),be!==null&&(xe.data=be)))),(be=w1?A1(s,c):S1(s,c))&&($=zd($,"onBeforeInput"),0<$.length&&(Y=new q0("onBeforeInput","beforeinput",null,c,Y),Q.push({event:Y,listeners:$}),Y.data=be))}ww(Q,i)})}function tu(s,i,c){return{instance:s,listener:i,currentTarget:c}}function zd(s,i){for(var c=i+"Capture",f=[];s!==null;){var m=s,w=m.stateNode;m.tag===5&&w!==null&&(m=w,w=Dc(s,c),w!=null&&f.unshift(tu(s,w,m)),w=Dc(s,i),w!=null&&f.push(tu(s,w,m))),s=s.return}return f}function Ja(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Sw(s,i,c,f,m){for(var w=i._reactName,_=[];c!==null&&c!==f;){var P=c,N=P.alternate,$=P.stateNode;if(N!==null&&N===f)break;P.tag===5&&$!==null&&(P=$,m?(N=Dc(c,w),N!=null&&_.unshift(tu(c,N,P))):m||(N=Dc(c,w),N!=null&&_.push(tu(c,N,P)))),c=c.return}_.length!==0&&s.push({event:i,listeners:_})}var F1=/\r\n?/g,D1=/\u0000|\uFFFD/g;function Ew(s){return(typeof s=="string"?s:""+s).replace(F1,`
`).replace(D1,"")}function Bd(s,i,c){if(i=Ew(i),Ew(s)!==i&&c)throw Error(t(425))}function Ud(){}var Ug=null,$g=null;function Vg(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Wg=typeof setTimeout=="function"?setTimeout:void 0,O1=typeof clearTimeout=="function"?clearTimeout:void 0,bw=typeof Promise=="function"?Promise:void 0,j1=typeof queueMicrotask=="function"?queueMicrotask:typeof bw<"u"?function(s){return bw.resolve(null).then(s).catch(H1)}:Wg;function H1(s){setTimeout(function(){throw s})}function Gg(s,i){var c=i,f=0;do{var m=c.nextSibling;if(s.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(f===0){s.removeChild(m),Wc(i);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=m}while(c);Wc(i)}function vr(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function _w(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return s;i--}else c==="/$"&&i++}s=s.previousSibling}return null}var Za=Math.random().toString(36).slice(2),Ws="__reactFiber$"+Za,nu="__reactProps$"+Za,wi="__reactContainer$"+Za,qg="__reactEvents$"+Za,z1="__reactListeners$"+Za,B1="__reactHandles$"+Za;function vo(s){var i=s[Ws];if(i)return i;for(var c=s.parentNode;c;){if(i=c[wi]||c[Ws]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(s=_w(s);s!==null;){if(c=s[Ws])return c;s=_w(s)}return i}s=c,c=s.parentNode}return null}function su(s){return s=s[Ws]||s[wi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function el(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function $d(s){return s[nu]||null}var Xg=[],tl=-1;function wr(s){return{current:s}}function it(s){0>tl||(s.current=Xg[tl],Xg[tl]=null,tl--)}function tt(s,i){tl++,Xg[tl]=s.current,s.current=i}var Ar={},Zt=wr(Ar),En=wr(!1),wo=Ar;function nl(s,i){var c=s.type.contextTypes;if(!c)return Ar;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===i)return f.__reactInternalMemoizedMaskedChildContext;var m={},w;for(w in c)m[w]=i[w];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=m),m}function bn(s){return s=s.childContextTypes,s!=null}function Vd(){it(En),it(Zt)}function xw(s,i,c){if(Zt.current!==Ar)throw Error(t(168));tt(Zt,i),tt(En,c)}function Cw(s,i,c){var f=s.stateNode;if(i=i.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var m in f)if(!(m in i))throw Error(t(108,ye(s)||"Unknown",m));return ee({},c,f)}function Wd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ar,wo=Zt.current,tt(Zt,s),tt(En,En.current),!0}function kw(s,i,c){var f=s.stateNode;if(!f)throw Error(t(169));c?(s=Cw(s,i,wo),f.__reactInternalMemoizedMergedChildContext=s,it(En),it(Zt),tt(Zt,s)):it(En),tt(En,c)}var Ai=null,Gd=!1,Kg=!1;function Tw(s){Ai===null?Ai=[s]:Ai.push(s)}function U1(s){Gd=!0,Tw(s)}function Sr(){if(!Kg&&Ai!==null){Kg=!0;var s=0,i=Xe;try{var c=Ai;for(Xe=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}Ai=null,Gd=!1}catch(m){throw Ai!==null&&(Ai=Ai.slice(s+1)),P0(yg,Sr),m}finally{Xe=i,Kg=!1}}return null}var sl=[],il=0,qd=null,Xd=0,es=[],ts=0,Ao=null,Si=1,Ei="";function So(s,i){sl[il++]=Xd,sl[il++]=qd,qd=s,Xd=i}function Rw(s,i,c){es[ts++]=Si,es[ts++]=Ei,es[ts++]=Ao,Ao=s;var f=Si;s=Ei;var m=32-ys(f)-1;f&=~(1<<m),c+=1;var w=32-ys(i)+m;if(30<w){var _=m-m%5;w=(f&(1<<_)-1).toString(32),f>>=_,m-=_,Si=1<<32-ys(i)+m|c<<m|f,Ei=w+s}else Si=1<<w|c<<m|f,Ei=s}function Yg(s){s.return!==null&&(So(s,1),Rw(s,1,0))}function Qg(s){for(;s===qd;)qd=sl[--il],sl[il]=null,Xd=sl[--il],sl[il]=null;for(;s===Ao;)Ao=es[--ts],es[ts]=null,Ei=es[--ts],es[ts]=null,Si=es[--ts],es[ts]=null}var jn=null,Hn=null,at=!1,ws=null;function Pw(s,i){var c=rs(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=s,i=s.deletions,i===null?(s.deletions=[c],s.flags|=16):i.push(c)}function Lw(s,i){switch(s.tag){case 5:var c=s.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,jn=s,Hn=vr(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,jn=s,Hn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=Ao!==null?{id:Si,overflow:Ei}:null,s.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=rs(18,null,null,0),c.stateNode=i,c.return=s,s.child=c,jn=s,Hn=null,!0):!1;default:return!1}}function Jg(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Zg(s){if(at){var i=Hn;if(i){var c=i;if(!Lw(s,i)){if(Jg(s))throw Error(t(418));i=vr(c.nextSibling);var f=jn;i&&Lw(s,i)?Pw(f,c):(s.flags=s.flags&-4097|2,at=!1,jn=s)}}else{if(Jg(s))throw Error(t(418));s.flags=s.flags&-4097|2,at=!1,jn=s}}}function Mw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;jn=s}function Kd(s){if(s!==jn)return!1;if(!at)return Mw(s),at=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!Vg(s.type,s.memoizedProps)),i&&(i=Hn)){if(Jg(s))throw Nw(),Error(t(418));for(;i;)Pw(s,i),i=vr(i.nextSibling)}if(Mw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(i===0){Hn=vr(s.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}s=s.nextSibling}Hn=null}}else Hn=jn?vr(s.stateNode.nextSibling):null;return!0}function Nw(){for(var s=Hn;s;)s=vr(s.nextSibling)}function rl(){Hn=jn=null,at=!1}function em(s){ws===null?ws=[s]:ws.push(s)}var $1=I.ReactCurrentBatchConfig;function iu(s,i,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var f=c.stateNode}if(!f)throw Error(t(147,s));var m=f,w=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===w?i.ref:(i=function(_){var P=m.refs;_===null?delete P[w]:P[w]=_},i._stringRef=w,i)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function Yd(s,i){throw s=Object.prototype.toString.call(i),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function Iw(s){var i=s._init;return i(s._payload)}function Fw(s){function i(H,D){if(s){var B=H.deletions;B===null?(H.deletions=[D],H.flags|=16):B.push(D)}}function c(H,D){if(!s)return null;for(;D!==null;)i(H,D),D=D.sibling;return null}function f(H,D){for(H=new Map;D!==null;)D.key!==null?H.set(D.key,D):H.set(D.index,D),D=D.sibling;return H}function m(H,D){return H=Rr(H,D),H.index=0,H.sibling=null,H}function w(H,D,B){return H.index=B,s?(B=H.alternate,B!==null?(B=B.index,B<D?(H.flags|=2,D):B):(H.flags|=2,D)):(H.flags|=1048576,D)}function _(H){return s&&H.alternate===null&&(H.flags|=2),H}function P(H,D,B,J){return D===null||D.tag!==6?(D=Wm(B,H.mode,J),D.return=H,D):(D=m(D,B),D.return=H,D)}function N(H,D,B,J){var fe=B.type;return fe===U?Y(H,D,B.props.children,J,B.key):D!==null&&(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===me&&Iw(fe)===D.type)?(J=m(D,B.props),J.ref=iu(H,D,B),J.return=H,J):(J=Sf(B.type,B.key,B.props,null,H.mode,J),J.ref=iu(H,D,B),J.return=H,J)}function $(H,D,B,J){return D===null||D.tag!==4||D.stateNode.containerInfo!==B.containerInfo||D.stateNode.implementation!==B.implementation?(D=Gm(B,H.mode,J),D.return=H,D):(D=m(D,B.children||[]),D.return=H,D)}function Y(H,D,B,J,fe){return D===null||D.tag!==7?(D=Ro(B,H.mode,J,fe),D.return=H,D):(D=m(D,B),D.return=H,D)}function Q(H,D,B){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Wm(""+D,H.mode,B),D.return=H,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case j:return B=Sf(D.type,D.key,D.props,null,H.mode,B),B.ref=iu(H,null,D),B.return=H,B;case z:return D=Gm(D,H.mode,B),D.return=H,D;case me:var J=D._init;return Q(H,J(D._payload),B)}if(go(D)||ae(D))return D=Ro(D,H.mode,B,null),D.return=H,D;Yd(H,D)}return null}function X(H,D,B,J){var fe=D!==null?D.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return fe!==null?null:P(H,D,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case j:return B.key===fe?N(H,D,B,J):null;case z:return B.key===fe?$(H,D,B,J):null;case me:return fe=B._init,X(H,D,fe(B._payload),J)}if(go(B)||ae(B))return fe!==null?null:Y(H,D,B,J,null);Yd(H,B)}return null}function re(H,D,B,J,fe){if(typeof J=="string"&&J!==""||typeof J=="number")return H=H.get(B)||null,P(D,H,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case j:return H=H.get(J.key===null?B:J.key)||null,N(D,H,J,fe);case z:return H=H.get(J.key===null?B:J.key)||null,$(D,H,J,fe);case me:var Ee=J._init;return re(H,D,B,Ee(J._payload),fe)}if(go(J)||ae(J))return H=H.get(B)||null,Y(D,H,J,fe,null);Yd(D,J)}return null}function ue(H,D,B,J){for(var fe=null,Ee=null,be=D,xe=D=0,Ht=null;be!==null&&xe<B.length;xe++){be.index>xe?(Ht=be,be=null):Ht=be.sibling;var Ve=X(H,be,B[xe],J);if(Ve===null){be===null&&(be=Ht);break}s&&be&&Ve.alternate===null&&i(H,be),D=w(Ve,D,xe),Ee===null?fe=Ve:Ee.sibling=Ve,Ee=Ve,be=Ht}if(xe===B.length)return c(H,be),at&&So(H,xe),fe;if(be===null){for(;xe<B.length;xe++)be=Q(H,B[xe],J),be!==null&&(D=w(be,D,xe),Ee===null?fe=be:Ee.sibling=be,Ee=be);return at&&So(H,xe),fe}for(be=f(H,be);xe<B.length;xe++)Ht=re(be,H,xe,B[xe],J),Ht!==null&&(s&&Ht.alternate!==null&&be.delete(Ht.key===null?xe:Ht.key),D=w(Ht,D,xe),Ee===null?fe=Ht:Ee.sibling=Ht,Ee=Ht);return s&&be.forEach(function(Pr){return i(H,Pr)}),at&&So(H,xe),fe}function he(H,D,B,J){var fe=ae(B);if(typeof fe!="function")throw Error(t(150));if(B=fe.call(B),B==null)throw Error(t(151));for(var Ee=fe=null,be=D,xe=D=0,Ht=null,Ve=B.next();be!==null&&!Ve.done;xe++,Ve=B.next()){be.index>xe?(Ht=be,be=null):Ht=be.sibling;var Pr=X(H,be,Ve.value,J);if(Pr===null){be===null&&(be=Ht);break}s&&be&&Pr.alternate===null&&i(H,be),D=w(Pr,D,xe),Ee===null?fe=Pr:Ee.sibling=Pr,Ee=Pr,be=Ht}if(Ve.done)return c(H,be),at&&So(H,xe),fe;if(be===null){for(;!Ve.done;xe++,Ve=B.next())Ve=Q(H,Ve.value,J),Ve!==null&&(D=w(Ve,D,xe),Ee===null?fe=Ve:Ee.sibling=Ve,Ee=Ve);return at&&So(H,xe),fe}for(be=f(H,be);!Ve.done;xe++,Ve=B.next())Ve=re(be,H,xe,Ve.value,J),Ve!==null&&(s&&Ve.alternate!==null&&be.delete(Ve.key===null?xe:Ve.key),D=w(Ve,D,xe),Ee===null?fe=Ve:Ee.sibling=Ve,Ee=Ve);return s&&be.forEach(function(EC){return i(H,EC)}),at&&So(H,xe),fe}function St(H,D,B,J){if(typeof B=="object"&&B!==null&&B.type===U&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case j:e:{for(var fe=B.key,Ee=D;Ee!==null;){if(Ee.key===fe){if(fe=B.type,fe===U){if(Ee.tag===7){c(H,Ee.sibling),D=m(Ee,B.props.children),D.return=H,H=D;break e}}else if(Ee.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===me&&Iw(fe)===Ee.type){c(H,Ee.sibling),D=m(Ee,B.props),D.ref=iu(H,Ee,B),D.return=H,H=D;break e}c(H,Ee);break}else i(H,Ee);Ee=Ee.sibling}B.type===U?(D=Ro(B.props.children,H.mode,J,B.key),D.return=H,H=D):(J=Sf(B.type,B.key,B.props,null,H.mode,J),J.ref=iu(H,D,B),J.return=H,H=J)}return _(H);case z:e:{for(Ee=B.key;D!==null;){if(D.key===Ee)if(D.tag===4&&D.stateNode.containerInfo===B.containerInfo&&D.stateNode.implementation===B.implementation){c(H,D.sibling),D=m(D,B.children||[]),D.return=H,H=D;break e}else{c(H,D);break}else i(H,D);D=D.sibling}D=Gm(B,H.mode,J),D.return=H,H=D}return _(H);case me:return Ee=B._init,St(H,D,Ee(B._payload),J)}if(go(B))return ue(H,D,B,J);if(ae(B))return he(H,D,B,J);Yd(H,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,D!==null&&D.tag===6?(c(H,D.sibling),D=m(D,B),D.return=H,H=D):(c(H,D),D=Wm(B,H.mode,J),D.return=H,H=D),_(H)):c(H,D)}return St}var ol=Fw(!0),Dw=Fw(!1),Qd=wr(null),Jd=null,al=null,tm=null;function nm(){tm=al=Jd=null}function sm(s){var i=Qd.current;it(Qd),s._currentValue=i}function im(s,i,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),s===c)break;s=s.return}}function ll(s,i){Jd=s,tm=al=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&i&&(_n=!0),s.firstContext=null)}function ns(s){var i=s._currentValue;if(tm!==s)if(s={context:s,memoizedValue:i,next:null},al===null){if(Jd===null)throw Error(t(308));al=s,Jd.dependencies={lanes:0,firstContext:s}}else al=al.next=s;return i}var Eo=null;function rm(s){Eo===null?Eo=[s]:Eo.push(s)}function Ow(s,i,c,f){var m=i.interleaved;return m===null?(c.next=c,rm(i)):(c.next=m.next,m.next=c),i.interleaved=c,bi(s,f)}function bi(s,i){s.lanes|=i;var c=s.alternate;for(c!==null&&(c.lanes|=i),c=s,s=s.return;s!==null;)s.childLanes|=i,c=s.alternate,c!==null&&(c.childLanes|=i),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Er=!1;function om(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jw(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function _i(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function br(s,i,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,$e&2){var m=f.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),f.pending=i,bi(s,c)}return m=f.interleaved,m===null?(i.next=i,rm(f)):(i.next=m.next,m.next=i),f.interleaved=i,bi(s,c)}function Zd(s,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var f=i.lanes;f&=s.pendingLanes,c|=f,i.lanes=c,Ag(s,c)}}function Hw(s,i){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var m=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var _={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?m=w=_:w=w.next=_,c=c.next}while(c!==null);w===null?m=w=i:w=w.next=i}else m=w=i;c={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:w,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=i:s.next=i,c.lastBaseUpdate=i}function ef(s,i,c,f){var m=s.updateQueue;Er=!1;var w=m.firstBaseUpdate,_=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var N=P,$=N.next;N.next=null,_===null?w=$:_.next=$,_=N;var Y=s.alternate;Y!==null&&(Y=Y.updateQueue,P=Y.lastBaseUpdate,P!==_&&(P===null?Y.firstBaseUpdate=$:P.next=$,Y.lastBaseUpdate=N))}if(w!==null){var Q=m.baseState;_=0,Y=$=N=null,P=w;do{var X=P.lane,re=P.eventTime;if((f&X)===X){Y!==null&&(Y=Y.next={eventTime:re,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var ue=s,he=P;switch(X=i,re=c,he.tag){case 1:if(ue=he.payload,typeof ue=="function"){Q=ue.call(re,Q,X);break e}Q=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=he.payload,X=typeof ue=="function"?ue.call(re,Q,X):ue,X==null)break e;Q=ee({},Q,X);break e;case 2:Er=!0}}P.callback!==null&&P.lane!==0&&(s.flags|=64,X=m.effects,X===null?m.effects=[P]:X.push(P))}else re={eventTime:re,lane:X,tag:P.tag,payload:P.payload,callback:P.callback,next:null},Y===null?($=Y=re,N=Q):Y=Y.next=re,_|=X;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;X=P,P=X.next,X.next=null,m.lastBaseUpdate=X,m.shared.pending=null}}while(!0);if(Y===null&&(N=Q),m.baseState=N,m.firstBaseUpdate=$,m.lastBaseUpdate=Y,i=m.shared.interleaved,i!==null){m=i;do _|=m.lane,m=m.next;while(m!==i)}else w===null&&(m.shared.lanes=0);xo|=_,s.lanes=_,s.memoizedState=Q}}function zw(s,i,c){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var f=s[i],m=f.callback;if(m!==null){if(f.callback=null,f=c,typeof m!="function")throw Error(t(191,m));m.call(f)}}}var ru={},Gs=wr(ru),ou=wr(ru),au=wr(ru);function bo(s){if(s===ru)throw Error(t(174));return s}function am(s,i){switch(tt(au,i),tt(ou,s),tt(Gs,ru),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:$s(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=$s(i,s)}it(Gs),tt(Gs,i)}function cl(){it(Gs),it(ou),it(au)}function Bw(s){bo(au.current);var i=bo(Gs.current),c=$s(i,s.type);i!==c&&(tt(ou,s),tt(Gs,c))}function lm(s){ou.current===s&&(it(Gs),it(ou))}var ct=wr(0);function tf(s){for(var i=s;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var cm=[];function um(){for(var s=0;s<cm.length;s++)cm[s]._workInProgressVersionPrimary=null;cm.length=0}var nf=I.ReactCurrentDispatcher,hm=I.ReactCurrentBatchConfig,_o=0,ut=null,Rt=null,Ot=null,sf=!1,lu=!1,cu=0,V1=0;function en(){throw Error(t(321))}function dm(s,i){if(i===null)return!1;for(var c=0;c<i.length&&c<s.length;c++)if(!vs(s[c],i[c]))return!1;return!0}function fm(s,i,c,f,m,w){if(_o=w,ut=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,nf.current=s===null||s.memoizedState===null?X1:K1,s=c(f,m),lu){w=0;do{if(lu=!1,cu=0,25<=w)throw Error(t(301));w+=1,Ot=Rt=null,i.updateQueue=null,nf.current=Y1,s=c(f,m)}while(lu)}if(nf.current=af,i=Rt!==null&&Rt.next!==null,_o=0,Ot=Rt=ut=null,sf=!1,i)throw Error(t(300));return s}function pm(){var s=cu!==0;return cu=0,s}function qs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?ut.memoizedState=Ot=s:Ot=Ot.next=s,Ot}function ss(){if(Rt===null){var s=ut.alternate;s=s!==null?s.memoizedState:null}else s=Rt.next;var i=Ot===null?ut.memoizedState:Ot.next;if(i!==null)Ot=i,Rt=s;else{if(s===null)throw Error(t(310));Rt=s,s={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Ot===null?ut.memoizedState=Ot=s:Ot=Ot.next=s}return Ot}function uu(s,i){return typeof i=="function"?i(s):i}function gm(s){var i=ss(),c=i.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=Rt,m=f.baseQueue,w=c.pending;if(w!==null){if(m!==null){var _=m.next;m.next=w.next,w.next=_}f.baseQueue=m=w,c.pending=null}if(m!==null){w=m.next,f=f.baseState;var P=_=null,N=null,$=w;do{var Y=$.lane;if((_o&Y)===Y)N!==null&&(N=N.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),f=$.hasEagerState?$.eagerState:s(f,$.action);else{var Q={lane:Y,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};N===null?(P=N=Q,_=f):N=N.next=Q,ut.lanes|=Y,xo|=Y}$=$.next}while($!==null&&$!==w);N===null?_=f:N.next=P,vs(f,i.memoizedState)||(_n=!0),i.memoizedState=f,i.baseState=_,i.baseQueue=N,c.lastRenderedState=f}if(s=c.interleaved,s!==null){m=s;do w=m.lane,ut.lanes|=w,xo|=w,m=m.next;while(m!==s)}else m===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function mm(s){var i=ss(),c=i.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=c.dispatch,m=c.pending,w=i.memoizedState;if(m!==null){c.pending=null;var _=m=m.next;do w=s(w,_.action),_=_.next;while(_!==m);vs(w,i.memoizedState)||(_n=!0),i.memoizedState=w,i.baseQueue===null&&(i.baseState=w),c.lastRenderedState=w}return[w,f]}function Uw(){}function $w(s,i){var c=ut,f=ss(),m=i(),w=!vs(f.memoizedState,m);if(w&&(f.memoizedState=m,_n=!0),f=f.queue,ym(Gw.bind(null,c,f,s),[s]),f.getSnapshot!==i||w||Ot!==null&&Ot.memoizedState.tag&1){if(c.flags|=2048,hu(9,Ww.bind(null,c,f,m,i),void 0,null),jt===null)throw Error(t(349));_o&30||Vw(c,i,m)}return m}function Vw(s,i,c){s.flags|=16384,s={getSnapshot:i,value:c},i=ut.updateQueue,i===null?(i={lastEffect:null,stores:null},ut.updateQueue=i,i.stores=[s]):(c=i.stores,c===null?i.stores=[s]:c.push(s))}function Ww(s,i,c,f){i.value=c,i.getSnapshot=f,qw(i)&&Xw(s)}function Gw(s,i,c){return c(function(){qw(i)&&Xw(s)})}function qw(s){var i=s.getSnapshot;s=s.value;try{var c=i();return!vs(s,c)}catch{return!0}}function Xw(s){var i=bi(s,1);i!==null&&bs(i,s,1,-1)}function Kw(s){var i=qs();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uu,lastRenderedState:s},i.queue=s,s=s.dispatch=q1.bind(null,ut,s),[i.memoizedState,s]}function hu(s,i,c,f){return s={tag:s,create:i,destroy:c,deps:f,next:null},i=ut.updateQueue,i===null?(i={lastEffect:null,stores:null},ut.updateQueue=i,i.lastEffect=s.next=s):(c=i.lastEffect,c===null?i.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,i.lastEffect=s)),s}function Yw(){return ss().memoizedState}function rf(s,i,c,f){var m=qs();ut.flags|=s,m.memoizedState=hu(1|i,c,void 0,f===void 0?null:f)}function of(s,i,c,f){var m=ss();f=f===void 0?null:f;var w=void 0;if(Rt!==null){var _=Rt.memoizedState;if(w=_.destroy,f!==null&&dm(f,_.deps)){m.memoizedState=hu(i,c,w,f);return}}ut.flags|=s,m.memoizedState=hu(1|i,c,w,f)}function Qw(s,i){return rf(8390656,8,s,i)}function ym(s,i){return of(2048,8,s,i)}function Jw(s,i){return of(4,2,s,i)}function Zw(s,i){return of(4,4,s,i)}function eA(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function tA(s,i,c){return c=c!=null?c.concat([s]):null,of(4,4,eA.bind(null,i,s),c)}function vm(){}function nA(s,i){var c=ss();i=i===void 0?null:i;var f=c.memoizedState;return f!==null&&i!==null&&dm(i,f[1])?f[0]:(c.memoizedState=[s,i],s)}function sA(s,i){var c=ss();i=i===void 0?null:i;var f=c.memoizedState;return f!==null&&i!==null&&dm(i,f[1])?f[0]:(s=s(),c.memoizedState=[s,i],s)}function iA(s,i,c){return _o&21?(vs(c,i)||(c=I0(),ut.lanes|=c,xo|=c,s.baseState=!0),i):(s.baseState&&(s.baseState=!1,_n=!0),s.memoizedState=c)}function W1(s,i){var c=Xe;Xe=c!==0&&4>c?c:4,s(!0);var f=hm.transition;hm.transition={};try{s(!1),i()}finally{Xe=c,hm.transition=f}}function rA(){return ss().memoizedState}function G1(s,i,c){var f=kr(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},oA(s))aA(i,c);else if(c=Ow(s,i,c,f),c!==null){var m=pn();bs(c,s,f,m),lA(c,i,f)}}function q1(s,i,c){var f=kr(s),m={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(oA(s))aA(i,m);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=i.lastRenderedReducer,w!==null))try{var _=i.lastRenderedState,P=w(_,c);if(m.hasEagerState=!0,m.eagerState=P,vs(P,_)){var N=i.interleaved;N===null?(m.next=m,rm(i)):(m.next=N.next,N.next=m),i.interleaved=m;return}}catch{}finally{}c=Ow(s,i,m,f),c!==null&&(m=pn(),bs(c,s,f,m),lA(c,i,f))}}function oA(s){var i=s.alternate;return s===ut||i!==null&&i===ut}function aA(s,i){lu=sf=!0;var c=s.pending;c===null?i.next=i:(i.next=c.next,c.next=i),s.pending=i}function lA(s,i,c){if(c&4194240){var f=i.lanes;f&=s.pendingLanes,c|=f,i.lanes=c,Ag(s,c)}}var af={readContext:ns,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},X1={readContext:ns,useCallback:function(s,i){return qs().memoizedState=[s,i===void 0?null:i],s},useContext:ns,useEffect:Qw,useImperativeHandle:function(s,i,c){return c=c!=null?c.concat([s]):null,rf(4194308,4,eA.bind(null,i,s),c)},useLayoutEffect:function(s,i){return rf(4194308,4,s,i)},useInsertionEffect:function(s,i){return rf(4,2,s,i)},useMemo:function(s,i){var c=qs();return i=i===void 0?null:i,s=s(),c.memoizedState=[s,i],s},useReducer:function(s,i,c){var f=qs();return i=c!==void 0?c(i):i,f.memoizedState=f.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},f.queue=s,s=s.dispatch=G1.bind(null,ut,s),[f.memoizedState,s]},useRef:function(s){var i=qs();return s={current:s},i.memoizedState=s},useState:Kw,useDebugValue:vm,useDeferredValue:function(s){return qs().memoizedState=s},useTransition:function(){var s=Kw(!1),i=s[0];return s=W1.bind(null,s[1]),qs().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,c){var f=ut,m=qs();if(at){if(c===void 0)throw Error(t(407));c=c()}else{if(c=i(),jt===null)throw Error(t(349));_o&30||Vw(f,i,c)}m.memoizedState=c;var w={value:c,getSnapshot:i};return m.queue=w,Qw(Gw.bind(null,f,w,s),[s]),f.flags|=2048,hu(9,Ww.bind(null,f,w,c,i),void 0,null),c},useId:function(){var s=qs(),i=jt.identifierPrefix;if(at){var c=Ei,f=Si;c=(f&~(1<<32-ys(f)-1)).toString(32)+c,i=":"+i+"R"+c,c=cu++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=V1++,i=":"+i+"r"+c.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},K1={readContext:ns,useCallback:nA,useContext:ns,useEffect:ym,useImperativeHandle:tA,useInsertionEffect:Jw,useLayoutEffect:Zw,useMemo:sA,useReducer:gm,useRef:Yw,useState:function(){return gm(uu)},useDebugValue:vm,useDeferredValue:function(s){var i=ss();return iA(i,Rt.memoizedState,s)},useTransition:function(){var s=gm(uu)[0],i=ss().memoizedState;return[s,i]},useMutableSource:Uw,useSyncExternalStore:$w,useId:rA,unstable_isNewReconciler:!1},Y1={readContext:ns,useCallback:nA,useContext:ns,useEffect:ym,useImperativeHandle:tA,useInsertionEffect:Jw,useLayoutEffect:Zw,useMemo:sA,useReducer:mm,useRef:Yw,useState:function(){return mm(uu)},useDebugValue:vm,useDeferredValue:function(s){var i=ss();return Rt===null?i.memoizedState=s:iA(i,Rt.memoizedState,s)},useTransition:function(){var s=mm(uu)[0],i=ss().memoizedState;return[s,i]},useMutableSource:Uw,useSyncExternalStore:$w,useId:rA,unstable_isNewReconciler:!1};function As(s,i){if(s&&s.defaultProps){i=ee({},i),s=s.defaultProps;for(var c in s)i[c]===void 0&&(i[c]=s[c]);return i}return i}function wm(s,i,c,f){i=s.memoizedState,c=c(f,i),c=c==null?i:ee({},i,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var lf={isMounted:function(s){return(s=s._reactInternals)?yo(s)===s:!1},enqueueSetState:function(s,i,c){s=s._reactInternals;var f=pn(),m=kr(s),w=_i(f,m);w.payload=i,c!=null&&(w.callback=c),i=br(s,w,m),i!==null&&(bs(i,s,m,f),Zd(i,s,m))},enqueueReplaceState:function(s,i,c){s=s._reactInternals;var f=pn(),m=kr(s),w=_i(f,m);w.tag=1,w.payload=i,c!=null&&(w.callback=c),i=br(s,w,m),i!==null&&(bs(i,s,m,f),Zd(i,s,m))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var c=pn(),f=kr(s),m=_i(c,f);m.tag=2,i!=null&&(m.callback=i),i=br(s,m,f),i!==null&&(bs(i,s,f,c),Zd(i,s,f))}};function cA(s,i,c,f,m,w,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,w,_):i.prototype&&i.prototype.isPureReactComponent?!Qc(c,f)||!Qc(m,w):!0}function uA(s,i,c){var f=!1,m=Ar,w=i.contextType;return typeof w=="object"&&w!==null?w=ns(w):(m=bn(i)?wo:Zt.current,f=i.contextTypes,w=(f=f!=null)?nl(s,m):Ar),i=new i(c,w),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=lf,s.stateNode=i,i._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=w),i}function hA(s,i,c,f){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,f),i.state!==s&&lf.enqueueReplaceState(i,i.state,null)}function Am(s,i,c,f){var m=s.stateNode;m.props=c,m.state=s.memoizedState,m.refs={},om(s);var w=i.contextType;typeof w=="object"&&w!==null?m.context=ns(w):(w=bn(i)?wo:Zt.current,m.context=nl(s,w)),m.state=s.memoizedState,w=i.getDerivedStateFromProps,typeof w=="function"&&(wm(s,i,w,c),m.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(i=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),i!==m.state&&lf.enqueueReplaceState(m,m.state,null),ef(s,c,m,f),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function ul(s,i){try{var c="",f=i;do c+=Te(f),f=f.return;while(f);var m=c}catch(w){m=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:i,stack:m,digest:null}}function Sm(s,i,c){return{value:s,source:null,stack:c??null,digest:i??null}}function Em(s,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var Q1=typeof WeakMap=="function"?WeakMap:Map;function dA(s,i,c){c=_i(-1,c),c.tag=3,c.payload={element:null};var f=i.value;return c.callback=function(){gf||(gf=!0,Om=f),Em(s,i)},c}function fA(s,i,c){c=_i(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=i.value;c.payload=function(){return f(m)},c.callback=function(){Em(s,i)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){Em(s,i),typeof f!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var _=i.stack;this.componentDidCatch(i.value,{componentStack:_!==null?_:""})}),c}function pA(s,i,c){var f=s.pingCache;if(f===null){f=s.pingCache=new Q1;var m=new Set;f.set(i,m)}else m=f.get(i),m===void 0&&(m=new Set,f.set(i,m));m.has(c)||(m.add(c),s=hC.bind(null,s,i,c),i.then(s,s))}function gA(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function mA(s,i,c,f,m){return s.mode&1?(s.flags|=65536,s.lanes=m,s):(s===i?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=_i(-1,1),i.tag=2,br(c,i,1))),c.lanes|=1),s)}var J1=I.ReactCurrentOwner,_n=!1;function fn(s,i,c,f){i.child=s===null?Dw(i,null,c,f):ol(i,s.child,c,f)}function yA(s,i,c,f,m){c=c.render;var w=i.ref;return ll(i,m),f=fm(s,i,c,f,w,m),c=pm(),s!==null&&!_n?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~m,xi(s,i,m)):(at&&c&&Yg(i),i.flags|=1,fn(s,i,f,m),i.child)}function vA(s,i,c,f,m){if(s===null){var w=c.type;return typeof w=="function"&&!Vm(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=w,wA(s,i,w,f,m)):(s=Sf(c.type,null,f,i,i.mode,m),s.ref=i.ref,s.return=i,i.child=s)}if(w=s.child,!(s.lanes&m)){var _=w.memoizedProps;if(c=c.compare,c=c!==null?c:Qc,c(_,f)&&s.ref===i.ref)return xi(s,i,m)}return i.flags|=1,s=Rr(w,f),s.ref=i.ref,s.return=i,i.child=s}function wA(s,i,c,f,m){if(s!==null){var w=s.memoizedProps;if(Qc(w,f)&&s.ref===i.ref)if(_n=!1,i.pendingProps=f=w,(s.lanes&m)!==0)s.flags&131072&&(_n=!0);else return i.lanes=s.lanes,xi(s,i,m)}return bm(s,i,c,f,m)}function AA(s,i,c){var f=i.pendingProps,m=f.children,w=s!==null?s.memoizedState:null;if(f.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(dl,zn),zn|=c;else{if(!(c&1073741824))return s=w!==null?w.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,tt(dl,zn),zn|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=w!==null?w.baseLanes:c,tt(dl,zn),zn|=f}else w!==null?(f=w.baseLanes|c,i.memoizedState=null):f=c,tt(dl,zn),zn|=f;return fn(s,i,m,c),i.child}function SA(s,i){var c=i.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function bm(s,i,c,f,m){var w=bn(c)?wo:Zt.current;return w=nl(i,w),ll(i,m),c=fm(s,i,c,f,w,m),f=pm(),s!==null&&!_n?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~m,xi(s,i,m)):(at&&f&&Yg(i),i.flags|=1,fn(s,i,c,m),i.child)}function EA(s,i,c,f,m){if(bn(c)){var w=!0;Wd(i)}else w=!1;if(ll(i,m),i.stateNode===null)uf(s,i),uA(i,c,f),Am(i,c,f,m),f=!0;else if(s===null){var _=i.stateNode,P=i.memoizedProps;_.props=P;var N=_.context,$=c.contextType;typeof $=="object"&&$!==null?$=ns($):($=bn(c)?wo:Zt.current,$=nl(i,$));var Y=c.getDerivedStateFromProps,Q=typeof Y=="function"||typeof _.getSnapshotBeforeUpdate=="function";Q||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P!==f||N!==$)&&hA(i,_,f,$),Er=!1;var X=i.memoizedState;_.state=X,ef(i,f,_,m),N=i.memoizedState,P!==f||X!==N||En.current||Er?(typeof Y=="function"&&(wm(i,c,Y,f),N=i.memoizedState),(P=Er||cA(i,c,P,f,X,N,$))?(Q||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=N),_.props=f,_.state=N,_.context=$,f=P):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{_=i.stateNode,jw(s,i),P=i.memoizedProps,$=i.type===i.elementType?P:As(i.type,P),_.props=$,Q=i.pendingProps,X=_.context,N=c.contextType,typeof N=="object"&&N!==null?N=ns(N):(N=bn(c)?wo:Zt.current,N=nl(i,N));var re=c.getDerivedStateFromProps;(Y=typeof re=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P!==Q||X!==N)&&hA(i,_,f,N),Er=!1,X=i.memoizedState,_.state=X,ef(i,f,_,m);var ue=i.memoizedState;P!==Q||X!==ue||En.current||Er?(typeof re=="function"&&(wm(i,c,re,f),ue=i.memoizedState),($=Er||cA(i,c,$,f,X,ue,N)||!1)?(Y||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(f,ue,N),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(f,ue,N)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||P===s.memoizedProps&&X===s.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&X===s.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=ue),_.props=f,_.state=ue,_.context=N,f=$):(typeof _.componentDidUpdate!="function"||P===s.memoizedProps&&X===s.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&X===s.memoizedState||(i.flags|=1024),f=!1)}return _m(s,i,c,f,w,m)}function _m(s,i,c,f,m,w){SA(s,i);var _=(i.flags&128)!==0;if(!f&&!_)return m&&kw(i,c,!1),xi(s,i,w);f=i.stateNode,J1.current=i;var P=_&&typeof c.getDerivedStateFromError!="function"?null:f.render();return i.flags|=1,s!==null&&_?(i.child=ol(i,s.child,null,w),i.child=ol(i,null,P,w)):fn(s,i,P,w),i.memoizedState=f.state,m&&kw(i,c,!0),i.child}function bA(s){var i=s.stateNode;i.pendingContext?xw(s,i.pendingContext,i.pendingContext!==i.context):i.context&&xw(s,i.context,!1),am(s,i.containerInfo)}function _A(s,i,c,f,m){return rl(),em(m),i.flags|=256,fn(s,i,c,f),i.child}var xm={dehydrated:null,treeContext:null,retryLane:0};function Cm(s){return{baseLanes:s,cachePool:null,transitions:null}}function xA(s,i,c){var f=i.pendingProps,m=ct.current,w=!1,_=(i.flags&128)!==0,P;if((P=_)||(P=s!==null&&s.memoizedState===null?!1:(m&2)!==0),P?(w=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),tt(ct,m&1),s===null)return Zg(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(i.mode&1?s.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(_=f.children,s=f.fallback,w?(f=i.mode,w=i.child,_={mode:"hidden",children:_},!(f&1)&&w!==null?(w.childLanes=0,w.pendingProps=_):w=Ef(_,f,0,null),s=Ro(s,f,c,null),w.return=i,s.return=i,w.sibling=s,i.child=w,i.child.memoizedState=Cm(c),i.memoizedState=xm,s):km(i,_));if(m=s.memoizedState,m!==null&&(P=m.dehydrated,P!==null))return Z1(s,i,_,f,P,m,c);if(w){w=f.fallback,_=i.mode,m=s.child,P=m.sibling;var N={mode:"hidden",children:f.children};return!(_&1)&&i.child!==m?(f=i.child,f.childLanes=0,f.pendingProps=N,i.deletions=null):(f=Rr(m,N),f.subtreeFlags=m.subtreeFlags&14680064),P!==null?w=Rr(P,w):(w=Ro(w,_,c,null),w.flags|=2),w.return=i,f.return=i,f.sibling=w,i.child=f,f=w,w=i.child,_=s.child.memoizedState,_=_===null?Cm(c):{baseLanes:_.baseLanes|c,cachePool:null,transitions:_.transitions},w.memoizedState=_,w.childLanes=s.childLanes&~c,i.memoizedState=xm,f}return w=s.child,s=w.sibling,f=Rr(w,{mode:"visible",children:f.children}),!(i.mode&1)&&(f.lanes=c),f.return=i,f.sibling=null,s!==null&&(c=i.deletions,c===null?(i.deletions=[s],i.flags|=16):c.push(s)),i.child=f,i.memoizedState=null,f}function km(s,i){return i=Ef({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function cf(s,i,c,f){return f!==null&&em(f),ol(i,s.child,null,c),s=km(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function Z1(s,i,c,f,m,w,_){if(c)return i.flags&256?(i.flags&=-257,f=Sm(Error(t(422))),cf(s,i,_,f)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(w=f.fallback,m=i.mode,f=Ef({mode:"visible",children:f.children},m,0,null),w=Ro(w,m,_,null),w.flags|=2,f.return=i,w.return=i,f.sibling=w,i.child=f,i.mode&1&&ol(i,s.child,null,_),i.child.memoizedState=Cm(_),i.memoizedState=xm,w);if(!(i.mode&1))return cf(s,i,_,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var P=f.dgst;return f=P,w=Error(t(419)),f=Sm(w,f,void 0),cf(s,i,_,f)}if(P=(_&s.childLanes)!==0,_n||P){if(f=jt,f!==null){switch(_&-_){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(f.suspendedLanes|_)?0:m,m!==0&&m!==w.retryLane&&(w.retryLane=m,bi(s,m),bs(f,s,m,-1))}return $m(),f=Sm(Error(t(421))),cf(s,i,_,f)}return m.data==="$?"?(i.flags|=128,i.child=s.child,i=dC.bind(null,s),m._reactRetry=i,null):(s=w.treeContext,Hn=vr(m.nextSibling),jn=i,at=!0,ws=null,s!==null&&(es[ts++]=Si,es[ts++]=Ei,es[ts++]=Ao,Si=s.id,Ei=s.overflow,Ao=i),i=km(i,f.children),i.flags|=4096,i)}function CA(s,i,c){s.lanes|=i;var f=s.alternate;f!==null&&(f.lanes|=i),im(s.return,i,c)}function Tm(s,i,c,f,m){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:m}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=c,w.tailMode=m)}function kA(s,i,c){var f=i.pendingProps,m=f.revealOrder,w=f.tail;if(fn(s,i,f.children,c),f=ct.current,f&2)f=f&1|2,i.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&CA(s,c,i);else if(s.tag===19)CA(s,c,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(tt(ct,f),!(i.mode&1))i.memoizedState=null;else switch(m){case"forwards":for(c=i.child,m=null;c!==null;)s=c.alternate,s!==null&&tf(s)===null&&(m=c),c=c.sibling;c=m,c===null?(m=i.child,i.child=null):(m=c.sibling,c.sibling=null),Tm(i,!1,m,c,w);break;case"backwards":for(c=null,m=i.child,i.child=null;m!==null;){if(s=m.alternate,s!==null&&tf(s)===null){i.child=m;break}s=m.sibling,m.sibling=c,c=m,m=s}Tm(i,!0,c,null,w);break;case"together":Tm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function uf(s,i){!(i.mode&1)&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function xi(s,i,c){if(s!==null&&(i.dependencies=s.dependencies),xo|=i.lanes,!(c&i.childLanes))return null;if(s!==null&&i.child!==s.child)throw Error(t(153));if(i.child!==null){for(s=i.child,c=Rr(s,s.pendingProps),i.child=c,c.return=i;s.sibling!==null;)s=s.sibling,c=c.sibling=Rr(s,s.pendingProps),c.return=i;c.sibling=null}return i.child}function eC(s,i,c){switch(i.tag){case 3:bA(i),rl();break;case 5:Bw(i);break;case 1:bn(i.type)&&Wd(i);break;case 4:am(i,i.stateNode.containerInfo);break;case 10:var f=i.type._context,m=i.memoizedProps.value;tt(Qd,f._currentValue),f._currentValue=m;break;case 13:if(f=i.memoizedState,f!==null)return f.dehydrated!==null?(tt(ct,ct.current&1),i.flags|=128,null):c&i.child.childLanes?xA(s,i,c):(tt(ct,ct.current&1),s=xi(s,i,c),s!==null?s.sibling:null);tt(ct,ct.current&1);break;case 19:if(f=(c&i.childLanes)!==0,s.flags&128){if(f)return kA(s,i,c);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),tt(ct,ct.current),f)break;return null;case 22:case 23:return i.lanes=0,AA(s,i,c)}return xi(s,i,c)}var TA,Rm,RA,PA;TA=function(s,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Rm=function(){},RA=function(s,i,c,f){var m=s.memoizedProps;if(m!==f){s=i.stateNode,bo(Gs.current);var w=null;switch(c){case"input":m=ot(s,m),f=ot(s,f),w=[];break;case"select":m=ee({},m,{value:void 0}),f=ee({},f,{value:void 0}),w=[];break;case"textarea":m=Ic(s,m),f=Ic(s,f),w=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=Ud)}cg(c,f);var _;c=null;for($ in m)if(!f.hasOwnProperty($)&&m.hasOwnProperty($)&&m[$]!=null)if($==="style"){var P=m[$];for(_ in P)P.hasOwnProperty(_)&&(c||(c={}),c[_]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(r.hasOwnProperty($)?w||(w=[]):(w=w||[]).push($,null));for($ in f){var N=f[$];if(P=m!=null?m[$]:void 0,f.hasOwnProperty($)&&N!==P&&(N!=null||P!=null))if($==="style")if(P){for(_ in P)!P.hasOwnProperty(_)||N&&N.hasOwnProperty(_)||(c||(c={}),c[_]="");for(_ in N)N.hasOwnProperty(_)&&P[_]!==N[_]&&(c||(c={}),c[_]=N[_])}else c||(w||(w=[]),w.push($,c)),c=N;else $==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,P=P?P.__html:void 0,N!=null&&P!==N&&(w=w||[]).push($,N)):$==="children"?typeof N!="string"&&typeof N!="number"||(w=w||[]).push($,""+N):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(r.hasOwnProperty($)?(N!=null&&$==="onScroll"&&st("scroll",s),w||P===N||(w=[])):(w=w||[]).push($,N))}c&&(w=w||[]).push("style",c);var $=w;(i.updateQueue=$)&&(i.flags|=4)}},PA=function(s,i,c,f){c!==f&&(i.flags|=4)};function du(s,i){if(!at)switch(s.tailMode){case"hidden":i=s.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function tn(s){var i=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(i)for(var m=s.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)c|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=f,s.childLanes=c,i}function tC(s,i,c){var f=i.pendingProps;switch(Qg(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(i),null;case 1:return bn(i.type)&&Vd(),tn(i),null;case 3:return f=i.stateNode,cl(),it(En),it(Zt),um(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Kd(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,ws!==null&&(zm(ws),ws=null))),Rm(s,i),tn(i),null;case 5:lm(i);var m=bo(au.current);if(c=i.type,s!==null&&i.stateNode!=null)RA(s,i,c,f,m),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!f){if(i.stateNode===null)throw Error(t(166));return tn(i),null}if(s=bo(Gs.current),Kd(i)){f=i.stateNode,c=i.type;var w=i.memoizedProps;switch(f[Ws]=i,f[nu]=w,s=(i.mode&1)!==0,c){case"dialog":st("cancel",f),st("close",f);break;case"iframe":case"object":case"embed":st("load",f);break;case"video":case"audio":for(m=0;m<Zc.length;m++)st(Zc[m],f);break;case"source":st("error",f);break;case"img":case"image":case"link":st("error",f),st("load",f);break;case"details":st("toggle",f);break;case"input":Tt(f,w),st("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!w.multiple},st("invalid",f);break;case"textarea":yd(f,w),st("invalid",f)}cg(c,w),m=null;for(var _ in w)if(w.hasOwnProperty(_)){var P=w[_];_==="children"?typeof P=="string"?f.textContent!==P&&(w.suppressHydrationWarning!==!0&&Bd(f.textContent,P,s),m=["children",P]):typeof P=="number"&&f.textContent!==""+P&&(w.suppressHydrationWarning!==!0&&Bd(f.textContent,P,s),m=["children",""+P]):r.hasOwnProperty(_)&&P!=null&&_==="onScroll"&&st("scroll",f)}switch(c){case"input":Bs(f),hr(f,w,!0);break;case"textarea":Bs(f),wd(f);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(f.onclick=Ud)}f=m,i.updateQueue=f,f!==null&&(i.flags|=4)}else{_=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ad(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=_.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=_.createElement(c,{is:f.is}):(s=_.createElement(c),c==="select"&&(_=s,f.multiple?_.multiple=!0:f.size&&(_.size=f.size))):s=_.createElementNS(s,c),s[Ws]=i,s[nu]=f,TA(s,i,!1,!1),i.stateNode=s;e:{switch(_=ug(c,f),c){case"dialog":st("cancel",s),st("close",s),m=f;break;case"iframe":case"object":case"embed":st("load",s),m=f;break;case"video":case"audio":for(m=0;m<Zc.length;m++)st(Zc[m],s);m=f;break;case"source":st("error",s),m=f;break;case"img":case"image":case"link":st("error",s),st("load",s),m=f;break;case"details":st("toggle",s),m=f;break;case"input":Tt(s,f),m=ot(s,f),st("invalid",s);break;case"option":m=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},m=ee({},f,{value:void 0}),st("invalid",s);break;case"textarea":yd(s,f),m=Ic(s,f),st("invalid",s);break;default:m=f}cg(c,m),P=m;for(w in P)if(P.hasOwnProperty(w)){var N=P[w];w==="style"?w0(s,N):w==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&mo(s,N)):w==="children"?typeof N=="string"?(c!=="textarea"||N!=="")&&vi(s,N):typeof N=="number"&&vi(s,""+N):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(r.hasOwnProperty(w)?N!=null&&w==="onScroll"&&st("scroll",s):N!=null&&M(s,w,N,_))}switch(c){case"input":Bs(s),hr(s,f,!1);break;case"textarea":Bs(s),wd(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Ne(f.value));break;case"select":s.multiple=!!f.multiple,w=f.value,w!=null?ms(s,!!f.multiple,w,!1):f.defaultValue!=null&&ms(s,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Ud)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return tn(i),null;case 6:if(s&&i.stateNode!=null)PA(s,i,s.memoizedProps,f);else{if(typeof f!="string"&&i.stateNode===null)throw Error(t(166));if(c=bo(au.current),bo(Gs.current),Kd(i)){if(f=i.stateNode,c=i.memoizedProps,f[Ws]=i,(w=f.nodeValue!==c)&&(s=jn,s!==null))switch(s.tag){case 3:Bd(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Bd(f.nodeValue,c,(s.mode&1)!==0)}w&&(i.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[Ws]=i,i.stateNode=f}return tn(i),null;case 13:if(it(ct),f=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(at&&Hn!==null&&i.mode&1&&!(i.flags&128))Nw(),rl(),i.flags|=98560,w=!1;else if(w=Kd(i),f!==null&&f.dehydrated!==null){if(s===null){if(!w)throw Error(t(318));if(w=i.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[Ws]=i}else rl(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;tn(i),w=!1}else ws!==null&&(zm(ws),ws=null),w=!0;if(!w)return i.flags&65536?i:null}return i.flags&128?(i.lanes=c,i):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(i.child.flags|=8192,i.mode&1&&(s===null||ct.current&1?Pt===0&&(Pt=3):$m())),i.updateQueue!==null&&(i.flags|=4),tn(i),null);case 4:return cl(),Rm(s,i),s===null&&eu(i.stateNode.containerInfo),tn(i),null;case 10:return sm(i.type._context),tn(i),null;case 17:return bn(i.type)&&Vd(),tn(i),null;case 19:if(it(ct),w=i.memoizedState,w===null)return tn(i),null;if(f=(i.flags&128)!==0,_=w.rendering,_===null)if(f)du(w,!1);else{if(Pt!==0||s!==null&&s.flags&128)for(s=i.child;s!==null;){if(_=tf(s),_!==null){for(i.flags|=128,du(w,!1),f=_.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),i.subtreeFlags=0,f=c,c=i.child;c!==null;)w=c,s=f,w.flags&=14680066,_=w.alternate,_===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=_.childLanes,w.lanes=_.lanes,w.child=_.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=_.memoizedProps,w.memoizedState=_.memoizedState,w.updateQueue=_.updateQueue,w.type=_.type,s=_.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return tt(ct,ct.current&1|2),i.child}s=s.sibling}w.tail!==null&&At()>fl&&(i.flags|=128,f=!0,du(w,!1),i.lanes=4194304)}else{if(!f)if(s=tf(_),s!==null){if(i.flags|=128,f=!0,c=s.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),du(w,!0),w.tail===null&&w.tailMode==="hidden"&&!_.alternate&&!at)return tn(i),null}else 2*At()-w.renderingStartTime>fl&&c!==1073741824&&(i.flags|=128,f=!0,du(w,!1),i.lanes=4194304);w.isBackwards?(_.sibling=i.child,i.child=_):(c=w.last,c!==null?c.sibling=_:i.child=_,w.last=_)}return w.tail!==null?(i=w.tail,w.rendering=i,w.tail=i.sibling,w.renderingStartTime=At(),i.sibling=null,c=ct.current,tt(ct,f?c&1|2:c&1),i):(tn(i),null);case 22:case 23:return Um(),f=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(i.flags|=8192),f&&i.mode&1?zn&1073741824&&(tn(i),i.subtreeFlags&6&&(i.flags|=8192)):tn(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function nC(s,i){switch(Qg(i),i.tag){case 1:return bn(i.type)&&Vd(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return cl(),it(En),it(Zt),um(),s=i.flags,s&65536&&!(s&128)?(i.flags=s&-65537|128,i):null;case 5:return lm(i),null;case 13:if(it(ct),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(t(340));rl()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return it(ct),null;case 4:return cl(),null;case 10:return sm(i.type._context),null;case 22:case 23:return Um(),null;case 24:return null;default:return null}}var hf=!1,nn=!1,sC=typeof WeakSet=="function"?WeakSet:Set,le=null;function hl(s,i){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){mt(s,i,f)}else c.current=null}function Pm(s,i,c){try{c()}catch(f){mt(s,i,f)}}var LA=!1;function iC(s,i){if(Ug=Pd,s=cw(),Ig(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var m=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var _=0,P=-1,N=-1,$=0,Y=0,Q=s,X=null;t:for(;;){for(var re;Q!==c||m!==0&&Q.nodeType!==3||(P=_+m),Q!==w||f!==0&&Q.nodeType!==3||(N=_+f),Q.nodeType===3&&(_+=Q.nodeValue.length),(re=Q.firstChild)!==null;)X=Q,Q=re;for(;;){if(Q===s)break t;if(X===c&&++$===m&&(P=_),X===w&&++Y===f&&(N=_),(re=Q.nextSibling)!==null)break;Q=X,X=Q.parentNode}Q=re}c=P===-1||N===-1?null:{start:P,end:N}}else c=null}c=c||{start:0,end:0}}else c=null;for($g={focusedElem:s,selectionRange:c},Pd=!1,le=i;le!==null;)if(i=le,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,le=s;else for(;le!==null;){i=le;try{var ue=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var he=ue.memoizedProps,St=ue.memoizedState,H=i.stateNode,D=H.getSnapshotBeforeUpdate(i.elementType===i.type?he:As(i.type,he),St);H.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var B=i.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(J){mt(i,i.return,J)}if(s=i.sibling,s!==null){s.return=i.return,le=s;break}le=i.return}return ue=LA,LA=!1,ue}function fu(s,i,c){var f=i.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&s)===s){var w=m.destroy;m.destroy=void 0,w!==void 0&&Pm(i,c,w)}m=m.next}while(m!==f)}}function df(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==i)}}function Lm(s){var i=s.ref;if(i!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof i=="function"?i(s):i.current=s}}function MA(s){var i=s.alternate;i!==null&&(s.alternate=null,MA(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[Ws],delete i[nu],delete i[qg],delete i[z1],delete i[B1])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function NA(s){return s.tag===5||s.tag===3||s.tag===4}function IA(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||NA(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Mm(s,i,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(s,i):c.insertBefore(s,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(s,c)):(i=c,i.appendChild(s)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=Ud));else if(f!==4&&(s=s.child,s!==null))for(Mm(s,i,c),s=s.sibling;s!==null;)Mm(s,i,c),s=s.sibling}function Nm(s,i,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,i?c.insertBefore(s,i):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(Nm(s,i,c),s=s.sibling;s!==null;)Nm(s,i,c),s=s.sibling}var Gt=null,Ss=!1;function _r(s,i,c){for(c=c.child;c!==null;)FA(s,i,c),c=c.sibling}function FA(s,i,c){if(Vs&&typeof Vs.onCommitFiberUnmount=="function")try{Vs.onCommitFiberUnmount(_d,c)}catch{}switch(c.tag){case 5:nn||hl(c,i);case 6:var f=Gt,m=Ss;Gt=null,_r(s,i,c),Gt=f,Ss=m,Gt!==null&&(Ss?(s=Gt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Gt.removeChild(c.stateNode));break;case 18:Gt!==null&&(Ss?(s=Gt,c=c.stateNode,s.nodeType===8?Gg(s.parentNode,c):s.nodeType===1&&Gg(s,c),Wc(s)):Gg(Gt,c.stateNode));break;case 4:f=Gt,m=Ss,Gt=c.stateNode.containerInfo,Ss=!0,_r(s,i,c),Gt=f,Ss=m;break;case 0:case 11:case 14:case 15:if(!nn&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var w=m,_=w.destroy;w=w.tag,_!==void 0&&(w&2||w&4)&&Pm(c,i,_),m=m.next}while(m!==f)}_r(s,i,c);break;case 1:if(!nn&&(hl(c,i),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(P){mt(c,i,P)}_r(s,i,c);break;case 21:_r(s,i,c);break;case 22:c.mode&1?(nn=(f=nn)||c.memoizedState!==null,_r(s,i,c),nn=f):_r(s,i,c);break;default:_r(s,i,c)}}function DA(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new sC),i.forEach(function(f){var m=fC.bind(null,s,f);c.has(f)||(c.add(f),f.then(m,m))})}}function Es(s,i){var c=i.deletions;if(c!==null)for(var f=0;f<c.length;f++){var m=c[f];try{var w=s,_=i,P=_;e:for(;P!==null;){switch(P.tag){case 5:Gt=P.stateNode,Ss=!1;break e;case 3:Gt=P.stateNode.containerInfo,Ss=!0;break e;case 4:Gt=P.stateNode.containerInfo,Ss=!0;break e}P=P.return}if(Gt===null)throw Error(t(160));FA(w,_,m),Gt=null,Ss=!1;var N=m.alternate;N!==null&&(N.return=null),m.return=null}catch($){mt(m,i,$)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)OA(i,s),i=i.sibling}function OA(s,i){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Es(i,s),Xs(s),f&4){try{fu(3,s,s.return),df(3,s)}catch(he){mt(s,s.return,he)}try{fu(5,s,s.return)}catch(he){mt(s,s.return,he)}}break;case 1:Es(i,s),Xs(s),f&512&&c!==null&&hl(c,c.return);break;case 5:if(Es(i,s),Xs(s),f&512&&c!==null&&hl(c,c.return),s.flags&32){var m=s.stateNode;try{vi(m,"")}catch(he){mt(s,s.return,he)}}if(f&4&&(m=s.stateNode,m!=null)){var w=s.memoizedProps,_=c!==null?c.memoizedProps:w,P=s.type,N=s.updateQueue;if(s.updateQueue=null,N!==null)try{P==="input"&&w.type==="radio"&&w.name!=null&&wt(m,w),ug(P,_);var $=ug(P,w);for(_=0;_<N.length;_+=2){var Y=N[_],Q=N[_+1];Y==="style"?w0(m,Q):Y==="dangerouslySetInnerHTML"?mo(m,Q):Y==="children"?vi(m,Q):M(m,Y,Q,$)}switch(P){case"input":Us(m,w);break;case"textarea":vd(m,w);break;case"select":var X=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!w.multiple;var re=w.value;re!=null?ms(m,!!w.multiple,re,!1):X!==!!w.multiple&&(w.defaultValue!=null?ms(m,!!w.multiple,w.defaultValue,!0):ms(m,!!w.multiple,w.multiple?[]:"",!1))}m[nu]=w}catch(he){mt(s,s.return,he)}}break;case 6:if(Es(i,s),Xs(s),f&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,w=s.memoizedProps;try{m.nodeValue=w}catch(he){mt(s,s.return,he)}}break;case 3:if(Es(i,s),Xs(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Wc(i.containerInfo)}catch(he){mt(s,s.return,he)}break;case 4:Es(i,s),Xs(s);break;case 13:Es(i,s),Xs(s),m=s.child,m.flags&8192&&(w=m.memoizedState!==null,m.stateNode.isHidden=w,!w||m.alternate!==null&&m.alternate.memoizedState!==null||(Dm=At())),f&4&&DA(s);break;case 22:if(Y=c!==null&&c.memoizedState!==null,s.mode&1?(nn=($=nn)||Y,Es(i,s),nn=$):Es(i,s),Xs(s),f&8192){if($=s.memoizedState!==null,(s.stateNode.isHidden=$)&&!Y&&s.mode&1)for(le=s,Y=s.child;Y!==null;){for(Q=le=Y;le!==null;){switch(X=le,re=X.child,X.tag){case 0:case 11:case 14:case 15:fu(4,X,X.return);break;case 1:hl(X,X.return);var ue=X.stateNode;if(typeof ue.componentWillUnmount=="function"){f=X,c=X.return;try{i=f,ue.props=i.memoizedProps,ue.state=i.memoizedState,ue.componentWillUnmount()}catch(he){mt(f,c,he)}}break;case 5:hl(X,X.return);break;case 22:if(X.memoizedState!==null){zA(Q);continue}}re!==null?(re.return=X,le=re):zA(Q)}Y=Y.sibling}e:for(Y=null,Q=s;;){if(Q.tag===5){if(Y===null){Y=Q;try{m=Q.stateNode,$?(w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(P=Q.stateNode,N=Q.memoizedProps.style,_=N!=null&&N.hasOwnProperty("display")?N.display:null,P.style.display=v0("display",_))}catch(he){mt(s,s.return,he)}}}else if(Q.tag===6){if(Y===null)try{Q.stateNode.nodeValue=$?"":Q.memoizedProps}catch(he){mt(s,s.return,he)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===s)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===s)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===s)break e;Y===Q&&(Y=null),Q=Q.return}Y===Q&&(Y=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:Es(i,s),Xs(s),f&4&&DA(s);break;case 21:break;default:Es(i,s),Xs(s)}}function Xs(s){var i=s.flags;if(i&2){try{e:{for(var c=s.return;c!==null;){if(NA(c)){var f=c;break e}c=c.return}throw Error(t(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(vi(m,""),f.flags&=-33);var w=IA(s);Nm(s,w,m);break;case 3:case 4:var _=f.stateNode.containerInfo,P=IA(s);Mm(s,P,_);break;default:throw Error(t(161))}}catch(N){mt(s,s.return,N)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function rC(s,i,c){le=s,jA(s)}function jA(s,i,c){for(var f=(s.mode&1)!==0;le!==null;){var m=le,w=m.child;if(m.tag===22&&f){var _=m.memoizedState!==null||hf;if(!_){var P=m.alternate,N=P!==null&&P.memoizedState!==null||nn;P=hf;var $=nn;if(hf=_,(nn=N)&&!$)for(le=m;le!==null;)_=le,N=_.child,_.tag===22&&_.memoizedState!==null?BA(m):N!==null?(N.return=_,le=N):BA(m);for(;w!==null;)le=w,jA(w),w=w.sibling;le=m,hf=P,nn=$}HA(s)}else m.subtreeFlags&8772&&w!==null?(w.return=m,le=w):HA(s)}}function HA(s){for(;le!==null;){var i=le;if(i.flags&8772){var c=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:nn||df(5,i);break;case 1:var f=i.stateNode;if(i.flags&4&&!nn)if(c===null)f.componentDidMount();else{var m=i.elementType===i.type?c.memoizedProps:As(i.type,c.memoizedProps);f.componentDidUpdate(m,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var w=i.updateQueue;w!==null&&zw(i,w,f);break;case 3:var _=i.updateQueue;if(_!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}zw(i,_,c)}break;case 5:var P=i.stateNode;if(c===null&&i.flags&4){c=P;var N=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&c.focus();break;case"img":N.src&&(c.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var $=i.alternate;if($!==null){var Y=$.memoizedState;if(Y!==null){var Q=Y.dehydrated;Q!==null&&Wc(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}nn||i.flags&512&&Lm(i)}catch(X){mt(i,i.return,X)}}if(i===s){le=null;break}if(c=i.sibling,c!==null){c.return=i.return,le=c;break}le=i.return}}function zA(s){for(;le!==null;){var i=le;if(i===s){le=null;break}var c=i.sibling;if(c!==null){c.return=i.return,le=c;break}le=i.return}}function BA(s){for(;le!==null;){var i=le;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{df(4,i)}catch(N){mt(i,c,N)}break;case 1:var f=i.stateNode;if(typeof f.componentDidMount=="function"){var m=i.return;try{f.componentDidMount()}catch(N){mt(i,m,N)}}var w=i.return;try{Lm(i)}catch(N){mt(i,w,N)}break;case 5:var _=i.return;try{Lm(i)}catch(N){mt(i,_,N)}}}catch(N){mt(i,i.return,N)}if(i===s){le=null;break}var P=i.sibling;if(P!==null){P.return=i.return,le=P;break}le=i.return}}var oC=Math.ceil,ff=I.ReactCurrentDispatcher,Im=I.ReactCurrentOwner,is=I.ReactCurrentBatchConfig,$e=0,jt=null,_t=null,qt=0,zn=0,dl=wr(0),Pt=0,pu=null,xo=0,pf=0,Fm=0,gu=null,xn=null,Dm=0,fl=1/0,Ci=null,gf=!1,Om=null,xr=null,mf=!1,Cr=null,yf=0,mu=0,jm=null,vf=-1,wf=0;function pn(){return $e&6?At():vf!==-1?vf:vf=At()}function kr(s){return s.mode&1?$e&2&&qt!==0?qt&-qt:$1.transition!==null?(wf===0&&(wf=I0()),wf):(s=Xe,s!==0||(s=window.event,s=s===void 0?16:$0(s.type)),s):1}function bs(s,i,c,f){if(50<mu)throw mu=0,jm=null,Error(t(185));zc(s,c,f),(!($e&2)||s!==jt)&&(s===jt&&(!($e&2)&&(pf|=c),Pt===4&&Tr(s,qt)),Cn(s,f),c===1&&$e===0&&!(i.mode&1)&&(fl=At()+500,Gd&&Sr()))}function Cn(s,i){var c=s.callbackNode;$x(s,i);var f=kd(s,s===jt?qt:0);if(f===0)c!==null&&L0(c),s.callbackNode=null,s.callbackPriority=0;else if(i=f&-f,s.callbackPriority!==i){if(c!=null&&L0(c),i===1)s.tag===0?U1($A.bind(null,s)):Tw($A.bind(null,s)),j1(function(){!($e&6)&&Sr()}),c=null;else{switch(F0(f)){case 1:c=yg;break;case 4:c=M0;break;case 16:c=bd;break;case 536870912:c=N0;break;default:c=bd}c=QA(c,UA.bind(null,s))}s.callbackPriority=i,s.callbackNode=c}}function UA(s,i){if(vf=-1,wf=0,$e&6)throw Error(t(327));var c=s.callbackNode;if(pl()&&s.callbackNode!==c)return null;var f=kd(s,s===jt?qt:0);if(f===0)return null;if(f&30||f&s.expiredLanes||i)i=Af(s,f);else{i=f;var m=$e;$e|=2;var w=WA();(jt!==s||qt!==i)&&(Ci=null,fl=At()+500,ko(s,i));do try{cC();break}catch(P){VA(s,P)}while(!0);nm(),ff.current=w,$e=m,_t!==null?i=0:(jt=null,qt=0,i=Pt)}if(i!==0){if(i===2&&(m=vg(s),m!==0&&(f=m,i=Hm(s,m))),i===1)throw c=pu,ko(s,0),Tr(s,f),Cn(s,At()),c;if(i===6)Tr(s,f);else{if(m=s.current.alternate,!(f&30)&&!aC(m)&&(i=Af(s,f),i===2&&(w=vg(s),w!==0&&(f=w,i=Hm(s,w))),i===1))throw c=pu,ko(s,0),Tr(s,f),Cn(s,At()),c;switch(s.finishedWork=m,s.finishedLanes=f,i){case 0:case 1:throw Error(t(345));case 2:To(s,xn,Ci);break;case 3:if(Tr(s,f),(f&130023424)===f&&(i=Dm+500-At(),10<i)){if(kd(s,0)!==0)break;if(m=s.suspendedLanes,(m&f)!==f){pn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Wg(To.bind(null,s,xn,Ci),i);break}To(s,xn,Ci);break;case 4:if(Tr(s,f),(f&4194240)===f)break;for(i=s.eventTimes,m=-1;0<f;){var _=31-ys(f);w=1<<_,_=i[_],_>m&&(m=_),f&=~w}if(f=m,f=At()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*oC(f/1960))-f,10<f){s.timeoutHandle=Wg(To.bind(null,s,xn,Ci),f);break}To(s,xn,Ci);break;case 5:To(s,xn,Ci);break;default:throw Error(t(329))}}}return Cn(s,At()),s.callbackNode===c?UA.bind(null,s):null}function Hm(s,i){var c=gu;return s.current.memoizedState.isDehydrated&&(ko(s,i).flags|=256),s=Af(s,i),s!==2&&(i=xn,xn=c,i!==null&&zm(i)),s}function zm(s){xn===null?xn=s:xn.push.apply(xn,s)}function aC(s){for(var i=s;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var m=c[f],w=m.getSnapshot;m=m.value;try{if(!vs(w(),m))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Tr(s,i){for(i&=~Fm,i&=~pf,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var c=31-ys(i),f=1<<c;s[c]=-1,i&=~f}}function $A(s){if($e&6)throw Error(t(327));pl();var i=kd(s,0);if(!(i&1))return Cn(s,At()),null;var c=Af(s,i);if(s.tag!==0&&c===2){var f=vg(s);f!==0&&(i=f,c=Hm(s,f))}if(c===1)throw c=pu,ko(s,0),Tr(s,i),Cn(s,At()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,To(s,xn,Ci),Cn(s,At()),null}function Bm(s,i){var c=$e;$e|=1;try{return s(i)}finally{$e=c,$e===0&&(fl=At()+500,Gd&&Sr())}}function Co(s){Cr!==null&&Cr.tag===0&&!($e&6)&&pl();var i=$e;$e|=1;var c=is.transition,f=Xe;try{if(is.transition=null,Xe=1,s)return s()}finally{Xe=f,is.transition=c,$e=i,!($e&6)&&Sr()}}function Um(){zn=dl.current,it(dl)}function ko(s,i){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,O1(c)),_t!==null)for(c=_t.return;c!==null;){var f=c;switch(Qg(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Vd();break;case 3:cl(),it(En),it(Zt),um();break;case 5:lm(f);break;case 4:cl();break;case 13:it(ct);break;case 19:it(ct);break;case 10:sm(f.type._context);break;case 22:case 23:Um()}c=c.return}if(jt=s,_t=s=Rr(s.current,null),qt=zn=i,Pt=0,pu=null,Fm=pf=xo=0,xn=gu=null,Eo!==null){for(i=0;i<Eo.length;i++)if(c=Eo[i],f=c.interleaved,f!==null){c.interleaved=null;var m=f.next,w=c.pending;if(w!==null){var _=w.next;w.next=m,f.next=_}c.pending=f}Eo=null}return s}function VA(s,i){do{var c=_t;try{if(nm(),nf.current=af,sf){for(var f=ut.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}sf=!1}if(_o=0,Ot=Rt=ut=null,lu=!1,cu=0,Im.current=null,c===null||c.return===null){Pt=1,pu=i,_t=null;break}e:{var w=s,_=c.return,P=c,N=i;if(i=qt,P.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=N,Y=P,Q=Y.tag;if(!(Y.mode&1)&&(Q===0||Q===11||Q===15)){var X=Y.alternate;X?(Y.updateQueue=X.updateQueue,Y.memoizedState=X.memoizedState,Y.lanes=X.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var re=gA(_);if(re!==null){re.flags&=-257,mA(re,_,P,w,i),re.mode&1&&pA(w,$,i),i=re,N=$;var ue=i.updateQueue;if(ue===null){var he=new Set;he.add(N),i.updateQueue=he}else ue.add(N);break e}else{if(!(i&1)){pA(w,$,i),$m();break e}N=Error(t(426))}}else if(at&&P.mode&1){var St=gA(_);if(St!==null){!(St.flags&65536)&&(St.flags|=256),mA(St,_,P,w,i),em(ul(N,P));break e}}w=N=ul(N,P),Pt!==4&&(Pt=2),gu===null?gu=[w]:gu.push(w),w=_;do{switch(w.tag){case 3:w.flags|=65536,i&=-i,w.lanes|=i;var H=dA(w,N,i);Hw(w,H);break e;case 1:P=N;var D=w.type,B=w.stateNode;if(!(w.flags&128)&&(typeof D.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(xr===null||!xr.has(B)))){w.flags|=65536,i&=-i,w.lanes|=i;var J=fA(w,P,i);Hw(w,J);break e}}w=w.return}while(w!==null)}qA(c)}catch(fe){i=fe,_t===c&&c!==null&&(_t=c=c.return);continue}break}while(!0)}function WA(){var s=ff.current;return ff.current=af,s===null?af:s}function $m(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),jt===null||!(xo&268435455)&&!(pf&268435455)||Tr(jt,qt)}function Af(s,i){var c=$e;$e|=2;var f=WA();(jt!==s||qt!==i)&&(Ci=null,ko(s,i));do try{lC();break}catch(m){VA(s,m)}while(!0);if(nm(),$e=c,ff.current=f,_t!==null)throw Error(t(261));return jt=null,qt=0,Pt}function lC(){for(;_t!==null;)GA(_t)}function cC(){for(;_t!==null&&!Ix();)GA(_t)}function GA(s){var i=YA(s.alternate,s,zn);s.memoizedProps=s.pendingProps,i===null?qA(s):_t=i,Im.current=null}function qA(s){var i=s;do{var c=i.alternate;if(s=i.return,i.flags&32768){if(c=nC(c,i),c!==null){c.flags&=32767,_t=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Pt=6,_t=null;return}}else if(c=tC(c,i,zn),c!==null){_t=c;return}if(i=i.sibling,i!==null){_t=i;return}_t=i=s}while(i!==null);Pt===0&&(Pt=5)}function To(s,i,c){var f=Xe,m=is.transition;try{is.transition=null,Xe=1,uC(s,i,c,f)}finally{is.transition=m,Xe=f}return null}function uC(s,i,c,f){do pl();while(Cr!==null);if($e&6)throw Error(t(327));c=s.finishedWork;var m=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var w=c.lanes|c.childLanes;if(Vx(s,w),s===jt&&(_t=jt=null,qt=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||mf||(mf=!0,QA(bd,function(){return pl(),null})),w=(c.flags&15990)!==0,c.subtreeFlags&15990||w){w=is.transition,is.transition=null;var _=Xe;Xe=1;var P=$e;$e|=4,Im.current=null,iC(s,c),OA(c,s),P1($g),Pd=!!Ug,$g=Ug=null,s.current=c,rC(c),Fx(),$e=P,Xe=_,is.transition=w}else s.current=c;if(mf&&(mf=!1,Cr=s,yf=m),w=s.pendingLanes,w===0&&(xr=null),jx(c.stateNode),Cn(s,At()),i!==null)for(f=s.onRecoverableError,c=0;c<i.length;c++)m=i[c],f(m.value,{componentStack:m.stack,digest:m.digest});if(gf)throw gf=!1,s=Om,Om=null,s;return yf&1&&s.tag!==0&&pl(),w=s.pendingLanes,w&1?s===jm?mu++:(mu=0,jm=s):mu=0,Sr(),null}function pl(){if(Cr!==null){var s=F0(yf),i=is.transition,c=Xe;try{if(is.transition=null,Xe=16>s?16:s,Cr===null)var f=!1;else{if(s=Cr,Cr=null,yf=0,$e&6)throw Error(t(331));var m=$e;for($e|=4,le=s.current;le!==null;){var w=le,_=w.child;if(le.flags&16){var P=w.deletions;if(P!==null){for(var N=0;N<P.length;N++){var $=P[N];for(le=$;le!==null;){var Y=le;switch(Y.tag){case 0:case 11:case 15:fu(8,Y,w)}var Q=Y.child;if(Q!==null)Q.return=Y,le=Q;else for(;le!==null;){Y=le;var X=Y.sibling,re=Y.return;if(MA(Y),Y===$){le=null;break}if(X!==null){X.return=re,le=X;break}le=re}}}var ue=w.alternate;if(ue!==null){var he=ue.child;if(he!==null){ue.child=null;do{var St=he.sibling;he.sibling=null,he=St}while(he!==null)}}le=w}}if(w.subtreeFlags&2064&&_!==null)_.return=w,le=_;else e:for(;le!==null;){if(w=le,w.flags&2048)switch(w.tag){case 0:case 11:case 15:fu(9,w,w.return)}var H=w.sibling;if(H!==null){H.return=w.return,le=H;break e}le=w.return}}var D=s.current;for(le=D;le!==null;){_=le;var B=_.child;if(_.subtreeFlags&2064&&B!==null)B.return=_,le=B;else e:for(_=D;le!==null;){if(P=le,P.flags&2048)try{switch(P.tag){case 0:case 11:case 15:df(9,P)}}catch(fe){mt(P,P.return,fe)}if(P===_){le=null;break e}var J=P.sibling;if(J!==null){J.return=P.return,le=J;break e}le=P.return}}if($e=m,Sr(),Vs&&typeof Vs.onPostCommitFiberRoot=="function")try{Vs.onPostCommitFiberRoot(_d,s)}catch{}f=!0}return f}finally{Xe=c,is.transition=i}}return!1}function XA(s,i,c){i=ul(c,i),i=dA(s,i,1),s=br(s,i,1),i=pn(),s!==null&&(zc(s,1,i),Cn(s,i))}function mt(s,i,c){if(s.tag===3)XA(s,s,c);else for(;i!==null;){if(i.tag===3){XA(i,s,c);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(xr===null||!xr.has(f))){s=ul(c,s),s=fA(i,s,1),i=br(i,s,1),s=pn(),i!==null&&(zc(i,1,s),Cn(i,s));break}}i=i.return}}function hC(s,i,c){var f=s.pingCache;f!==null&&f.delete(i),i=pn(),s.pingedLanes|=s.suspendedLanes&c,jt===s&&(qt&c)===c&&(Pt===4||Pt===3&&(qt&130023424)===qt&&500>At()-Dm?ko(s,0):Fm|=c),Cn(s,i)}function KA(s,i){i===0&&(s.mode&1?(i=Cd,Cd<<=1,!(Cd&130023424)&&(Cd=4194304)):i=1);var c=pn();s=bi(s,i),s!==null&&(zc(s,i,c),Cn(s,c))}function dC(s){var i=s.memoizedState,c=0;i!==null&&(c=i.retryLane),KA(s,c)}function fC(s,i){var c=0;switch(s.tag){case 13:var f=s.stateNode,m=s.memoizedState;m!==null&&(c=m.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(i),KA(s,c)}var YA;YA=function(s,i,c){if(s!==null)if(s.memoizedProps!==i.pendingProps||En.current)_n=!0;else{if(!(s.lanes&c)&&!(i.flags&128))return _n=!1,eC(s,i,c);_n=!!(s.flags&131072)}else _n=!1,at&&i.flags&1048576&&Rw(i,Xd,i.index);switch(i.lanes=0,i.tag){case 2:var f=i.type;uf(s,i),s=i.pendingProps;var m=nl(i,Zt.current);ll(i,c),m=fm(null,i,f,s,m,c);var w=pm();return i.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,bn(f)?(w=!0,Wd(i)):w=!1,i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,om(i),m.updater=lf,i.stateNode=m,m._reactInternals=i,Am(i,f,s,c),i=_m(null,i,f,!0,w,c)):(i.tag=0,at&&w&&Yg(i),fn(null,i,m,c),i=i.child),i;case 16:f=i.elementType;e:{switch(uf(s,i),s=i.pendingProps,m=f._init,f=m(f._payload),i.type=f,m=i.tag=gC(f),s=As(f,s),m){case 0:i=bm(null,i,f,s,c);break e;case 1:i=EA(null,i,f,s,c);break e;case 11:i=yA(null,i,f,s,c);break e;case 14:i=vA(null,i,f,As(f.type,s),c);break e}throw Error(t(306,f,""))}return i;case 0:return f=i.type,m=i.pendingProps,m=i.elementType===f?m:As(f,m),bm(s,i,f,m,c);case 1:return f=i.type,m=i.pendingProps,m=i.elementType===f?m:As(f,m),EA(s,i,f,m,c);case 3:e:{if(bA(i),s===null)throw Error(t(387));f=i.pendingProps,w=i.memoizedState,m=w.element,jw(s,i),ef(i,f,null,c);var _=i.memoizedState;if(f=_.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},i.updateQueue.baseState=w,i.memoizedState=w,i.flags&256){m=ul(Error(t(423)),i),i=_A(s,i,f,c,m);break e}else if(f!==m){m=ul(Error(t(424)),i),i=_A(s,i,f,c,m);break e}else for(Hn=vr(i.stateNode.containerInfo.firstChild),jn=i,at=!0,ws=null,c=Dw(i,null,f,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(rl(),f===m){i=xi(s,i,c);break e}fn(s,i,f,c)}i=i.child}return i;case 5:return Bw(i),s===null&&Zg(i),f=i.type,m=i.pendingProps,w=s!==null?s.memoizedProps:null,_=m.children,Vg(f,m)?_=null:w!==null&&Vg(f,w)&&(i.flags|=32),SA(s,i),fn(s,i,_,c),i.child;case 6:return s===null&&Zg(i),null;case 13:return xA(s,i,c);case 4:return am(i,i.stateNode.containerInfo),f=i.pendingProps,s===null?i.child=ol(i,null,f,c):fn(s,i,f,c),i.child;case 11:return f=i.type,m=i.pendingProps,m=i.elementType===f?m:As(f,m),yA(s,i,f,m,c);case 7:return fn(s,i,i.pendingProps,c),i.child;case 8:return fn(s,i,i.pendingProps.children,c),i.child;case 12:return fn(s,i,i.pendingProps.children,c),i.child;case 10:e:{if(f=i.type._context,m=i.pendingProps,w=i.memoizedProps,_=m.value,tt(Qd,f._currentValue),f._currentValue=_,w!==null)if(vs(w.value,_)){if(w.children===m.children&&!En.current){i=xi(s,i,c);break e}}else for(w=i.child,w!==null&&(w.return=i);w!==null;){var P=w.dependencies;if(P!==null){_=w.child;for(var N=P.firstContext;N!==null;){if(N.context===f){if(w.tag===1){N=_i(-1,c&-c),N.tag=2;var $=w.updateQueue;if($!==null){$=$.shared;var Y=$.pending;Y===null?N.next=N:(N.next=Y.next,Y.next=N),$.pending=N}}w.lanes|=c,N=w.alternate,N!==null&&(N.lanes|=c),im(w.return,c,i),P.lanes|=c;break}N=N.next}}else if(w.tag===10)_=w.type===i.type?null:w.child;else if(w.tag===18){if(_=w.return,_===null)throw Error(t(341));_.lanes|=c,P=_.alternate,P!==null&&(P.lanes|=c),im(_,c,i),_=w.sibling}else _=w.child;if(_!==null)_.return=w;else for(_=w;_!==null;){if(_===i){_=null;break}if(w=_.sibling,w!==null){w.return=_.return,_=w;break}_=_.return}w=_}fn(s,i,m.children,c),i=i.child}return i;case 9:return m=i.type,f=i.pendingProps.children,ll(i,c),m=ns(m),f=f(m),i.flags|=1,fn(s,i,f,c),i.child;case 14:return f=i.type,m=As(f,i.pendingProps),m=As(f.type,m),vA(s,i,f,m,c);case 15:return wA(s,i,i.type,i.pendingProps,c);case 17:return f=i.type,m=i.pendingProps,m=i.elementType===f?m:As(f,m),uf(s,i),i.tag=1,bn(f)?(s=!0,Wd(i)):s=!1,ll(i,c),uA(i,f,m),Am(i,f,m,c),_m(null,i,f,!0,s,c);case 19:return kA(s,i,c);case 22:return AA(s,i,c)}throw Error(t(156,i.tag))};function QA(s,i){return P0(s,i)}function pC(s,i,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rs(s,i,c,f){return new pC(s,i,c,f)}function Vm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function gC(s){if(typeof s=="function")return Vm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===_e)return 11;if(s===Ae)return 14}return 2}function Rr(s,i){var c=s.alternate;return c===null?(c=rs(s.tag,i,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=i,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,i=s.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Sf(s,i,c,f,m,w){var _=2;if(f=s,typeof s=="function")Vm(s)&&(_=1);else if(typeof s=="string")_=5;else e:switch(s){case U:return Ro(c.children,m,w,i);case W:_=8,m|=8;break;case K:return s=rs(12,c,i,m|2),s.elementType=K,s.lanes=w,s;case pe:return s=rs(13,c,i,m),s.elementType=pe,s.lanes=w,s;case de:return s=rs(19,c,i,m),s.elementType=de,s.lanes=w,s;case Z:return Ef(c,m,w,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case te:_=10;break e;case se:_=9;break e;case _e:_=11;break e;case Ae:_=14;break e;case me:_=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return i=rs(_,c,i,m),i.elementType=s,i.type=f,i.lanes=w,i}function Ro(s,i,c,f){return s=rs(7,s,f,i),s.lanes=c,s}function Ef(s,i,c,f){return s=rs(22,s,f,i),s.elementType=Z,s.lanes=c,s.stateNode={isHidden:!1},s}function Wm(s,i,c){return s=rs(6,s,null,i),s.lanes=c,s}function Gm(s,i,c){return i=rs(4,s.children!==null?s.children:[],s.key,i),i.lanes=c,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function mC(s,i,c,f,m){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wg(0),this.expirationTimes=wg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wg(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function qm(s,i,c,f,m,w,_,P,N){return s=new mC(s,i,c,P,N),i===1?(i=1,w===!0&&(i|=8)):i=0,w=rs(3,null,null,i),s.current=w,w.stateNode=s,w.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},om(w),s}function yC(s,i,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:f==null?null:""+f,children:s,containerInfo:i,implementation:c}}function JA(s){if(!s)return Ar;s=s._reactInternals;e:{if(yo(s)!==s||s.tag!==1)throw Error(t(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(bn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(bn(c))return Cw(s,c,i)}return i}function ZA(s,i,c,f,m,w,_,P,N){return s=qm(c,f,!0,s,m,w,_,P,N),s.context=JA(null),c=s.current,f=pn(),m=kr(c),w=_i(f,m),w.callback=i??null,br(c,w,m),s.current.lanes=m,zc(s,m,f),Cn(s,f),s}function bf(s,i,c,f){var m=i.current,w=pn(),_=kr(m);return c=JA(c),i.context===null?i.context=c:i.pendingContext=c,i=_i(w,_),i.payload={element:s},f=f===void 0?null:f,f!==null&&(i.callback=f),s=br(m,i,_),s!==null&&(bs(s,m,_,w),Zd(s,m,_)),_}function _f(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function eS(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<i?c:i}}function Xm(s,i){eS(s,i),(s=s.alternate)&&eS(s,i)}function vC(){return null}var tS=typeof reportError=="function"?reportError:function(s){console.error(s)};function Km(s){this._internalRoot=s}xf.prototype.render=Km.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(t(409));bf(s,i,null,null)},xf.prototype.unmount=Km.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Co(function(){bf(null,s,null,null)}),i[wi]=null}};function xf(s){this._internalRoot=s}xf.prototype.unstable_scheduleHydration=function(s){if(s){var i=j0();s={blockedOn:null,target:s,priority:i};for(var c=0;c<gr.length&&i!==0&&i<gr[c].priority;c++);gr.splice(c,0,s),c===0&&B0(s)}};function Ym(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Cf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function nS(){}function wC(s,i,c,f,m){if(m){if(typeof f=="function"){var w=f;f=function(){var $=_f(_);w.call($)}}var _=ZA(i,f,s,0,null,!1,!1,"",nS);return s._reactRootContainer=_,s[wi]=_.current,eu(s.nodeType===8?s.parentNode:s),Co(),_}for(;m=s.lastChild;)s.removeChild(m);if(typeof f=="function"){var P=f;f=function(){var $=_f(N);P.call($)}}var N=qm(s,0,!1,null,null,!1,!1,"",nS);return s._reactRootContainer=N,s[wi]=N.current,eu(s.nodeType===8?s.parentNode:s),Co(function(){bf(i,N,c,f)}),N}function kf(s,i,c,f,m){var w=c._reactRootContainer;if(w){var _=w;if(typeof m=="function"){var P=m;m=function(){var N=_f(_);P.call(N)}}bf(i,_,s,m)}else _=wC(c,i,s,m,f);return _f(_)}D0=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var c=Hc(i.pendingLanes);c!==0&&(Ag(i,c|1),Cn(i,At()),!($e&6)&&(fl=At()+500,Sr()))}break;case 13:Co(function(){var f=bi(s,1);if(f!==null){var m=pn();bs(f,s,1,m)}}),Xm(s,1)}},Sg=function(s){if(s.tag===13){var i=bi(s,134217728);if(i!==null){var c=pn();bs(i,s,134217728,c)}Xm(s,134217728)}},O0=function(s){if(s.tag===13){var i=kr(s),c=bi(s,i);if(c!==null){var f=pn();bs(c,s,i,f)}Xm(s,i)}},j0=function(){return Xe},H0=function(s,i){var c=Xe;try{return Xe=s,i()}finally{Xe=c}},fg=function(s,i,c){switch(i){case"input":if(Us(s,c),i=c.name,c.type==="radio"&&i!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var f=c[i];if(f!==s&&f.form===s.form){var m=$d(f);if(!m)throw Error(t(90));ur(f),Us(f,m)}}}break;case"textarea":vd(s,c);break;case"select":i=c.value,i!=null&&ms(s,!!c.multiple,i,!1)}},b0=Bm,_0=Co;var AC={usingClientEntryPoint:!1,Events:[su,el,$d,S0,E0,Bm]},yu={findFiberByHostInstance:vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SC={bundleType:yu.bundleType,version:yu.version,rendererPackageName:yu.rendererPackageName,rendererConfig:yu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=T0(s),s===null?null:s.stateNode},findFiberByHostInstance:yu.findFiberByHostInstance||vC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tf.isDisabled&&Tf.supportsFiber)try{_d=Tf.inject(SC),Vs=Tf}catch{}}return kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AC,kn.createPortal=function(s,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ym(i))throw Error(t(200));return yC(s,i,null,c)},kn.createRoot=function(s,i){if(!Ym(s))throw Error(t(299));var c=!1,f="",m=tS;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(m=i.onRecoverableError)),i=qm(s,1,!1,null,null,c,!1,f,m),s[wi]=i.current,eu(s.nodeType===8?s.parentNode:s),new Km(i)},kn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=T0(i),s=s===null?null:s.stateNode,s},kn.flushSync=function(s){return Co(s)},kn.hydrate=function(s,i,c){if(!Cf(i))throw Error(t(200));return kf(null,s,i,!0,c)},kn.hydrateRoot=function(s,i,c){if(!Ym(s))throw Error(t(405));var f=c!=null&&c.hydratedSources||null,m=!1,w="",_=tS;if(c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(_=c.onRecoverableError)),i=ZA(i,null,s,1,c??null,m,!1,w,_),s[wi]=i.current,eu(s),f)for(s=0;s<f.length;s++)c=f[s],m=c._getVersion,m=m(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,m]:i.mutableSourceEagerHydrationData.push(c,m);return new xf(i)},kn.render=function(s,i,c){if(!Cf(i))throw Error(t(200));return kf(null,s,i,!1,c)},kn.unmountComponentAtNode=function(s){if(!Cf(s))throw Error(t(40));return s._reactRootContainer?(Co(function(){kf(null,null,s,!1,function(){s._reactRootContainer=null,s[wi]=null})}),!0):!1},kn.unstable_batchedUpdates=Bm,kn.unstable_renderSubtreeIntoContainer=function(s,i,c,f){if(!Cf(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return kf(s,i,c,!1,f)},kn.version="18.3.1-next-f1338f8080-20240426",kn}var hS;function MC(){if(hS)return ey.exports;hS=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),ey.exports=LC(),ey.exports}var dS;function NC(){if(dS)return Rf;dS=1;var a=MC();return Rf.createRoot=a.createRoot,Rf.hydrateRoot=a.hydrateRoot,Rf}var IC=NC(),wu={},fS;function FC(){if(fS)return wu;fS=1,Object.defineProperty(wu,"__esModule",{value:!0}),wu.parse=l,wu.serialize=p;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function l(v,S){const A=new o,E=v.length;if(E<2)return A;const C=(S==null?void 0:S.decode)||g;let k=0;do{const L=v.indexOf("=",k);if(L===-1)break;const M=v.indexOf(";",k),I=M===-1?E:M;if(L>I){k=v.lastIndexOf(";",L-1)+1;continue}const j=u(v,k,L),z=d(v,L,j),U=v.slice(j,z);if(A[U]===void 0){let W=u(v,L+1,I),K=d(v,I,W);const te=C(v.slice(W,K));A[U]=te}k=I+1}while(k<E);return A}function u(v,S,A){do{const E=v.charCodeAt(S);if(E!==32&&E!==9)return S}while(++S<A);return A}function d(v,S,A){for(;S>A;){const E=v.charCodeAt(--S);if(E!==32&&E!==9)return S+1}return A}function p(v,S,A){const E=(A==null?void 0:A.encode)||encodeURIComponent;if(!a.test(v))throw new TypeError(`argument name is invalid: ${v}`);const C=E(S);if(!e.test(C))throw new TypeError(`argument val is invalid: ${S}`);let k=v+"="+C;if(!A)return k;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);k+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);k+="; Domain="+A.domain}if(A.path){if(!n.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);k+="; Path="+A.path}if(A.expires){if(!y(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);k+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(k+="; HttpOnly"),A.secure&&(k+="; Secure"),A.partitioned&&(k+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return k}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function y(v){return r.call(v)==="[object Date]"}return wu}FC();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var pS="popstate";function DC(a={}){function e(n,r){let{pathname:o,search:l,hash:u}=n.location;return vy("",{pathname:o,search:l,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(n,r){return typeof r=="string"?r:Vu(r)}return jC(e,t,null,a)}function gt(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function gi(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OC(){return Math.random().toString(36).substring(2,10)}function gS(a,e){return{usr:a.state,key:a.key,idx:e}}function vy(a,e,t=null,n){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Tc(e):e,state:t,key:e&&e.key||n||OC()}}function Vu({pathname:a="/",search:e="",hash:t=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(a+=t.charAt(0)==="#"?t:"#"+t),a}function Tc(a){let e={};if(a){let t=a.indexOf("#");t>=0&&(e.hash=a.substring(t),a=a.substring(0,t));let n=a.indexOf("?");n>=0&&(e.search=a.substring(n),a=a.substring(0,n)),a&&(e.pathname=a)}return e}function jC(a,e,t,n={}){let{window:r=document.defaultView,v5Compat:o=!1}=n,l=r.history,u="POP",d=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function y(){u="POP";let C=g(),k=C==null?null:C-p;p=C,d&&d({action:u,location:E.location,delta:k})}function v(C,k){u="PUSH";let L=vy(E.location,C,k);p=g()+1;let M=gS(L,p),I=E.createHref(L);try{l.pushState(M,"",I)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;r.location.assign(I)}o&&d&&d({action:u,location:E.location,delta:1})}function S(C,k){u="REPLACE";let L=vy(E.location,C,k);p=g();let M=gS(L,p),I=E.createHref(L);l.replaceState(M,"",I),o&&d&&d({action:u,location:E.location,delta:0})}function A(C){let k=r.location.origin!=="null"?r.location.origin:r.location.href,L=typeof C=="string"?C:Vu(C);return L=L.replace(/ $/,"%20"),gt(k,`No window.location.(origin|href) available to create URL for href: ${L}`),new URL(L,k)}let E={get action(){return u},get location(){return a(r,l)},listen(C){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(pS,y),d=C,()=>{r.removeEventListener(pS,y),d=null}},createHref(C){return e(r,C)},createURL:A,encodeLocation(C){let k=A(C);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:v,replace:S,go(C){return l.go(C)}};return E}function pE(a,e,t="/"){return HC(a,e,t,!1)}function HC(a,e,t,n){let r=typeof e=="string"?Tc(e):e,o=ao(r.pathname||"/",t);if(o==null)return null;let l=gE(a);zC(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let p=QC(o);u=KC(l[d],p,n)}return u}function gE(a,e=[],t=[],n=""){let r=(o,l,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(gt(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length));let p=sr([n,d.relativePath]),g=t.concat(d);o.children&&o.children.length>0&&(gt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),gE(o.children,e,g,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:qC(p,o.index),routesMeta:g})};return a.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))r(o,l);else for(let d of mE(o.path))r(o,l,d)}),e}function mE(a){let e=a.split("/");if(e.length===0)return[];let[t,...n]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return r?[o,""]:[o];let l=mE(n.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),r&&u.push(...l),u.map(d=>a.startsWith("/")&&d===""?"/":d)}function zC(a){a.sort((e,t)=>e.score!==t.score?t.score-e.score:XC(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var BC=/^:[\w-]+$/,UC=3,$C=2,VC=1,WC=10,GC=-2,mS=a=>a==="*";function qC(a,e){let t=a.split("/"),n=t.length;return t.some(mS)&&(n+=GC),e&&(n+=$C),t.filter(r=>!mS(r)).reduce((r,o)=>r+(BC.test(o)?UC:o===""?VC:WC),n)}function XC(a,e){return a.length===e.length&&a.slice(0,-1).every((n,r)=>n===e[r])?a[a.length-1]-e[e.length-1]:0}function KC(a,e,t=!1){let{routesMeta:n}=a,r={},o="/",l=[];for(let u=0;u<n.length;++u){let d=n[u],p=u===n.length-1,g=o==="/"?e:e.slice(o.length)||"/",y=vp({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),v=d.route;if(!y&&p&&t&&!n[n.length-1].route.index&&(y=vp({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(r,y.params),l.push({params:r,pathname:sr([o,y.pathname]),pathnameBase:tk(sr([o,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(o=sr([o,y.pathnameBase]))}return l}function vp(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[t,n]=YC(a.path,a.caseSensitive,a.end),r=e.match(t);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:n.reduce((p,{paramName:g,isOptional:y},v)=>{if(g==="*"){let A=u[v]||"";l=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const S=u[v];return y&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:a}}function YC(a,e=!1,t=!0){gi(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let n=[],r="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(n.push({paramName:"*"}),r+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":a!==""&&a!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),n]}function QC(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gi(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function ao(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=a.charAt(t);return n&&n!=="/"?null:a.slice(t)||"/"}function JC(a,e="/"){let{pathname:t,search:n="",hash:r=""}=typeof a=="string"?Tc(a):a;return{pathname:t?t.startsWith("/")?t:ZC(t,e):e,search:nk(n),hash:sk(r)}}function ZC(a,e){let t=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function sy(a,e,t,n){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ek(a){return a.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function yE(a){let e=ek(a);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function vE(a,e,t,n=!1){let r;typeof a=="string"?r=Tc(a):(r={...a},gt(!r.pathname||!r.pathname.includes("?"),sy("?","pathname","search",r)),gt(!r.pathname||!r.pathname.includes("#"),sy("#","pathname","hash",r)),gt(!r.search||!r.search.includes("#"),sy("#","search","hash",r)));let o=a===""||r.pathname==="",l=o?"/":r.pathname,u;if(l==null)u=t;else{let y=e.length-1;if(!n&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),y-=1;r.pathname=v.join("/")}u=y>=0?e[y]:"/"}let d=JC(r,u),p=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var sr=a=>a.join("/").replace(/\/\/+/g,"/"),tk=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),nk=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,sk=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function ik(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var wE=["POST","PUT","PATCH","DELETE"];new Set(wE);var rk=["GET",...wE];new Set(rk);var Rc=F.createContext(null);Rc.displayName="DataRouter";var $p=F.createContext(null);$p.displayName="DataRouterState";var AE=F.createContext({isTransitioning:!1});AE.displayName="ViewTransition";var ok=F.createContext(new Map);ok.displayName="Fetchers";var ak=F.createContext(null);ak.displayName="Await";var mi=F.createContext(null);mi.displayName="Navigation";var ld=F.createContext(null);ld.displayName="Location";var cr=F.createContext({outlet:null,matches:[],isDataRoute:!1});cr.displayName="Route";var Xv=F.createContext(null);Xv.displayName="RouteError";function lk(a,{relative:e}={}){gt(cd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=F.useContext(mi),{hash:r,pathname:o,search:l}=ud(a,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:sr([t,o])),n.createHref({pathname:u,search:l,hash:r})}function cd(){return F.useContext(ld)!=null}function fo(){return gt(cd(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(ld).location}var SE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function EE(a){F.useContext(mi).static||F.useLayoutEffect(a)}function Pc(){let{isDataRoute:a}=F.useContext(cr);return a?Sk():ck()}function ck(){gt(cd(),"useNavigate() may be used only in the context of a <Router> component.");let a=F.useContext(Rc),{basename:e,navigator:t}=F.useContext(mi),{matches:n}=F.useContext(cr),{pathname:r}=fo(),o=JSON.stringify(yE(n)),l=F.useRef(!1);return EE(()=>{l.current=!0}),F.useCallback((d,p={})=>{if(gi(l.current,SE),!l.current)return;if(typeof d=="number"){t.go(d);return}let g=vE(d,JSON.parse(o),r,p.relative==="path");a==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:sr([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,o,r,a])}F.createContext(null);function ud(a,{relative:e}={}){let{matches:t}=F.useContext(cr),{pathname:n}=fo(),r=JSON.stringify(yE(t));return F.useMemo(()=>vE(a,JSON.parse(r),n,e==="path"),[a,r,n,e])}function uk(a,e){return bE(a,e)}function bE(a,e,t,n){var L;gt(cd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:o}=F.useContext(mi),{matches:l}=F.useContext(cr),u=l[l.length-1],d=u?u.params:{},p=u?u.pathname:"/",g=u?u.pathnameBase:"/",y=u&&u.route;{let M=y&&y.path||"";_E(p,!y||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let v=fo(),S;if(e){let M=typeof e=="string"?Tc(e):e;gt(g==="/"||((L=M.pathname)==null?void 0:L.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${M.pathname}" was given in the \`location\` prop.`),S=M}else S=v;let A=S.pathname||"/",E=A;if(g!=="/"){let M=g.replace(/^\//,"").split("/");E="/"+A.replace(/^\//,"").split("/").slice(M.length).join("/")}let C=!o&&t&&t.matches&&t.matches.length>0?t.matches:pE(a,{pathname:E});gi(y||C!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),gi(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=gk(C&&C.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:sr([g,r.encodeLocation?r.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?g:sr([g,r.encodeLocation?r.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,t,n);return e&&k?F.createElement(ld.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},k):k}function hk(){let a=Ak(),e=ik(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),t=a instanceof Error?a.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",a),l=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:o},"ErrorBoundary")," or"," ",F.createElement("code",{style:o},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:r},t):null,l)}var dk=F.createElement(hk,null),fk=class extends F.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?F.createElement(cr.Provider,{value:this.props.routeContext},F.createElement(Xv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pk({routeContext:a,match:e,children:t}){let n=F.useContext(Rc);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(cr.Provider,{value:a},t)}function gk(a,e=[],t=null,n=null){if(a==null){if(!t)return null;if(t.errors)a=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)a=t.matches;else return null}let r=a,o=t==null?void 0:t.errors;if(o!=null){let d=r.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);gt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,d+1))}let l=!1,u=-1;if(t)for(let d=0;d<r.length;d++){let p=r[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:g,errors:y}=t,v=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||v){l=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}return r.reduceRight((d,p,g)=>{let y,v=!1,S=null,A=null;t&&(y=o&&p.route.id?o[p.route.id]:void 0,S=p.route.errorElement||dk,l&&(u<0&&g===0?(_E("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,A=null):u===g&&(v=!0,A=p.route.hydrateFallbackElement||null)));let E=e.concat(r.slice(0,g+1)),C=()=>{let k;return y?k=S:v?k=A:p.route.Component?k=F.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=d,F.createElement(pk,{match:p,routeContext:{outlet:d,matches:E,isDataRoute:t!=null},children:k})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?F.createElement(fk,{location:t.location,revalidation:t.revalidation,component:S,error:y,children:C(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):C()},null)}function Kv(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mk(a){let e=F.useContext(Rc);return gt(e,Kv(a)),e}function yk(a){let e=F.useContext($p);return gt(e,Kv(a)),e}function vk(a){let e=F.useContext(cr);return gt(e,Kv(a)),e}function Yv(a){let e=vk(a),t=e.matches[e.matches.length-1];return gt(t.route.id,`${a} can only be used on routes that contain a unique "id"`),t.route.id}function wk(){return Yv("useRouteId")}function Ak(){var n;let a=F.useContext(Xv),e=yk("useRouteError"),t=Yv("useRouteError");return a!==void 0?a:(n=e.errors)==null?void 0:n[t]}function Sk(){let{router:a}=mk("useNavigate"),e=Yv("useNavigate"),t=F.useRef(!1);return EE(()=>{t.current=!0}),F.useCallback(async(r,o={})=>{gi(t.current,SE),t.current&&(typeof r=="number"?a.navigate(r):await a.navigate(r,{fromRouteId:e,...o}))},[a,e])}var yS={};function _E(a,e,t){!e&&!yS[a]&&(yS[a]=!0,gi(!1,t))}F.memo(Ek);function Ek({routes:a,future:e,state:t}){return bE(a,void 0,t,e)}function gl(a){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bk({basename:a="/",children:e=null,location:t,navigationType:n="POP",navigator:r,static:o=!1}){gt(!cd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=a.replace(/^\/*/,"/"),u=F.useMemo(()=>({basename:l,navigator:r,static:o,future:{}}),[l,r,o]);typeof t=="string"&&(t=Tc(t));let{pathname:d="/",search:p="",hash:g="",state:y=null,key:v="default"}=t,S=F.useMemo(()=>{let A=ao(d,l);return A==null?null:{location:{pathname:A,search:p,hash:g,state:y,key:v},navigationType:n}},[l,d,p,g,y,v,n]);return gi(S!=null,`<Router basename="${l}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:F.createElement(mi.Provider,{value:u},F.createElement(ld.Provider,{children:e,value:S}))}function _k({children:a,location:e}){return uk(wy(a),e)}function wy(a,e=[]){let t=[];return F.Children.forEach(a,(n,r)=>{if(!F.isValidElement(n))return;let o=[...e,r];if(n.type===F.Fragment){t.push.apply(t,wy(n.props.children,o));return}gt(n.type===gl,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=wy(n.props.children,o)),t.push(l)}),t}var Of="get",jf="application/x-www-form-urlencoded";function Vp(a){return a!=null&&typeof a.tagName=="string"}function xk(a){return Vp(a)&&a.tagName.toLowerCase()==="button"}function Ck(a){return Vp(a)&&a.tagName.toLowerCase()==="form"}function kk(a){return Vp(a)&&a.tagName.toLowerCase()==="input"}function Tk(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function Rk(a,e){return a.button===0&&(!e||e==="_self")&&!Tk(a)}var Pf=null;function Pk(){if(Pf===null)try{new FormData(document.createElement("form"),0),Pf=!1}catch{Pf=!0}return Pf}var Lk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function iy(a){return a!=null&&!Lk.has(a)?(gi(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jf}"`),null):a}function Mk(a,e){let t,n,r,o,l;if(Ck(a)){let u=a.getAttribute("action");n=u?ao(u,e):null,t=a.getAttribute("method")||Of,r=iy(a.getAttribute("enctype"))||jf,o=new FormData(a)}else if(xk(a)||kk(a)&&(a.type==="submit"||a.type==="image")){let u=a.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=a.getAttribute("formaction")||u.getAttribute("action");if(n=d?ao(d,e):null,t=a.getAttribute("formmethod")||u.getAttribute("method")||Of,r=iy(a.getAttribute("formenctype"))||iy(u.getAttribute("enctype"))||jf,o=new FormData(u,a),!Pk()){let{name:p,type:g,value:y}=a;if(g==="image"){let v=p?`${p}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else p&&o.append(p,y)}}else{if(Vp(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Of,n=null,r=jf,l=a}return o&&r==="text/plain"&&(l=o,o=void 0),{action:n,method:t.toLowerCase(),encType:r,formData:o,body:l}}function Qv(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function Nk(a,e){if(a.id in e)return e[a.id];try{let t=await import(a.module);return e[a.id]=t,t}catch(t){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ik(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function Fk(a,e,t){let n=await Promise.all(a.map(async r=>{let o=e.routes[r.route.id];if(o){let l=await Nk(o,t);return l.links?l.links():[]}return[]}));return Hk(n.flat(1).filter(Ik).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function vS(a,e,t,n,r,o){let l=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,u=(d,p)=>{var g;return t[p].pathname!==d.pathname||((g=t[p].route.path)==null?void 0:g.endsWith("*"))&&t[p].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,p)=>l(d,p)||u(d,p)):o==="data"?e.filter((d,p)=>{var y;let g=n.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,p)||u(d,p))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(a,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Dk(a,e){return Ok(a.map(t=>{let n=e.routes[t.route.id];if(!n)return[];let r=[n.module];return n.imports&&(r=r.concat(n.imports)),r}).flat(1))}function Ok(a){return[...new Set(a)]}function jk(a){let e={},t=Object.keys(a).sort();for(let n of t)e[n]=a[n];return e}function Hk(a,e){let t=new Set;return new Set(e),a.reduce((n,r)=>{let o=JSON.stringify(jk(r));return t.has(o)||(t.add(o),n.push({key:o,link:r})),n},[])}function zk(a){let e=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Bk(){let a=F.useContext(Rc);return Qv(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function Uk(){let a=F.useContext($p);return Qv(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Jv=F.createContext(void 0);Jv.displayName="FrameworkContext";function xE(){let a=F.useContext(Jv);return Qv(a,"You must render this element inside a <HydratedRouter> element"),a}function $k(a,e){let t=F.useContext(Jv),[n,r]=F.useState(!1),[o,l]=F.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=e,v=F.useRef(null);F.useEffect(()=>{if(a==="render"&&l(!0),a==="viewport"){let E=k=>{k.forEach(L=>{l(L.isIntersecting)})},C=new IntersectionObserver(E,{threshold:.5});return v.current&&C.observe(v.current),()=>{C.disconnect()}}},[a]),F.useEffect(()=>{if(n){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[n]);let S=()=>{r(!0)},A=()=>{r(!1),l(!1)};return t?a!=="intent"?[o,v,{}]:[o,v,{onFocus:Au(u,S),onBlur:Au(d,A),onMouseEnter:Au(p,S),onMouseLeave:Au(g,A),onTouchStart:Au(y,S)}]:[!1,v,{}]}function Au(a,e){return t=>{a&&a(t),t.defaultPrevented||e(t)}}function Vk({page:a,...e}){let{router:t}=Bk(),n=F.useMemo(()=>pE(t.routes,a,t.basename),[t.routes,a,t.basename]);return n?F.createElement(Gk,{page:a,matches:n,...e}):null}function Wk(a){let{manifest:e,routeModules:t}=xE(),[n,r]=F.useState([]);return F.useEffect(()=>{let o=!1;return Fk(a,e,t).then(l=>{o||r(l)}),()=>{o=!0}},[a,e,t]),n}function Gk({page:a,matches:e,...t}){let n=fo(),{manifest:r,routeModules:o}=xE(),{loaderData:l,matches:u}=Uk(),d=F.useMemo(()=>vS(a,e,u,r,n,"data"),[a,e,u,r,n]),p=F.useMemo(()=>vS(a,e,u,r,n,"assets"),[a,e,u,r,n]),g=F.useMemo(()=>{if(a===n.pathname+n.search+n.hash)return[];let S=new Set,A=!1;if(e.forEach(C=>{var L;let k=r.routes[C.route.id];!k||!k.hasLoader||(!d.some(M=>M.route.id===C.route.id)&&C.route.id in l&&((L=o[C.route.id])!=null&&L.shouldRevalidate)||k.hasClientLoader?A=!0:S.add(C.route.id))}),S.size===0)return[];let E=zk(a);return A&&S.size>0&&E.searchParams.set("_routes",e.filter(C=>S.has(C.route.id)).map(C=>C.route.id).join(",")),[E.pathname+E.search]},[l,n,r,d,e,a,o]),y=F.useMemo(()=>Dk(p,r),[p,r]),v=Wk(p);return F.createElement(F.Fragment,null,g.map(S=>F.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),y.map(S=>F.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),v.map(({key:S,link:A})=>F.createElement("link",{key:S,...A})))}function qk(...a){return e=>{a.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var CE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CE&&(window.__reactRouterVersion="7.1.5")}catch{}function Xk({basename:a,children:e,window:t}){let n=F.useRef();n.current==null&&(n.current=DC({window:t,v5Compat:!0}));let r=n.current,[o,l]=F.useState({action:r.action,location:r.location}),u=F.useCallback(d=>{F.startTransition(()=>l(d))},[l]);return F.useLayoutEffect(()=>r.listen(u),[r,u]),F.createElement(bk,{basename:a,children:e,location:o.location,navigationType:o.action,navigator:r})}var kE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,TE=F.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:o,replace:l,state:u,target:d,to:p,preventScrollReset:g,viewTransition:y,...v},S){let{basename:A}=F.useContext(mi),E=typeof p=="string"&&kE.test(p),C,k=!1;if(typeof p=="string"&&E&&(C=p,CE))try{let K=new URL(window.location.href),te=p.startsWith("//")?new URL(K.protocol+p):new URL(p),se=ao(te.pathname,A);te.origin===K.origin&&se!=null?p=se+te.search+te.hash:k=!0}catch{gi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=lk(p,{relative:r}),[M,I,j]=$k(n,v),z=Jk(p,{replace:l,state:u,target:d,preventScrollReset:g,relative:r,viewTransition:y});function U(K){e&&e(K),K.defaultPrevented||z(K)}let W=F.createElement("a",{...v,...j,href:C||L,onClick:k||o?e:U,ref:qk(S,I),target:d,"data-discover":!E&&t==="render"?"true":void 0});return M&&!E?F.createElement(F.Fragment,null,W,F.createElement(Vk,{page:L})):W});TE.displayName="Link";var Kk=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:o,to:l,viewTransition:u,children:d,...p},g){let y=ud(l,{relative:p.relative}),v=fo(),S=F.useContext($p),{navigator:A,basename:E}=F.useContext(mi),C=S!=null&&sT(y)&&u===!0,k=A.encodeLocation?A.encodeLocation(y).pathname:y.pathname,L=v.pathname,M=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(L=L.toLowerCase(),M=M?M.toLowerCase():null,k=k.toLowerCase()),M&&E&&(M=ao(M,E)||M);const I=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let j=L===k||!r&&L.startsWith(k)&&L.charAt(I)==="/",z=M!=null&&(M===k||!r&&M.startsWith(k)&&M.charAt(k.length)==="/"),U={isActive:j,isPending:z,isTransitioning:C},W=j?e:void 0,K;typeof n=="function"?K=n(U):K=[n,j?"active":null,z?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let te=typeof o=="function"?o(U):o;return F.createElement(TE,{...p,"aria-current":W,className:K,ref:g,style:te,to:l,viewTransition:u},typeof d=="function"?d(U):d)});Kk.displayName="NavLink";var Yk=F.forwardRef(({discover:a="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:r,state:o,method:l=Of,action:u,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:y,...v},S)=>{let A=tT(),E=nT(u,{relative:p}),C=l.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&kE.test(u),L=M=>{if(d&&d(M),M.defaultPrevented)return;M.preventDefault();let I=M.nativeEvent.submitter,j=(I==null?void 0:I.getAttribute("formmethod"))||l;A(I||M.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:r,state:o,relative:p,preventScrollReset:g,viewTransition:y})};return F.createElement("form",{ref:S,method:C,action:E,onSubmit:n?d:L,...v,"data-discover":!k&&a==="render"?"true":void 0})});Yk.displayName="Form";function Qk(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RE(a){let e=F.useContext(Rc);return gt(e,Qk(a)),e}function Jk(a,{target:e,replace:t,state:n,preventScrollReset:r,relative:o,viewTransition:l}={}){let u=Pc(),d=fo(),p=ud(a,{relative:o});return F.useCallback(g=>{if(Rk(g,e)){g.preventDefault();let y=t!==void 0?t:Vu(d)===Vu(p);u(a,{replace:y,state:n,preventScrollReset:r,relative:o,viewTransition:l})}},[d,u,p,t,n,e,a,r,o,l])}var Zk=0,eT=()=>`__${String(++Zk)}__`;function tT(){let{router:a}=RE("useSubmit"),{basename:e}=F.useContext(mi),t=wk();return F.useCallback(async(n,r={})=>{let{action:o,method:l,encType:u,formData:d,body:p}=Mk(n,e);if(r.navigate===!1){let g=r.fetcherKey||eT();await a.fetch(g,t,r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:p,formMethod:r.method||l,formEncType:r.encType||u,flushSync:r.flushSync})}else await a.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:p,formMethod:r.method||l,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[a,e,t])}function nT(a,{relative:e}={}){let{basename:t}=F.useContext(mi),n=F.useContext(cr);gt(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),o={...ud(a||".",{relative:e})},l=fo();if(a==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(g=>g==="")){u.delete("index"),d.filter(y=>y).forEach(y=>u.append("index",y));let g=u.toString();o.search=g?`?${g}`:""}}return(!a||a===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:sr([t,o.pathname])),Vu(o)}function sT(a,e={}){let t=F.useContext(AE);gt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=RE("useViewTransitionState"),r=ud(a,{relative:e.relative});if(!t.isTransitioning)return!1;let o=ao(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=ao(t.nextLocation.pathname,n)||t.nextLocation.pathname;return vp(r.pathname,l)!=null||vp(r.pathname,o)!=null}new TextEncoder;/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PE=(...a)=>a.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=F.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:r="",children:o,iconNode:l,...u},d)=>F.createElement("svg",{ref:d,...rT,width:e,height:e,stroke:a,strokeWidth:n?Number(t)*24/Number(e):t,className:PE("lucide",r),...u},[...l.map(([p,g])=>F.createElement(p,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=(a,e)=>{const t=F.forwardRef(({className:n,...r},o)=>F.createElement(oT,{ref:o,iconNode:e,className:PE(`lucide-${iT(a)}`,n),...r}));return t.displayName=`${a}`,t};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],lT=Dn("Building",aT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],LE=Dn("ChevronDown",cT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],hT=Dn("ChevronUp",uT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]],fT=Dn("DoorOpen",dT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],ME=Dn("GraduationCap",pT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],NE=Dn("Hourglass",gT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],yT=Dn("IndianRupee",mT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]],wT=Dn("LockKeyhole",vT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ry=Dn("Lock",AT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],ET=Dn("Mail",ST);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],IE=Dn("MapPin",bT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],xT=Dn("SquarePlus",_T);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],kT=Dn("SquareX",CT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],oy=Dn("User",TT);function FE(a,e){return function(){return a.apply(e,arguments)}}const{toString:RT}=Object.prototype,{getPrototypeOf:Zv}=Object,Wp=(a=>e=>{const t=RT.call(e);return a[t]||(a[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),zs=a=>(a=a.toLowerCase(),e=>Wp(e)===a),Gp=a=>e=>typeof e===a,{isArray:Lc}=Array,Wu=Gp("undefined");function PT(a){return a!==null&&!Wu(a)&&a.constructor!==null&&!Wu(a.constructor)&&Jn(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const DE=zs("ArrayBuffer");function LT(a){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(a):e=a&&a.buffer&&DE(a.buffer),e}const MT=Gp("string"),Jn=Gp("function"),OE=Gp("number"),qp=a=>a!==null&&typeof a=="object",NT=a=>a===!0||a===!1,Hf=a=>{if(Wp(a)!=="object")return!1;const e=Zv(a);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},IT=zs("Date"),FT=zs("File"),DT=zs("Blob"),OT=zs("FileList"),jT=a=>qp(a)&&Jn(a.pipe),HT=a=>{let e;return a&&(typeof FormData=="function"&&a instanceof FormData||Jn(a.append)&&((e=Wp(a))==="formdata"||e==="object"&&Jn(a.toString)&&a.toString()==="[object FormData]"))},zT=zs("URLSearchParams"),[BT,UT,$T,VT]=["ReadableStream","Request","Response","Headers"].map(zs),WT=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hd(a,e,{allOwnKeys:t=!1}={}){if(a===null||typeof a>"u")return;let n,r;if(typeof a!="object"&&(a=[a]),Lc(a))for(n=0,r=a.length;n<r;n++)e.call(null,a[n],n,a);else{const o=t?Object.getOwnPropertyNames(a):Object.keys(a),l=o.length;let u;for(n=0;n<l;n++)u=o[n],e.call(null,a[u],u,a)}}function jE(a,e){e=e.toLowerCase();const t=Object.keys(a);let n=t.length,r;for(;n-- >0;)if(r=t[n],e===r.toLowerCase())return r;return null}const Oo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,HE=a=>!Wu(a)&&a!==Oo;function Ay(){const{caseless:a}=HE(this)&&this||{},e={},t=(n,r)=>{const o=a&&jE(e,r)||r;Hf(e[o])&&Hf(n)?e[o]=Ay(e[o],n):Hf(n)?e[o]=Ay({},n):Lc(n)?e[o]=n.slice():e[o]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&hd(arguments[n],t);return e}const GT=(a,e,t,{allOwnKeys:n}={})=>(hd(e,(r,o)=>{t&&Jn(r)?a[o]=FE(r,t):a[o]=r},{allOwnKeys:n}),a),qT=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),XT=(a,e,t,n)=>{a.prototype=Object.create(e.prototype,n),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:e.prototype}),t&&Object.assign(a.prototype,t)},KT=(a,e,t,n)=>{let r,o,l;const u={};if(e=e||{},a==null)return e;do{for(r=Object.getOwnPropertyNames(a),o=r.length;o-- >0;)l=r[o],(!n||n(l,a,e))&&!u[l]&&(e[l]=a[l],u[l]=!0);a=t!==!1&&Zv(a)}while(a&&(!t||t(a,e))&&a!==Object.prototype);return e},YT=(a,e,t)=>{a=String(a),(t===void 0||t>a.length)&&(t=a.length),t-=e.length;const n=a.indexOf(e,t);return n!==-1&&n===t},QT=a=>{if(!a)return null;if(Lc(a))return a;let e=a.length;if(!OE(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=a[e];return t},JT=(a=>e=>a&&e instanceof a)(typeof Uint8Array<"u"&&Zv(Uint8Array)),ZT=(a,e)=>{const n=(a&&a[Symbol.iterator]).call(a);let r;for(;(r=n.next())&&!r.done;){const o=r.value;e.call(a,o[0],o[1])}},eR=(a,e)=>{let t;const n=[];for(;(t=a.exec(e))!==null;)n.push(t);return n},tR=zs("HTMLFormElement"),nR=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,r){return n.toUpperCase()+r}),wS=(({hasOwnProperty:a})=>(e,t)=>a.call(e,t))(Object.prototype),sR=zs("RegExp"),zE=(a,e)=>{const t=Object.getOwnPropertyDescriptors(a),n={};hd(t,(r,o)=>{let l;(l=e(r,o,a))!==!1&&(n[o]=l||r)}),Object.defineProperties(a,n)},iR=a=>{zE(a,(e,t)=>{if(Jn(a)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=a[t];if(Jn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},rR=(a,e)=>{const t={},n=r=>{r.forEach(o=>{t[o]=!0})};return Lc(a)?n(a):n(String(a).split(e)),t},oR=()=>{},aR=(a,e)=>a!=null&&Number.isFinite(a=+a)?a:e,ay="abcdefghijklmnopqrstuvwxyz",AS="0123456789",BE={DIGIT:AS,ALPHA:ay,ALPHA_DIGIT:ay+ay.toUpperCase()+AS},lR=(a=16,e=BE.ALPHA_DIGIT)=>{let t="";const{length:n}=e;for(;a--;)t+=e[Math.random()*n|0];return t};function cR(a){return!!(a&&Jn(a.append)&&a[Symbol.toStringTag]==="FormData"&&a[Symbol.iterator])}const uR=a=>{const e=new Array(10),t=(n,r)=>{if(qp(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[r]=n;const o=Lc(n)?[]:{};return hd(n,(l,u)=>{const d=t(l,r+1);!Wu(d)&&(o[u]=d)}),e[r]=void 0,o}}return n};return t(a,0)},hR=zs("AsyncFunction"),dR=a=>a&&(qp(a)||Jn(a))&&Jn(a.then)&&Jn(a.catch),UE=((a,e)=>a?setImmediate:e?((t,n)=>(Oo.addEventListener("message",({source:r,data:o})=>{r===Oo&&o===t&&n.length&&n.shift()()},!1),r=>{n.push(r),Oo.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Jn(Oo.postMessage)),fR=typeof queueMicrotask<"u"?queueMicrotask.bind(Oo):typeof process<"u"&&process.nextTick||UE,V={isArray:Lc,isArrayBuffer:DE,isBuffer:PT,isFormData:HT,isArrayBufferView:LT,isString:MT,isNumber:OE,isBoolean:NT,isObject:qp,isPlainObject:Hf,isReadableStream:BT,isRequest:UT,isResponse:$T,isHeaders:VT,isUndefined:Wu,isDate:IT,isFile:FT,isBlob:DT,isRegExp:sR,isFunction:Jn,isStream:jT,isURLSearchParams:zT,isTypedArray:JT,isFileList:OT,forEach:hd,merge:Ay,extend:GT,trim:WT,stripBOM:qT,inherits:XT,toFlatObject:KT,kindOf:Wp,kindOfTest:zs,endsWith:YT,toArray:QT,forEachEntry:ZT,matchAll:eR,isHTMLForm:tR,hasOwnProperty:wS,hasOwnProp:wS,reduceDescriptors:zE,freezeMethods:iR,toObjectSet:rR,toCamelCase:nR,noop:oR,toFiniteNumber:aR,findKey:jE,global:Oo,isContextDefined:HE,ALPHABET:BE,generateString:lR,isSpecCompliantForm:cR,toJSONObject:uR,isAsyncFn:hR,isThenable:dR,setImmediate:UE,asap:fR};function Pe(a,e,t,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}V.inherits(Pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const $E=Pe.prototype,VE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{VE[a]={value:a}});Object.defineProperties(Pe,VE);Object.defineProperty($E,"isAxiosError",{value:!0});Pe.from=(a,e,t,n,r,o)=>{const l=Object.create($E);return V.toFlatObject(a,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),Pe.call(l,a.message,e,t,n,r),l.cause=a,l.name=a.name,o&&Object.assign(l,o),l};const pR=null;function Sy(a){return V.isPlainObject(a)||V.isArray(a)}function WE(a){return V.endsWith(a,"[]")?a.slice(0,-2):a}function SS(a,e,t){return a?a.concat(e).map(function(r,o){return r=WE(r),!t&&o?"["+r+"]":r}).join(t?".":""):e}function gR(a){return V.isArray(a)&&!a.some(Sy)}const mR=V.toFlatObject(V,{},null,function(e){return/^is[A-Z]/.test(e)});function Xp(a,e,t){if(!V.isObject(a))throw new TypeError("target must be an object");e=e||new FormData,t=V.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,C){return!V.isUndefined(C[E])});const n=t.metaTokens,r=t.visitor||g,o=t.dots,l=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(e);if(!V.isFunction(r))throw new TypeError("visitor must be a function");function p(A){if(A===null)return"";if(V.isDate(A))return A.toISOString();if(!d&&V.isBlob(A))throw new Pe("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(A)||V.isTypedArray(A)?d&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function g(A,E,C){let k=A;if(A&&!C&&typeof A=="object"){if(V.endsWith(E,"{}"))E=n?E:E.slice(0,-2),A=JSON.stringify(A);else if(V.isArray(A)&&gR(A)||(V.isFileList(A)||V.endsWith(E,"[]"))&&(k=V.toArray(A)))return E=WE(E),k.forEach(function(M,I){!(V.isUndefined(M)||M===null)&&e.append(l===!0?SS([E],I,o):l===null?E:E+"[]",p(M))}),!1}return Sy(A)?!0:(e.append(SS(C,E,o),p(A)),!1)}const y=[],v=Object.assign(mR,{defaultVisitor:g,convertValue:p,isVisitable:Sy});function S(A,E){if(!V.isUndefined(A)){if(y.indexOf(A)!==-1)throw Error("Circular reference detected in "+E.join("."));y.push(A),V.forEach(A,function(k,L){(!(V.isUndefined(k)||k===null)&&r.call(e,k,V.isString(L)?L.trim():L,E,v))===!0&&S(k,E?E.concat(L):[L])}),y.pop()}}if(!V.isObject(a))throw new TypeError("data must be an object");return S(a),e}function ES(a){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function e0(a,e){this._pairs=[],a&&Xp(a,this,e)}const GE=e0.prototype;GE.append=function(e,t){this._pairs.push([e,t])};GE.toString=function(e){const t=e?function(n){return e.call(this,n,ES)}:ES;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function yR(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qE(a,e,t){if(!e)return a;const n=t&&t.encode||yR;V.isFunction(t)&&(t={serialize:t});const r=t&&t.serialize;let o;if(r?o=r(e,t):o=V.isURLSearchParams(e)?e.toString():new e0(e,t).toString(n),o){const l=a.indexOf("#");l!==-1&&(a=a.slice(0,l)),a+=(a.indexOf("?")===-1?"?":"&")+o}return a}class bS{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){V.forEach(this.handlers,function(n){n!==null&&e(n)})}}const XE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vR=typeof URLSearchParams<"u"?URLSearchParams:e0,wR=typeof FormData<"u"?FormData:null,AR=typeof Blob<"u"?Blob:null,SR={isBrowser:!0,classes:{URLSearchParams:vR,FormData:wR,Blob:AR},protocols:["http","https","file","blob","url","data"]},t0=typeof window<"u"&&typeof document<"u",Ey=typeof navigator=="object"&&navigator||void 0,ER=t0&&(!Ey||["ReactNative","NativeScript","NS"].indexOf(Ey.product)<0),bR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_R=t0&&window.location.href||"http://localhost",xR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:t0,hasStandardBrowserEnv:ER,hasStandardBrowserWebWorkerEnv:bR,navigator:Ey,origin:_R},Symbol.toStringTag,{value:"Module"})),un={...xR,...SR};function CR(a,e){return Xp(a,new un.classes.URLSearchParams,Object.assign({visitor:function(t,n,r,o){return un.isNode&&V.isBuffer(t)?(this.append(n,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function kR(a){return V.matchAll(/\w+|\[(\w*)]/g,a).map(e=>e[0]==="[]"?"":e[1]||e[0])}function TR(a){const e={},t=Object.keys(a);let n;const r=t.length;let o;for(n=0;n<r;n++)o=t[n],e[o]=a[o];return e}function KE(a){function e(t,n,r,o){let l=t[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=o>=t.length;return l=!l&&V.isArray(r)?r.length:l,d?(V.hasOwnProp(r,l)?r[l]=[r[l],n]:r[l]=n,!u):((!r[l]||!V.isObject(r[l]))&&(r[l]=[]),e(t,n,r[l],o)&&V.isArray(r[l])&&(r[l]=TR(r[l])),!u)}if(V.isFormData(a)&&V.isFunction(a.entries)){const t={};return V.forEachEntry(a,(n,r)=>{e(kR(n),r,t,0)}),t}return null}function RR(a,e,t){if(V.isString(a))try{return(e||JSON.parse)(a),V.trim(a)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(a)}const dd={transitional:XE,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=V.isObject(e);if(o&&V.isHTMLForm(e)&&(e=new FormData(e)),V.isFormData(e))return r?JSON.stringify(KE(e)):e;if(V.isArrayBuffer(e)||V.isBuffer(e)||V.isStream(e)||V.isFile(e)||V.isBlob(e)||V.isReadableStream(e))return e;if(V.isArrayBufferView(e))return e.buffer;if(V.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return CR(e,this.formSerializer).toString();if((u=V.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Xp(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),RR(e)):e}],transformResponse:[function(e){const t=this.transitional||dd.transitional,n=t&&t.forcedJSONParsing,r=this.responseType==="json";if(V.isResponse(e)||V.isReadableStream(e))return e;if(e&&V.isString(e)&&(n&&!this.responseType||r)){const l=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?Pe.from(u,Pe.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:un.classes.FormData,Blob:un.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],a=>{dd.headers[a]={}});const PR=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),LR=a=>{const e={};let t,n,r;return a&&a.split(`
`).forEach(function(l){r=l.indexOf(":"),t=l.substring(0,r).trim().toLowerCase(),n=l.substring(r+1).trim(),!(!t||e[t]&&PR[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},_S=Symbol("internals");function Su(a){return a&&String(a).trim().toLowerCase()}function zf(a){return a===!1||a==null?a:V.isArray(a)?a.map(zf):String(a)}function MR(a){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(a);)e[n[1]]=n[2];return e}const NR=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function ly(a,e,t,n,r){if(V.isFunction(n))return n.call(this,e,t);if(r&&(e=t),!!V.isString(e)){if(V.isString(n))return e.indexOf(n)!==-1;if(V.isRegExp(n))return n.test(e)}}function IR(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function FR(a,e){const t=V.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(a,n+t,{value:function(r,o,l){return this[n].call(this,e,r,o,l)},configurable:!0})})}let Fn=class{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(u,d,p){const g=Su(d);if(!g)throw new Error("header name must be a non-empty string");const y=V.findKey(r,g);(!y||r[y]===void 0||p===!0||p===void 0&&r[y]!==!1)&&(r[y||d]=zf(u))}const l=(u,d)=>V.forEach(u,(p,g)=>o(p,g,d));if(V.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(V.isString(e)&&(e=e.trim())&&!NR(e))l(LR(e),t);else if(V.isHeaders(e))for(const[u,d]of e.entries())o(d,u,n);else e!=null&&o(t,e,n);return this}get(e,t){if(e=Su(e),e){const n=V.findKey(this,e);if(n){const r=this[n];if(!t)return r;if(t===!0)return MR(r);if(V.isFunction(t))return t.call(this,r,n);if(V.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Su(e),e){const n=V.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||ly(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let r=!1;function o(l){if(l=Su(l),l){const u=V.findKey(n,l);u&&(!t||ly(n,n[u],u,t))&&(delete n[u],r=!0)}}return V.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];(!e||ly(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return V.forEach(this,(r,o)=>{const l=V.findKey(n,o);if(l){t[l]=zf(r),delete t[o];return}const u=e?IR(o):String(o).trim();u!==o&&delete t[o],t[u]=zf(r),n[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return V.forEach(this,(n,r)=>{n!=null&&n!==!1&&(t[r]=e&&V.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(r=>n.set(r)),n}static accessor(e){const n=(this[_S]=this[_S]={accessors:{}}).accessors,r=this.prototype;function o(l){const u=Su(l);n[u]||(FR(r,l),n[u]=!0)}return V.isArray(e)?e.forEach(o):o(e),this}};Fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(Fn.prototype,({value:a},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>a,set(n){this[t]=n}}});V.freezeMethods(Fn);function cy(a,e){const t=this||dd,n=e||t,r=Fn.from(n.headers);let o=n.data;return V.forEach(a,function(u){o=u.call(t,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function YE(a){return!!(a&&a.__CANCEL__)}function Mc(a,e,t){Pe.call(this,a??"canceled",Pe.ERR_CANCELED,e,t),this.name="CanceledError"}V.inherits(Mc,Pe,{__CANCEL__:!0});function QE(a,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?a(t):e(new Pe("Request failed with status code "+t.status,[Pe.ERR_BAD_REQUEST,Pe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function DR(a){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return e&&e[1]||""}function OR(a,e){a=a||10;const t=new Array(a),n=new Array(a);let r=0,o=0,l;return e=e!==void 0?e:1e3,function(d){const p=Date.now(),g=n[o];l||(l=p),t[r]=d,n[r]=p;let y=o,v=0;for(;y!==r;)v+=t[y++],y=y%a;if(r=(r+1)%a,r===o&&(o=(o+1)%a),p-l<e)return;const S=g&&p-g;return S?Math.round(v*1e3/S):void 0}}function jR(a,e){let t=0,n=1e3/e,r,o;const l=(p,g=Date.now())=>{t=g,r=null,o&&(clearTimeout(o),o=null),a.apply(null,p)};return[(...p)=>{const g=Date.now(),y=g-t;y>=n?l(p,g):(r=p,o||(o=setTimeout(()=>{o=null,l(r)},n-y)))},()=>r&&l(r)]}const wp=(a,e,t=3)=>{let n=0;const r=OR(50,250);return jR(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,d=l-n,p=r(d),g=l<=u;n=l;const y={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:p||void 0,estimated:p&&u&&g?(u-l)/p:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};a(y)},t)},xS=(a,e)=>{const t=a!=null;return[n=>e[0]({lengthComputable:t,total:a,loaded:n}),e[1]]},CS=a=>(...e)=>V.asap(()=>a(...e)),HR=un.hasStandardBrowserEnv?((a,e)=>t=>(t=new URL(t,un.origin),a.protocol===t.protocol&&a.host===t.host&&(e||a.port===t.port)))(new URL(un.origin),un.navigator&&/(msie|trident)/i.test(un.navigator.userAgent)):()=>!0,zR=un.hasStandardBrowserEnv?{write(a,e,t,n,r,o){const l=[a+"="+encodeURIComponent(e)];V.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),V.isString(n)&&l.push("path="+n),V.isString(r)&&l.push("domain="+r),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(a){const e=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(a){this.write(a,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function BR(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function UR(a,e){return e?a.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):a}function JE(a,e){return a&&!BR(e)?UR(a,e):e}const kS=a=>a instanceof Fn?{...a}:a;function Fa(a,e){e=e||{};const t={};function n(p,g,y,v){return V.isPlainObject(p)&&V.isPlainObject(g)?V.merge.call({caseless:v},p,g):V.isPlainObject(g)?V.merge({},g):V.isArray(g)?g.slice():g}function r(p,g,y,v){if(V.isUndefined(g)){if(!V.isUndefined(p))return n(void 0,p,y,v)}else return n(p,g,y,v)}function o(p,g){if(!V.isUndefined(g))return n(void 0,g)}function l(p,g){if(V.isUndefined(g)){if(!V.isUndefined(p))return n(void 0,p)}else return n(void 0,g)}function u(p,g,y){if(y in e)return n(p,g);if(y in a)return n(void 0,p)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(p,g,y)=>r(kS(p),kS(g),y,!0)};return V.forEach(Object.keys(Object.assign({},a,e)),function(g){const y=d[g]||r,v=y(a[g],e[g],g);V.isUndefined(v)&&y!==u||(t[g]=v)}),t}const ZE=a=>{const e=Fa({},a);let{data:t,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:o,headers:l,auth:u}=e;e.headers=l=Fn.from(l),e.url=qE(JE(e.baseURL,e.url),a.params,a.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let d;if(V.isFormData(t)){if(un.hasStandardBrowserEnv||un.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[p,...g]=d?d.split(";").map(y=>y.trim()).filter(Boolean):[];l.setContentType([p||"multipart/form-data",...g].join("; "))}}if(un.hasStandardBrowserEnv&&(n&&V.isFunction(n)&&(n=n(e)),n||n!==!1&&HR(e.url))){const p=r&&o&&zR.read(o);p&&l.set(r,p)}return e},$R=typeof XMLHttpRequest<"u",VR=$R&&function(a){return new Promise(function(t,n){const r=ZE(a);let o=r.data;const l=Fn.from(r.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:p}=r,g,y,v,S,A;function E(){S&&S(),A&&A(),r.cancelToken&&r.cancelToken.unsubscribe(g),r.signal&&r.signal.removeEventListener("abort",g)}let C=new XMLHttpRequest;C.open(r.method.toUpperCase(),r.url,!0),C.timeout=r.timeout;function k(){if(!C)return;const M=Fn.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),j={data:!u||u==="text"||u==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:M,config:a,request:C};QE(function(U){t(U),E()},function(U){n(U),E()},j),C=null}"onloadend"in C?C.onloadend=k:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(k)},C.onabort=function(){C&&(n(new Pe("Request aborted",Pe.ECONNABORTED,a,C)),C=null)},C.onerror=function(){n(new Pe("Network Error",Pe.ERR_NETWORK,a,C)),C=null},C.ontimeout=function(){let I=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const j=r.transitional||XE;r.timeoutErrorMessage&&(I=r.timeoutErrorMessage),n(new Pe(I,j.clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,a,C)),C=null},o===void 0&&l.setContentType(null),"setRequestHeader"in C&&V.forEach(l.toJSON(),function(I,j){C.setRequestHeader(j,I)}),V.isUndefined(r.withCredentials)||(C.withCredentials=!!r.withCredentials),u&&u!=="json"&&(C.responseType=r.responseType),p&&([v,A]=wp(p,!0),C.addEventListener("progress",v)),d&&C.upload&&([y,S]=wp(d),C.upload.addEventListener("progress",y),C.upload.addEventListener("loadend",S)),(r.cancelToken||r.signal)&&(g=M=>{C&&(n(!M||M.type?new Mc(null,a,C):M),C.abort(),C=null)},r.cancelToken&&r.cancelToken.subscribe(g),r.signal&&(r.signal.aborted?g():r.signal.addEventListener("abort",g)));const L=DR(r.url);if(L&&un.protocols.indexOf(L)===-1){n(new Pe("Unsupported protocol "+L+":",Pe.ERR_BAD_REQUEST,a));return}C.send(o||null)})},WR=(a,e)=>{const{length:t}=a=a?a.filter(Boolean):[];if(e||t){let n=new AbortController,r;const o=function(p){if(!r){r=!0,u();const g=p instanceof Error?p:this.reason;n.abort(g instanceof Pe?g:new Mc(g instanceof Error?g.message:g))}};let l=e&&setTimeout(()=>{l=null,o(new Pe(`timeout ${e} of ms exceeded`,Pe.ETIMEDOUT))},e);const u=()=>{a&&(l&&clearTimeout(l),l=null,a.forEach(p=>{p.unsubscribe?p.unsubscribe(o):p.removeEventListener("abort",o)}),a=null)};a.forEach(p=>p.addEventListener("abort",o));const{signal:d}=n;return d.unsubscribe=()=>V.asap(u),d}},GR=function*(a,e){let t=a.byteLength;if(t<e){yield a;return}let n=0,r;for(;n<t;)r=n+e,yield a.slice(n,r),n=r},qR=async function*(a,e){for await(const t of XR(a))yield*GR(t,e)},XR=async function*(a){if(a[Symbol.asyncIterator]){yield*a;return}const e=a.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},TS=(a,e,t,n)=>{const r=qR(a,e);let o=0,l,u=d=>{l||(l=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:p,value:g}=await r.next();if(p){u(),d.close();return}let y=g.byteLength;if(t){let v=o+=y;t(v)}d.enqueue(new Uint8Array(g))}catch(p){throw u(p),p}},cancel(d){return u(d),r.return()}},{highWaterMark:2})},Kp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",eb=Kp&&typeof ReadableStream=="function",KR=Kp&&(typeof TextEncoder=="function"?(a=>e=>a.encode(e))(new TextEncoder):async a=>new Uint8Array(await new Response(a).arrayBuffer())),tb=(a,...e)=>{try{return!!a(...e)}catch{return!1}},YR=eb&&tb(()=>{let a=!1;const e=new Request(un.origin,{body:new ReadableStream,method:"POST",get duplex(){return a=!0,"half"}}).headers.has("Content-Type");return a&&!e}),RS=64*1024,by=eb&&tb(()=>V.isReadableStream(new Response("").body)),Ap={stream:by&&(a=>a.body)};Kp&&(a=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ap[e]&&(Ap[e]=V.isFunction(a[e])?t=>t[e]():(t,n)=>{throw new Pe(`Response type '${e}' is not supported`,Pe.ERR_NOT_SUPPORT,n)})})})(new Response);const QR=async a=>{if(a==null)return 0;if(V.isBlob(a))return a.size;if(V.isSpecCompliantForm(a))return(await new Request(un.origin,{method:"POST",body:a}).arrayBuffer()).byteLength;if(V.isArrayBufferView(a)||V.isArrayBuffer(a))return a.byteLength;if(V.isURLSearchParams(a)&&(a=a+""),V.isString(a))return(await KR(a)).byteLength},JR=async(a,e)=>{const t=V.toFiniteNumber(a.getContentLength());return t??QR(e)},ZR=Kp&&(async a=>{let{url:e,method:t,data:n,signal:r,cancelToken:o,timeout:l,onDownloadProgress:u,onUploadProgress:d,responseType:p,headers:g,withCredentials:y="same-origin",fetchOptions:v}=ZE(a);p=p?(p+"").toLowerCase():"text";let S=WR([r,o&&o.toAbortSignal()],l),A;const E=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let C;try{if(d&&YR&&t!=="get"&&t!=="head"&&(C=await JR(g,n))!==0){let j=new Request(e,{method:"POST",body:n,duplex:"half"}),z;if(V.isFormData(n)&&(z=j.headers.get("content-type"))&&g.setContentType(z),j.body){const[U,W]=xS(C,wp(CS(d)));n=TS(j.body,RS,U,W)}}V.isString(y)||(y=y?"include":"omit");const k="credentials"in Request.prototype;A=new Request(e,{...v,signal:S,method:t.toUpperCase(),headers:g.normalize().toJSON(),body:n,duplex:"half",credentials:k?y:void 0});let L=await fetch(A);const M=by&&(p==="stream"||p==="response");if(by&&(u||M&&E)){const j={};["status","statusText","headers"].forEach(K=>{j[K]=L[K]});const z=V.toFiniteNumber(L.headers.get("content-length")),[U,W]=u&&xS(z,wp(CS(u),!0))||[];L=new Response(TS(L.body,RS,U,()=>{W&&W(),E&&E()}),j)}p=p||"text";let I=await Ap[V.findKey(Ap,p)||"text"](L,a);return!M&&E&&E(),await new Promise((j,z)=>{QE(j,z,{data:I,headers:Fn.from(L.headers),status:L.status,statusText:L.statusText,config:a,request:A})})}catch(k){throw E&&E(),k&&k.name==="TypeError"&&/fetch/i.test(k.message)?Object.assign(new Pe("Network Error",Pe.ERR_NETWORK,a,A),{cause:k.cause||k}):Pe.from(k,k&&k.code,a,A)}}),_y={http:pR,xhr:VR,fetch:ZR};V.forEach(_y,(a,e)=>{if(a){try{Object.defineProperty(a,"name",{value:e})}catch{}Object.defineProperty(a,"adapterName",{value:e})}});const PS=a=>`- ${a}`,eP=a=>V.isFunction(a)||a===null||a===!1,nb={getAdapter:a=>{a=V.isArray(a)?a:[a];const{length:e}=a;let t,n;const r={};for(let o=0;o<e;o++){t=a[o];let l;if(n=t,!eP(t)&&(n=_y[(l=String(t)).toLowerCase()],n===void 0))throw new Pe(`Unknown adapter '${l}'`);if(n)break;r[l||"#"+o]=n}if(!n){const o=Object.entries(r).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(PS).join(`
`):" "+PS(o[0]):"as no adapter specified";throw new Pe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:_y};function uy(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new Mc(null,a)}function LS(a){return uy(a),a.headers=Fn.from(a.headers),a.data=cy.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),nb.getAdapter(a.adapter||dd.adapter)(a).then(function(n){return uy(a),n.data=cy.call(a,a.transformResponse,n),n.headers=Fn.from(n.headers),n},function(n){return YE(n)||(uy(a),n&&n.response&&(n.response.data=cy.call(a,a.transformResponse,n.response),n.response.headers=Fn.from(n.response.headers))),Promise.reject(n)})}const sb="1.7.9",Yp={};["object","boolean","number","function","string","symbol"].forEach((a,e)=>{Yp[a]=function(n){return typeof n===a||"a"+(e<1?"n ":" ")+a}});const MS={};Yp.transitional=function(e,t,n){function r(o,l){return"[Axios v"+sb+"] Transitional option '"+o+"'"+l+(n?". "+n:"")}return(o,l,u)=>{if(e===!1)throw new Pe(r(l," has been removed"+(t?" in "+t:"")),Pe.ERR_DEPRECATED);return t&&!MS[l]&&(MS[l]=!0,console.warn(r(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,l,u):!0}};Yp.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function tP(a,e,t){if(typeof a!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);const n=Object.keys(a);let r=n.length;for(;r-- >0;){const o=n[r],l=e[o];if(l){const u=a[o],d=u===void 0||l(u,o,a);if(d!==!0)throw new Pe("option "+o+" must be "+d,Pe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Pe("Unknown option "+o,Pe.ERR_BAD_OPTION)}}const Bf={assertOptions:tP,validators:Yp},Ks=Bf.validators;let Ia=class{constructor(e){this.defaults=e,this.interceptors={request:new bS,response:new bS}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Fa(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;n!==void 0&&Bf.assertOptions(n,{silentJSONParsing:Ks.transitional(Ks.boolean),forcedJSONParsing:Ks.transitional(Ks.boolean),clarifyTimeoutError:Ks.transitional(Ks.boolean)},!1),r!=null&&(V.isFunction(r)?t.paramsSerializer={serialize:r}:Bf.assertOptions(r,{encode:Ks.function,serialize:Ks.function},!0)),Bf.assertOptions(t,{baseUrl:Ks.spelling("baseURL"),withXsrfToken:Ks.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=o&&V.merge(o.common,o[t.method]);o&&V.forEach(["delete","get","head","post","put","patch","common"],A=>{delete o[A]}),t.headers=Fn.concat(l,o);const u=[];let d=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(t)===!1||(d=d&&E.synchronous,u.unshift(E.fulfilled,E.rejected))});const p=[];this.interceptors.response.forEach(function(E){p.push(E.fulfilled,E.rejected)});let g,y=0,v;if(!d){const A=[LS.bind(this),void 0];for(A.unshift.apply(A,u),A.push.apply(A,p),v=A.length,g=Promise.resolve(t);y<v;)g=g.then(A[y++],A[y++]);return g}v=u.length;let S=t;for(y=0;y<v;){const A=u[y++],E=u[y++];try{S=A(S)}catch(C){E.call(this,C);break}}try{g=LS.call(this,S)}catch(A){return Promise.reject(A)}for(y=0,v=p.length;y<v;)g=g.then(p[y++],p[y++]);return g}getUri(e){e=Fa(this.defaults,e);const t=JE(e.baseURL,e.url);return qE(t,e.params,e.paramsSerializer)}};V.forEach(["delete","get","head","options"],function(e){Ia.prototype[e]=function(t,n){return this.request(Fa(n||{},{method:e,url:t,data:(n||{}).data}))}});V.forEach(["post","put","patch"],function(e){function t(n){return function(o,l,u){return this.request(Fa(u||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Ia.prototype[e]=t(),Ia.prototype[e+"Form"]=t(!0)});let nP=class ib{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const n=this;this.promise.then(r=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](r);n._listeners=null}),this.promise.then=r=>{let o;const l=new Promise(u=>{n.subscribe(u),o=u}).then(r);return l.cancel=function(){n.unsubscribe(o)},l},e(function(o,l,u){n.reason||(n.reason=new Mc(o,l,u),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ib(function(r){e=r}),cancel:e}}};function sP(a){return function(t){return a.apply(null,t)}}function iP(a){return V.isObject(a)&&a.isAxiosError===!0}const xy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xy).forEach(([a,e])=>{xy[e]=a});function rb(a){const e=new Ia(a),t=FE(Ia.prototype.request,e);return V.extend(t,Ia.prototype,e,{allOwnKeys:!0}),V.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return rb(Fa(a,r))},t}const Ue=rb(dd);Ue.Axios=Ia;Ue.CanceledError=Mc;Ue.CancelToken=nP;Ue.isCancel=YE;Ue.VERSION=sb;Ue.toFormData=Xp;Ue.AxiosError=Pe;Ue.Cancel=Ue.CanceledError;Ue.all=function(e){return Promise.all(e)};Ue.spread=sP;Ue.isAxiosError=iP;Ue.mergeConfig=Fa;Ue.AxiosHeaders=Fn;Ue.formToJSON=a=>KE(V.isHTMLForm(a)?new FormData(a):a);Ue.getAdapter=nb.getAdapter;Ue.HttpStatusCode=xy;Ue.default=Ue;const{Axios:JN,AxiosError:ZN,CanceledError:eI,isCancel:tI,CancelToken:nI,VERSION:sI,all:iI,Cancel:rI,isAxiosError:oI,spread:aI,toFormData:lI,AxiosHeaders:cI,HttpStatusCode:uI,formToJSON:hI,getAdapter:dI,mergeConfig:fI}=Ue;function rP(){const[a,e]=F.useState(!1),t=F.useRef(null),[n,r]=F.useState(null),[o,l]=F.useState(!1),u=S=>{var E;const A=(E=S.target.files)==null?void 0:E[0];A&&(r(A),console.log("File selected:",A.name))},d=()=>{t.current&&t.current.click()},p=S=>{S.preventDefault(),l(!0)},g=()=>{l(!1)},y=S=>{var E;S.preventDefault();const A=(E=S.dataTransfer.files)==null?void 0:E[0];A&&(r(A),console.log("File dropped:",A.name)),l(!1)};async function v(){if(!n)return;console.log(n.name),e(!1);const S=new FormData;S.append("file",n);try{const A=await Ue.post("api/file_upload",S,{headers:{"Content-Type":"multipart/form-data"}});console.log("File uploaded successfully",A.data)}catch(A){console.error("Error uploading file:",A)}}return R.jsxs("div",{className:`resume-upload ${a?"open":"closed"}`,children:[R.jsxs("button",{onClick:()=>e(!a),className:"upload-drop",children:["Resume Upload",a?R.jsx(hT,{size:24}):R.jsx(LE,{size:24})]}),R.jsx("div",{className:"upload-content",children:a&&R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"upload-container",children:[R.jsx("h2",{className:"upload-title",children:"Upload your Resume"}),R.jsxs("div",{className:`drag-area ${o?"dragging":""}`,onDrop:y,onDragOver:p,onClick:d,onDragLeave:g,children:[n?R.jsx("p",{className:"file-name",children:n.name}):R.jsx("p",{children:"Drag & Drop your Resume here or click to select"}),R.jsx("input",{type:"file",ref:t,onChange:u,accept:".pdf,.doc,.docx",className:"file-input"})]})]}),n&&R.jsx("div",{className:"action-container",children:R.jsx("button",{className:"custom-action-button",onClick:()=>v(),children:"Upload File"})})]})})]})}function NS({buttons:a=!1,aiInsight:e=null,suggestedSkills:t=null,toAddSkills:n=null,getAiInsight:r=()=>{},suggestSkills:o=()=>{},addToToAdd:l=()=>{},removeFromToAdd:u=()=>{},updateProfile:d=()=>{}}){return F.useEffect(()=>{function p(){if(!e)return;let g=[];e.split(`
`).forEach(y=>{y=y.trim(),(y.includes("&")&&y.includes(":")&&y.includes("/")||y.includes("Achievement Impact")&&y.includes(":")&&y.includes("/"))&&(y=y.split(" "),g.push(Number(y[y.length-1].split("/")[0])))}),console.log("Score arr: ",g)}p()},[e]),R.jsxs("div",{className:"content-block",children:[R.jsxs("div",{className:`content-box ${a?"square":"full-height"}`,children:[e&&R.jsx("div",{children:e.split(`
`).map(p=>p?R.jsx("div",{children:p}):R.jsx("br",{}))}),(t==null?void 0:t.length)>0&&R.jsxs("div",{className:"tag-container",children:[R.jsx("h2",{children:"Suggested Keywords"}),t.map(p=>R.jsxs("div",{className:"skill-tag",children:[R.jsx("h3",{children:p}),R.jsx("div",{className:"add-btn",onClick:()=>{l(p)},children:R.jsx(xT,{size:28,style:{color:"green",padding:"0px"}})})]}))]}),(n==null?void 0:n.length)>0&&R.jsxs("div",{className:"tag-container",children:[R.jsx("h2",{children:"Add To Profile"}),n.map(p=>R.jsxs("div",{className:"skill-tag",children:[R.jsx("h3",{children:p}),R.jsx("div",{className:"add-btn",onClick:()=>{u(p)},children:R.jsx(kT,{size:28,style:{color:"rgb(255, 71, 71)",padding:"0px"}})})]})),R.jsx("button",{className:"confirm-to-add",onClick:d,children:"Add To Profile"})]})]}),a&&R.jsxs("div",{className:"button-container",children:[R.jsx("button",{className:"content-button",onClick:r,children:"AI Insights"}),R.jsx("button",{className:"content-button",onClick:o,children:"Suggest Skills"})]})]})}async function Cy(){await Ue.get("/api/refresh_token").then(a=>{console.log(a,"New Token Assigned")}).catch(a=>{throw console.log("Refresh token error: ",a),new Error(a.response.data.detail)})}function oP({setProfile:a,profile:e}){const[t,n]=F.useState(null),[r,o]=F.useState([]),[l,u]=F.useState([]),[d,p]=F.useState(!1);Pc();async function g(){p(!0);try{const E=await Ue.get("/api/file_upload?action_type=ai_insights");console.log("Ai Insight Response: ",E),n(E.data.ai_insight),o([]),u([])}catch(E){console.log("AI Insight Error: ",E),E.response.data.includes("File not found")&&alert(E.response.data),o(null),n(null)}finally{p(!1)}}async function y(){p(!0),u([]);try{const E=await Ue.get("/api/file_upload?action_type=suggest_skills");console.log("Suggest Skills Response: ",E),o(E.data.suggest_skills),n(null)}catch(E){console.log("Suggest Skills Error: ",E),E.response.data.includes("File not found")&&alert(E.response.data),o(null),n(null)}finally{p(!1)}}async function v(){p(!0);let E=e.skills;for(let C of l)E.includes(C.trim().toLowerCase())||E.push(C.trim().toLowerCase());e.skills=E,a(C=>({...C,skills:E}));try{const C=await Ue.post("/api/update_applicant_profile",e);console.log("Update Profile Response: ",C)}catch(C){console.log("Update Profile Error: ",C)}finally{p(!1)}}function S(E){let C=r.filter(k=>k!==E);o(C),u([...l,E])}function A(E){let C=l.filter(k=>k!==E);u(C),o([...r,E])}return d?R.jsx("div",{id:"dashboard",children:R.jsxs("div",{className:"loading-container",children:[R.jsx("div",{className:"loading-spinner"}),R.jsx("p",{children:"Fetching Results..."})]})}):R.jsxs("div",{className:"dashboard",children:[R.jsx(rP,{}),R.jsx("main",{className:"container",children:R.jsxs("div",{className:"grid",children:[R.jsx(NS,{buttons:!0,getAiInsight:g,suggestSkills:y}),R.jsx(NS,{aiInsight:t,suggestedSkills:r,toAddSkills:l,addToToAdd:S,removeFromToAdd:A,updateProfile:v})]})})]})}function aP(){const[a,e]=F.useState(""),[t,n]=F.useState("jobs"),[r,o]=F.useState(!1),[l,u]=F.useState([]),d=Pc(),p=()=>{o(!0);let S=l;if(a.trim()){const A=a.toLowerCase();t==="jobs"?S=S.filter(E=>E.title.toLowerCase().includes(A)||E.company.toLowerCase().includes(A)||E.requirements.some(C=>C.toLowerCase().includes(A))):S=S.filter(E=>E.name.toLowerCase().includes(A)||E.skills.some(C=>C.toLowerCase().includes(A))),u(S)}},g=()=>r?R.jsxs("div",{className:"loading-container",children:[R.jsx("div",{className:"loading-spinner"}),R.jsx("p",{children:"Searching..."})]}):l.length===0?R.jsx("div",{className:"no-results",children:R.jsxs("h3",{children:["No results found",R.jsx("br",{})," Try searching or Updating profile"]})}):R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"results-header",children:!a&&t==="applicants"?R.jsx("h2",{children:"Other applicants like you"}):R.jsxs("h2",{children:[l.length," Results"]})}),R.jsx("div",{className:"results-container",children:l.map(S=>t==="jobs"?R.jsx(lP,{job:S},S.id):R.jsx(cP,{candidate:S},S.id))})]});async function y(){try{const S=await Ue.get("/api/get_similar_applicants");u(S.data.Applicants),o(!1)}catch(S){const A=S.response.data.detail;if(console.log(`Profile fetch error: 
`,S,A),A.includes("not provided")){alert("Session not started, please login again"),d("/");return}if(A.includes("invalid or expired"))try{const E=await Cy()}catch(E){if(console.log("Refresh error: ",E),E.message=="Refresh token expired"){alert("Session expired, please login again"),d("/");return}}}finally{o(!1)}}async function v(){try{const S=await Ue.get("/api/get_similar_jobs");u(S.data.Jobs),o(!1)}catch(S){const A=S.response.data.detail;if(console.log(`Profile fetch error: 
`,S,A),A.includes("not provided")){alert("Session not started, please login again"),d("/");return}if(A.includes("invalid or expired"))try{const E=await Cy()}catch(E){if(console.log("Refresh error: ",E),E.message=="Refresh token expired"){alert("Session expired, please login again"),d("/");return}}}finally{o(!1)}}return F.useEffect(()=>{e("");{if(t==="applicants"){y();return}if(t==="jobs"){v();return}}},[t]),F.useEffect(()=>{async function S(){await Ue.get("/api/get_search_results",{params:{search_string:a,search_type:t}}).then(A=>{u(A.data)}).catch(A=>{console.log("Search Error=> ",A)}).finally(()=>{o(!1)})}{if(!a.trim()){if(t==="jobs"){v();return}if(t==="applicants"){y();return}}if(t==="jobs"){S();return}if(t==="applicants"){S();return}}},[a]),R.jsx("div",{id:"search",children:R.jsxs("div",{className:"container",children:[R.jsxs("div",{className:"search-tabs",children:[R.jsx("button",{className:`tab ${t==="jobs"?"active":""}`,onClick:()=>{t!=="jobs"&&(o(!0),n("jobs"))},children:"Search Jobs"}),R.jsx("button",{className:`tab ${t==="applicants"?"active":""}`,onClick:()=>{t!=="applicants"&&(o(!0),n("applicants"))},children:"Search Applicants"})]}),R.jsxs("div",{className:"search-box",children:[R.jsxs("p",{className:"search-info",children:["Search for"," ",t==="jobs"?"jobs by skills":"applicants by skills"]}),R.jsx("div",{className:"search-input-container",children:R.jsx("input",{type:"text",className:"search-input",placeholder:"Enter skill",value:a,onChange:S=>{e(S.target.value)},onKeyDown:S=>{S.key==="Enter"&&p()}})})]}),R.jsx("div",{className:"search-results",children:g()})]})})}const lP=({job:a})=>R.jsxs("div",{className:"job-card",children:[R.jsx("div",{className:"job-card-header",children:R.jsxs("div",{children:[R.jsx("h3",{className:"job-title",children:a.title}),R.jsxs("div",{className:"job-meta",children:[R.jsx("span",{className:"company",children:R.jsxs("span",{className:"icon",children:[R.jsx(lT,{color:"orange"}),R.jsx("p",{children:a.company})]})}),R.jsx("span",{className:"location",children:R.jsxs("span",{className:"icon",children:[R.jsx(IE,{color:"#F05555"}),R.jsx("p",{children:a.location})]})})]})]})}),R.jsxs("div",{className:"job-card-content",children:[R.jsx("p",{className:"job-description",children:a.description}),R.jsx("div",{className:"job-skills",children:a.requirements.map((e,t)=>R.jsx("span",{className:"skill-tag",children:e},t))})]}),R.jsxs("div",{className:"job-card-footer",children:[R.jsx("div",{className:"job-details",children:R.jsx("span",{className:"salary",children:R.jsxs("span",{className:"icon",children:[R.jsx(yT,{}),R.jsx("p",{children:a.salary})]})})}),R.jsx("button",{className:"apply-button",children:"Apply Now"})]})]}),cP=({candidate:a})=>R.jsxs("div",{className:`candidate-card ${a.featured?"featured":""}`,children:[R.jsx("div",{className:"candidate-card-header",children:R.jsxs("div",{className:"candidate-info",children:[R.jsx("h3",{className:"candidate-name",children:a.name}),R.jsxs("p",{className:"candidate-username",children:["@",a.username]})]})}),R.jsxs("div",{className:"candidate-card-content",children:[R.jsxs("div",{className:"candidate-details",children:[R.jsxs("div",{className:"detail-item",children:[R.jsx("span",{className:"icon",children:R.jsx(ME,{color:"#007FFF"})}),R.jsx("span",{children:a.education||"Not Provided"})]}),R.jsxs("div",{className:"detail-item",children:[R.jsx("span",{className:"icon",children:R.jsx(NE,{color:"#00CF00"})}),R.jsxs("span",{children:[a.experience," years experience"]})]})]}),R.jsx("div",{className:"candidate-skills",children:a.skills.length?a.skills.map((e,t)=>R.jsx("span",{className:"skill-tag",children:e},t)):"Skills not provided"})]}),R.jsx("div",{className:"candidate-card-footer",children:R.jsx("button",{className:"view-profile-button",children:"View Profile"})})]});function uP({setProfile:a}){const[e,t]=F.useState(!0),[n,r]=F.useState(""),[o,l]=F.useState(""),[u,d]=F.useState(""),[p,g]=F.useState(""),[y,v]=F.useState(""),[S,A]=F.useState(""),[E,C]=F.useState(!1),[k,L]=F.useState(""),M=Pc(),I=()=>{t(!e),L(""),r(""),l(""),d(""),g(""),v(""),A("")};async function j(U){U.preventDefault(),C(!0),await Ue.post("/api/login",{username:n,password:o}).then(W=>{console.log(W.data),C(!1),M("/dashboard")}).catch(W=>{console.error(W.response.data),r(""),l(""),C(!1),L(W.response.data.status)})}async function z(U){U.preventDefault(),C(!0),L("");const W={username:p,name:u,password:y};try{const K=await Ue.post("/api/create_applicant",W);console.log(K.data),C(!1),I()}catch(K){console.error("Signup Error: ",K),C(!1)}}return F.useEffect(()=>{if(!e){if(y.length<8){L("Password must be at least 8 characters long.");return}if(!/\d/.test(y)){L("Password must contain at least one number.");return}if(!/[!@#$%^&*(),.?":{}|<>]/.test(y)){L("Password must contain at least one special character.");return}L("")}},[y]),F.useEffect(()=>{if(!e){if(y!==S){L("Passwords do not match.");return}L("")}},[S]),R.jsx("div",{className:"auth-container",children:R.jsxs("div",{className:"auth-card",children:[R.jsxs("div",{className:"auth-header",children:[R.jsx("h1",{children:"ATS-Assist"}),R.jsx("p",{children:"Analyse and improve your resume"})]}),R.jsxs("div",{className:"auth-tabs",children:[R.jsx("button",{className:`auth-tab ${e?"active":""}`,onClick:()=>{e||I()},children:"Login"}),R.jsx("button",{className:`auth-tab ${e?"":"active"}`,onClick:()=>{e&&I()},children:"Sign Up"})]}),k&&R.jsx("div",{className:"auth-error",children:k}),e?R.jsxs("form",{className:"auth-form",onSubmit:j,children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"login-username",children:"Username"}),R.jsxs("div",{className:"input-icon",children:[R.jsx("span",{className:"input-icon-wrapper",children:R.jsx(oy,{})}),R.jsx("input",{id:"login-username",type:"text",value:n,onChange:U=>r(U.target.value),placeholder:"Enter your username",required:!0})]})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"login-password",children:"Password"}),R.jsxs("div",{className:"input-icon",children:[R.jsx("span",{className:"input-icon-wrapper",children:R.jsx(ry,{})}),R.jsx("input",{id:"login-password",type:"password",value:o,onChange:U=>l(U.target.value),placeholder:"Enter your password",required:!0})]})]}),R.jsx("button",{type:"submit",className:"auth-button",disabled:E,children:E?R.jsx("span",{className:"loading-spinner"}):"Login"})]}):R.jsxs("form",{className:"auth-form",onSubmit:z,children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"signup-name",children:"Full Name"}),R.jsxs("div",{className:"input-icon",children:[R.jsx("span",{className:"input-icon-wrapper",children:R.jsx(oy,{})}),R.jsx("input",{id:"signup-name",type:"text",value:u,onChange:U=>d(U.target.value),placeholder:"Enter your full name",required:!0})]})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"signup-username",children:"Username"}),R.jsxs("div",{className:"input-icon",children:[R.jsx("span",{className:"input-icon-wrapper",children:R.jsx(oy,{})}),R.jsx("input",{id:"signup-username",type:"text",value:p,onChange:U=>g(U.target.value),placeholder:"Enter your username",required:!0})]})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"signup-password",children:"Password"}),R.jsxs("div",{className:"input-icon",children:[R.jsx("span",{className:"input-icon-wrapper",children:R.jsx(ry,{})}),R.jsx("input",{id:"signup-password",type:"password",value:y,onChange:U=>v(U.target.value),placeholder:"Create a password",required:!0})]})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"confirm-password",children:"Confirm Password"}),R.jsxs("div",{className:"input-icon",children:[R.jsx("span",{className:"input-icon-wrapper",children:R.jsx(ry,{})}),R.jsx("input",{id:"confirm-password",type:"password",value:S,onChange:U=>A(U.target.value),placeholder:"Confirm your password",required:!0})]})]}),R.jsx("button",{type:"submit",className:"auth-button",disabled:E||k.trim(),children:E?R.jsx("span",{className:"loading-spinner"}):"Sign Up"})]}),R.jsx("div",{className:"auth-footer",children:e?R.jsxs("p",{children:["Don't have an account?"," ",R.jsx("button",{className:"toggle-link",onClick:I,children:"Sign up"})]}):R.jsxs("p",{children:["Already have an account?"," ",R.jsx("button",{className:"toggle-link",onClick:I,children:"Login"})]})})]})})}function hP({setProfile:a,profile:e}){const[t,n]=F.useState(!1),r=Pc(),o=fo();async function l(){window.confirm("Are you sure")&&await Ue.get("/api/logout").then(d=>{console.log(d.data),r("/")}).catch(d=>{console.log("Error => ",d)})}return F.useEffect(()=>{async function u(){try{const d=await Ue.get("/api/get_profile");console.log("Navbar profile fetch: ",d),a(d.data.Profile)}catch(d){const p=d.response.data.detail;if(console.log("Profile fetch error: ",d,p),p.includes("not provided")){alert("Session not started, please login again"),r("/");return}if(p.includes("invalid or expired"))try{const g=await Cy()}catch(g){if(console.log("Refresh error: ",g),g.message=="Refresh token expired"){alert("Session expired, please login again"),r("/");return}}}}o.pathname!=="/"&&u()},[o.pathname]),o.pathname==="/"?R.jsx("nav",{className:"navbar"}):R.jsxs("nav",{className:"navbar",children:[R.jsxs("div",{className:"navbar-pages-con",children:[R.jsx("h4",{onClick:()=>{r("/dashboard")},children:"Home"}),R.jsx("h4",{onClick:()=>{r("/search")},children:"Search"})]}),R.jsxs("div",{tabIndex:0,className:"navbar-profile",onClick:()=>n(!t),onBlur:()=>{n(!1)},children:[R.jsxs("div",{className:"navbar-profile-closed",children:[R.jsx("div",{className:"navbar-profile-button",children:R.jsx("p",{children:e.name.split(" ").map((u,d)=>{if(d<2&&u.trim())return u[0].toUpperCase()}).join("")})}),R.jsx("h3",{children:e.username}),R.jsx(LE,{})]}),t&&R.jsxs("div",{className:"navbar-dropdown",children:[R.jsx("p",{onClick:()=>{r("/profile")},children:"Edit Profile"}),R.jsx("p",{onClick:l,children:"Log Out"})]})]})]})}function dP({profile:a,setProfile:e}){const t=Pc(),[n,r]=F.useState(!1),[o,l]=F.useState("about"),[u,d]=F.useState(""),p=(A,E,C,k)=>{const L=A.target.value;{if(k==="name"){e({...a,[k]:L.trimStart()});return}e({...a,[k]:L})}};function g(){const A=u.trim().toLowerCase();d(""),!a.skills.includes(A)&&e(E=>({...E,skills:[...E.skills,A]}))}function y(A){let E=a.skills.filter(C=>C.trim().toLowerCase()!==A);e(C=>({...C,skills:E}))}async function v(){if(window.confirm("Are you sure?")){if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(a.email)){alert("Email not valid...");return}try{const E=await Ue.post("/api/update_applicant_profile",a);console.log("Update Profile Response from profile page: ",E)}catch(E){console.log("Update Profile Error: ",E)}finally{r(!1)}}}async function S(){window.confirm("Are you sure")&&await Ue.get("/api/logout").then(E=>{console.log(E.data),t("/")}).catch(E=>{console.log("Error => ",E)})}return R.jsx("div",{className:"profile-page",children:R.jsx("div",{className:"profile-container",children:R.jsxs("div",{className:"profile-main",children:[R.jsxs("div",{className:"profile-card",children:[R.jsx("div",{className:"profile-cover",children:R.jsx("button",{className:`profile-button ${n?"save-button":"edit-button"}`,onClick:()=>n?v():r(!0),children:n?"Save Changes":"Edit Profile"})}),R.jsxs("div",{className:"profile-info-container",children:[R.jsx("div",{className:"profile-avatar",children:R.jsx("div",{className:"avatar-placeholder",children:a.name.split(" ").map((A,E)=>{if(E<2&&A.trim())return A[0].toUpperCase()}).join("")})}),R.jsx("div",{className:"profile-info",children:n?R.jsxs("div",{className:"edit-fields",children:[R.jsxs("div",{className:"field-group",children:[R.jsx("label",{children:"Name:"}),R.jsx("input",{type:"text",value:a.name,onChange:A=>p(A,"profile",null,"name")})]}),R.jsxs("div",{className:"field-group",children:[R.jsx("label",{children:"Email:"}),R.jsx("input",{type:"email",value:a.email,onChange:A=>p(A,"profile",null,"email")})]}),R.jsxs("div",{className:"field-group",children:[R.jsx("label",{children:"Education:"}),R.jsx("input",{type:"text",value:a.education,onChange:A=>p(A,"profile",null,"education")})]}),R.jsxs("div",{className:"field-group",children:[R.jsx("label",{children:"Experience (Years):"}),R.jsx("input",{type:"number",value:a.experience,onChange:A=>p(A,"profile",null,"experience")})]}),R.jsxs("div",{className:"field-group",children:[R.jsx("label",{children:"Location:"}),R.jsx("input",{type:"text",value:a.location,onChange:A=>p(A,"profile",null,"location")})]})]}):R.jsxs(R.Fragment,{children:[R.jsx("h2",{children:a.name}),R.jsxs("p",{className:"profile-title",children:["@",a.username||"NA"]}),R.jsxs("div",{className:"profile-details",children:[R.jsxs("p",{className:"profile-detail",children:[R.jsx("span",{className:"icon",children:R.jsx(IE,{color:"#F05555"})})," ",a.location||"NA"]}),R.jsxs("p",{className:"profile-detail",children:[R.jsx("span",{className:"icon",children:R.jsx(ET,{color:"orange"})})," ",a.email||"NA"]}),R.jsxs("p",{className:"profile-detail",children:[R.jsx("span",{className:"icon",children:R.jsx(NE,{color:"#00CF00"})}),a.experience.toString()+" years"||"NA"]}),R.jsxs("p",{className:"profile-detail",children:[R.jsx("span",{className:"icon",children:R.jsx(ME,{color:"#007FFF"})})," ",a.education||"NA"]})]})]})})]})]}),R.jsxs("div",{className:"profile-content",children:[R.jsxs("div",{className:"profile-tabs",children:[R.jsx("button",{className:`tab-button ${o==="about"?"active":""}`,onClick:()=>l("about"),children:"About"}),R.jsx("button",{className:`tab-button ${o==="skills"?"active":""}`,onClick:()=>l("skills"),children:"Skills"})]}),R.jsxs("div",{className:"tab-content",children:[o==="about"&&R.jsxs("div",{className:"about-section",children:[R.jsx("h3",{children:"About Me"}),n?R.jsx("textarea",{value:a.about,onChange:A=>p(A,"profile",null,"about"),className:"about-textarea"}):R.jsx("p",{children:a.about})]}),o==="skills"&&R.jsxs("div",{className:"skills-section",children:[R.jsx("h3",{children:"Skills"}),n&&R.jsxs("div",{className:"skill-input-div",children:[R.jsx("label",{htmlFor:"skill-input",children:"Add Skill:"}),R.jsx("input",{id:"skill-input",type:"text",value:u,onChange:A=>{d(A.target.value)}}),R.jsx("button",{disabled:!u,onClick:g,children:"Add Skill"})]}),R.jsx("div",{className:"tag-container",children:a.skills.map((A,E)=>(A=A.toLowerCase().trim(),R.jsxs("div",{className:"skill-tag",children:[A,n&&R.jsx("button",{className:"remove-tag",onClick:()=>y(A),children:""})]},E)))})]})]})]}),R.jsx("div",{className:"profile-sidebar",children:R.jsxs("div",{className:"account-settings",children:[R.jsx("h3",{children:"Account Settings"}),R.jsxs("ul",{className:"settings-list",children:[R.jsx("li",{children:R.jsxs("div",{className:"settings-button-container",children:[R.jsx(wT,{color:"rgb(255, 217, 0)"}),R.jsx("button",{className:"settings-button",children:"Change Password"})]})}),R.jsx("li",{children:R.jsxs("div",{className:"logout-button-container",children:[R.jsx(fT,{color:"red"}),R.jsx("button",{className:"settings-button logout",onClick:S,children:"Log Out"})]})})]})]})})]})})})}const fP="modulepreload",pP=function(a){return"/"+a},IS={},Lf=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));r=Promise.allSettled(t.map(d=>{if(d=pP(d),d in IS)return;IS[d]=!0;const p=d.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":fP,p||(y.as="script"),y.crossOrigin="",y.href=d,u&&y.setAttribute("nonce",u),document.head.appendChild(y),p)return new Promise((v,S)=>{y.addEventListener("load",v),y.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return r.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})};var Bu={};Bu.d=(a,e)=>{for(var t in e)Bu.o(e,t)&&!Bu.o(a,t)&&Object.defineProperty(a,t,{enumerable:!0,get:e[t]})};Bu.o=(a,e)=>Object.prototype.hasOwnProperty.call(a,e);var Re=globalThis.pdfjsLib={};Bu.d(Re,{AbortException:()=>$a,AnnotationEditorLayer:()=>jv,AnnotationEditorParamsType:()=>ke,AnnotationEditorType:()=>Me,AnnotationEditorUIManager:()=>Oa,AnnotationLayer:()=>dM,AnnotationMode:()=>Nr,ColorPicker:()=>_p,DOMSVGFactory:()=>f0,DrawLayer:()=>Uv,FeatureTest:()=>wn,GlobalWorkerOptions:()=>nr,ImageKind:()=>Uf,InvalidPDFException:()=>ab,MissingPDFException:()=>Ua,OPS:()=>xs,OutputScale:()=>Ly,PDFDataRangeTransport:()=>s_,PDFDateString:()=>o0,PDFWorker:()=>Cl,PasswordResponses:()=>vP,PermissionFlag:()=>yP,PixelsPerInch:()=>lo,RenderingCancelledException:()=>i0,TextLayer:()=>rv,UnexpectedResponseException:()=>eg,Util:()=>ge,VerbosityLevel:()=>Qp,XfaLayer:()=>r_,build:()=>GL,createValidAbsoluteUrl:()=>EP,fetchData:()=>ng,getDocument:()=>OL,getFilenameFromUrl:()=>LP,getPdfFilenameFromUrl:()=>MP,getXfaPageViewport:()=>NP,isDataScheme:()=>sg,isPdfFile:()=>r0,noContextMenu:()=>gs,normalizeUnicode:()=>TP,setLayerDimensions:()=>Da,shadow:()=>Be,version:()=>WL});const dn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),ob=[1,0,0,1,0,0],ky=[.001,0,0,.001,0,0],gP=1e7,hy=1.35,Yn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Nr={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},mP="pdfjs_internal_editor_",Me={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},ke={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},yP={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},sn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Uf={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Lt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Eu={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Qp={ERRORS:0,WARNINGS:1,INFOS:5},xs={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},vP={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Jp=Qp.WARNINGS;function wP(a){Number.isInteger(a)&&(Jp=a)}function AP(){return Jp}function Zp(a){Jp>=Qp.INFOS&&console.log(`Info: ${a}`)}function Fe(a){Jp>=Qp.WARNINGS&&console.log(`Warning: ${a}`)}function rt(a){throw new Error(a)}function Ft(a,e){a||rt(e)}function SP(a){switch(a==null?void 0:a.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function EP(a,e=null,t=null){if(!a)return null;try{if(t&&typeof a=="string"){if(t.addDefaultProtocol&&a.startsWith("www.")){const r=a.match(/\./g);(r==null?void 0:r.length)>=2&&(a=`http://${a}`)}if(t.tryConvertEncoding)try{a=kP(a)}catch{}}const n=e?new URL(a,e):new URL(a);if(SP(n))return n}catch{}return null}function Be(a,e,t,n=!1){return Object.defineProperty(a,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const po=function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class Ty extends po{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Ry extends po{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class ab extends po{constructor(e){super(e,"InvalidPDFException")}}class Ua extends po{constructor(e){super(e,"MissingPDFException")}}class eg extends po{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class bP extends po{constructor(e){super(e,"FormatError")}}class $a extends po{constructor(e){super(e,"AbortException")}}function lb(a){(typeof a!="object"||(a==null?void 0:a.length)===void 0)&&rt("Invalid argument for bytesToString");const e=a.length,t=8192;if(e<t)return String.fromCharCode.apply(null,a);const n=[];for(let r=0;r<e;r+=t){const o=Math.min(r+t,e),l=a.subarray(r,o);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function tg(a){typeof a!="string"&&rt("Invalid argument for stringToBytes");const e=a.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=a.charCodeAt(n)&255;return t}function _P(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)}function n0(a){const e=Object.create(null);for(const[t,n]of a)e[t]=n;return e}function xP(){const a=new Uint8Array(4);return a[0]=1,new Uint32Array(a.buffer,0,1)[0]===1}function CP(){try{return new Function(""),!0}catch{return!1}}class wn{static get isLittleEndian(){return Be(this,"isLittleEndian",xP())}static get isEvalSupported(){return Be(this,"isEvalSupported",CP())}static get isOffscreenCanvasSupported(){return Be(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Be(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Be(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return Be(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const dy=Array.from(Array(256).keys(),a=>a.toString(16).padStart(2,"0"));var rr,$f,Py;class ge{static makeHexColor(e,t,n){return`#${dy[e]}${dy[t]}${dy[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const n=e[0]*t[0]+e[1]*t[2]+t[4],r=e[0]*t[1]+e[1]*t[3]+t[5];return[n,r]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2],r=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,o=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n;return[r,o]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),o=this.applyTransform([e[0],e[3]],t),l=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],r[0],o[0],l[0]),Math.min(n[1],r[1],o[1],l[1]),Math.max(n[0],r[0],o[0],l[0]),Math.max(n[1],r[1],o[1],l[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],o=e[2]*t[0]+e[3]*t[2],l=e[2]*t[1]+e[3]*t[3],u=(n+l)/2,d=Math.sqrt((n+l)**2-4*(n*l-o*r))/2,p=u+d||1,g=u-d||1;return[Math.sqrt(p),Math.sqrt(g)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const o=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),l=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return o>l?null:[n,o,r,l]}static bezierBoundingBox(e,t,n,r,o,l,u,d,p){return p?(p[0]=Math.min(p[0],e,u),p[1]=Math.min(p[1],t,d),p[2]=Math.max(p[2],e,u),p[3]=Math.max(p[3],t,d)):p=[Math.min(e,u),Math.min(t,d),Math.max(e,u),Math.max(t,d)],x(this,rr,Py).call(this,e,n,o,u,t,r,l,d,3*(-e+3*(n-o)+u),6*(e-2*n+o),3*(n-e),p),x(this,rr,Py).call(this,e,n,o,u,t,r,l,d,3*(-t+3*(r-l)+d),6*(t-2*r+l),3*(r-t),p),p}}rr=new WeakSet,$f=function(e,t,n,r,o,l,u,d,p,g){if(p<=0||p>=1)return;const y=1-p,v=p*p,S=v*p,A=y*(y*(y*e+3*p*t)+3*v*n)+S*r,E=y*(y*(y*o+3*p*l)+3*v*u)+S*d;g[0]=Math.min(g[0],A),g[1]=Math.min(g[1],E),g[2]=Math.max(g[2],A),g[3]=Math.max(g[3],E)},Py=function(e,t,n,r,o,l,u,d,p,g,y,v){if(Math.abs(p)<1e-12){Math.abs(g)>=1e-12&&x(this,rr,$f).call(this,e,t,n,r,o,l,u,d,-y/g,v);return}const S=g**2-4*y*p;if(S<0)return;const A=Math.sqrt(S),E=2*p;x(this,rr,$f).call(this,e,t,n,r,o,l,u,d,(-g+A)/E,v),x(this,rr,$f).call(this,e,t,n,r,o,l,u,d,(-g-A)/E,v)},T(ge,rr);function kP(a){return decodeURIComponent(escape(a))}let fy=null,FS=null;function TP(a){return fy||(fy=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,FS=new Map([["","t"]])),a.replaceAll(fy,(e,t,n)=>t?t.normalize("NFKC"):FS.get(n))}function RP(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const a=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(a);else for(let e=0;e<32;e++)a[e]=Math.floor(Math.random()*255);return lb(a)}const s0="pdfjs_internal_id_",ki={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function PP(a){return Uint8Array.prototype.toBase64?a.toBase64():btoa(lb(a))}const Ri="http://www.w3.org/2000/svg",Fo=class Fo{};Ce(Fo,"CSS",96),Ce(Fo,"PDF",72),Ce(Fo,"PDF_TO_CSS_UNITS",Fo.CSS/Fo.PDF);let lo=Fo;async function ng(a,e="text"){if(xu(a,document.baseURI)){const t=await fetch(a);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const r=new XMLHttpRequest;r.open("GET",a,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class fd{constructor({viewBox:e,scale:t,rotation:n,offsetX:r=0,offsetY:o=0,dontFlip:l=!1}){this.viewBox=e,this.scale=t,this.rotation=n,this.offsetX=r,this.offsetY=o;const u=(e[2]+e[0])/2,d=(e[3]+e[1])/2;let p,g,y,v;switch(n%=360,n<0&&(n+=360),n){case 180:p=-1,g=0,y=0,v=1;break;case 90:p=0,g=1,y=1,v=0;break;case 270:p=0,g=-1,y=-1,v=0;break;case 0:p=1,g=0,y=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(y=-y,v=-v);let S,A,E,C;p===0?(S=Math.abs(d-e[1])*t+r,A=Math.abs(u-e[0])*t+o,E=(e[3]-e[1])*t,C=(e[2]-e[0])*t):(S=Math.abs(u-e[0])*t+r,A=Math.abs(d-e[1])*t+o,E=(e[2]-e[0])*t,C=(e[3]-e[1])*t),this.transform=[p*t,g*t,y*t,v*t,S-p*t*u-y*t*d,A-g*t*u-v*t*d],this.width=E,this.height=C}get rawDims(){const{viewBox:e}=this;return Be(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new fd({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:o})}convertToViewportPoint(e,t){return ge.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=ge.applyTransform([e[0],e[1]],this.transform),n=ge.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return ge.applyInverseTransform([e,t],this.transform)}}class i0 extends po{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function sg(a){const e=a.length;let t=0;for(;t<e&&a[t].trim()==="";)t++;return a.substring(t,t+5).toLowerCase()==="data:"}function r0(a){return typeof a=="string"&&/\.pdf$/i.test(a)}function LP(a){return[a]=a.split(/[#?]/,1),a.substring(a.lastIndexOf("/")+1)}function MP(a,e="document.pdf"){if(typeof a!="string")return e;if(sg(a))return Fe('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=t.exec(a);let o=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(o&&(o=o[0],o.includes("%")))try{o=n.exec(decodeURIComponent(o))[0]}catch{}return o||e}class DS{constructor(){Ce(this,"started",Object.create(null));Ce(this,"times",[])}time(e){e in this.started&&Fe(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Fe(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:r,end:o}of this.times)e.push(`${n.padEnd(t)} ${o-r}ms
`);return e.join("")}}function xu(a,e){try{const{protocol:t}=e?new URL(a,e):new URL(a);return t==="http:"||t==="https:"}catch{return!1}}function gs(a){a.preventDefault()}function OS(a){console.log("Deprecated API usage: "+a)}var qu;class o0{static toDateObject(e){if(!e||typeof e!="string")return null;h(this,qu)||b(this,qu,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=h(this,qu).exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(t[3],10);o=o>=1&&o<=31?o:1;let l=parseInt(t[4],10);l=l>=0&&l<=23?l:0;let u=parseInt(t[5],10);u=u>=0&&u<=59?u:0;let d=parseInt(t[6],10);d=d>=0&&d<=59?d:0;const p=t[7]||"Z";let g=parseInt(t[8],10);g=g>=0&&g<=23?g:0;let y=parseInt(t[9],10)||0;return y=y>=0&&y<=59?y:0,p==="-"?(l+=g,u+=y):p==="+"&&(l-=g,u-=y),new Date(Date.UTC(n,r,o,l,u,d))}}qu=new WeakMap,T(o0,qu);function NP(a,{scale:e=1,rotation:t=0}){const{width:n,height:r}=a.attributes.style,o=[0,0,parseInt(n),parseInt(r)];return new fd({viewBox:o,scale:e,rotation:t})}function a0(a){if(a.startsWith("#")){const e=parseInt(a.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return a.startsWith("rgb(")?a.slice(4,-1).split(",").map(e=>parseInt(e)):a.startsWith("rgba(")?a.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Fe(`Not a valid color format: "${a}"`),[0,0,0])}function IP(a){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of a.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;a.set(t,a0(n))}e.remove()}function pt(a){const{a:e,b:t,c:n,d:r,e:o,f:l}=a.getTransform();return[e,t,n,r,o,l]}function Ti(a){const{a:e,b:t,c:n,d:r,e:o,f:l}=a.getTransform().invertSelf();return[e,t,n,r,o,l]}function Da(a,e,t=!1,n=!0){if(e instanceof fd){const{pageWidth:r,pageHeight:o}=e.rawDims,{style:l}=a,u=wn.isCSSRoundSupported,d=`var(--scale-factor) * ${r}px`,p=`var(--scale-factor) * ${o}px`,g=u?`round(down, ${d}, var(--scale-round-x, 1px))`:`calc(${d})`,y=u?`round(down, ${p}, var(--scale-round-y, 1px))`:`calc(${p})`;!t||e.rotation%180===0?(l.width=g,l.height=y):(l.width=y,l.height=g)}n&&a.setAttribute("data-main-rotation",e.rotation)}class Ly{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Ir,jo,Cs,Ho,Xu,Ku,Cp,cb,An,ub,hb,Vf,db,Ny;const Pi=class Pi{constructor(e){T(this,An);T(this,Ir,null);T(this,jo,null);T(this,Cs);T(this,Ho,null);T(this,Xu,null);b(this,Cs,e),h(Pi,Ku)||b(Pi,Ku,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=b(this,Ir,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=h(this,Cs)._uiManager._signal;e.addEventListener("contextmenu",gs,{signal:t}),e.addEventListener("pointerdown",x(Pi,Cp,cb),{signal:t});const n=b(this,Ho,document.createElement("div"));n.className="buttons",e.append(n);const r=h(this,Cs).toolbarPosition;if(r){const{style:o}=e,l=h(this,Cs)._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*l}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return x(this,An,db).call(this),e}get div(){return h(this,Ir)}hide(){var e;h(this,Ir).classList.add("hidden"),(e=h(this,jo))==null||e.hideDropdown()}show(){var e;h(this,Ir).classList.remove("hidden"),(e=h(this,Xu))==null||e.shown()}async addAltText(e){const t=await e.render();x(this,An,Vf).call(this,t),h(this,Ho).prepend(t,h(this,An,Ny)),b(this,Xu,e)}addColorPicker(e){b(this,jo,e);const t=e.renderButton();x(this,An,Vf).call(this,t),h(this,Ho).prepend(t,h(this,An,Ny))}remove(){var e;h(this,Ir).remove(),(e=h(this,jo))==null||e.destroy(),b(this,jo,null)}};Ir=new WeakMap,jo=new WeakMap,Cs=new WeakMap,Ho=new WeakMap,Xu=new WeakMap,Ku=new WeakMap,Cp=new WeakSet,cb=function(e){e.stopPropagation()},An=new WeakSet,ub=function(e){h(this,Cs)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},hb=function(e){h(this,Cs)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Vf=function(e){const t=h(this,Cs)._uiManager._signal;e.addEventListener("focusin",x(this,An,ub).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",x(this,An,hb).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",gs,{signal:t})},db=function(){const{editorType:e,_uiManager:t}=h(this,Cs),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",h(Pi,Ku)[e]),x(this,An,Vf).call(this,n),n.addEventListener("click",r=>{t.delete()},{signal:t._signal}),h(this,Ho).append(n)},Ny=function(){const e=document.createElement("div");return e.className="divider",e},T(Pi,Cp),T(Pi,Ku,null);let My=Pi;var Yu,zo,Bo,uo,fb,pb,gb;class FP{constructor(e){T(this,uo);T(this,Yu,null);T(this,zo,null);T(this,Bo);b(this,Bo,e)}show(e,t,n){const[r,o]=x(this,uo,pb).call(this,t,n),{style:l}=h(this,zo)||b(this,zo,x(this,uo,fb).call(this));e.append(h(this,zo)),l.insetInlineEnd=`${100*r}%`,l.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){h(this,zo).remove()}}Yu=new WeakMap,zo=new WeakMap,Bo=new WeakMap,uo=new WeakSet,fb=function(){const e=b(this,zo,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",gs,{signal:h(this,Bo)._signal});const t=b(this,Yu,document.createElement("div"));return t.className="buttons",e.append(t),x(this,uo,gb).call(this),e},pb=function(e,t){let n=0,r=0;for(const o of e){const l=o.y+o.height;if(l<n)continue;const u=o.x+(t?o.width:0);if(l>n){r=u,n=l;continue}t?u>r&&(r=u):u<r&&(r=u)}return[t?1-r:r,n]},gb=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=h(this,Bo)._signal;e.addEventListener("contextmenu",gs,{signal:n}),e.addEventListener("click",()=>{h(this,Bo).highlightSelection("floating_button")},{signal:n}),h(this,Yu).append(e)};function Sp(a,e,t){for(const n of t)e.addEventListener(n,a[n].bind(a))}function DP(a){return Math.round(Math.min(255,Math.max(1,255*a))).toString(16).padStart(2,"0")}var kp;class OP{constructor(){T(this,kp,0)}get id(){return`${mP}${gn(this,kp)._++}`}}kp=new WeakMap;var Rl,Qu,on,Pl,Wf;const g0=class g0{constructor(){T(this,Pl);T(this,Rl,RP());T(this,Qu,0);T(this,on,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const o=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Be(this,"_isSVGFittingCanvas",o)}async getFromFile(e){const{lastModified:t,name:n,size:r,type:o}=e;return x(this,Pl,Wf).call(this,`${t}_${n}_${r}_${o}`,e)}async getFromUrl(e){return x(this,Pl,Wf).call(this,e,e)}async getFromBlob(e,t){const n=await t;return x(this,Pl,Wf).call(this,e,n)}async getFromId(e){h(this,on)||b(this,on,new Map);const t=h(this,on).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){h(this,on)||b(this,on,new Map);let n=h(this,on).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${h(this,Rl)}_${gn(this,Qu)._++}`,refCounter:1,isSvg:!1},h(this,on).set(e,n),h(this,on).set(n.id,n),n}getSvgUrl(e){const t=h(this,on).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;h(this,on)||b(this,on,new Map);const t=h(this,on).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const o=new OffscreenCanvas(n.width,n.height);o.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=o.convertToBlob()}(r=n.close)==null||r.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${h(this,Rl)}_`)}};Rl=new WeakMap,Qu=new WeakMap,on=new WeakMap,Pl=new WeakSet,Wf=async function(e,t){h(this,on)||b(this,on,new Map);let n=h(this,on).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${h(this,Rl)}_${gn(this,Qu)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(n.url=t,r=await ng(t,"blob")):t instanceof File?r=n.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const o=g0._isSVGFittingCanvas,l=new FileReader,u=new Image,d=new Promise((p,g)=>{u.onload=()=>{n.bitmap=u,n.isSvg=!0,p()},l.onload=async()=>{const y=n.svgUrl=l.result;u.src=await o?`${y}#svgView(preserveAspectRatio(none))`:y},u.onerror=l.onerror=g});l.readAsDataURL(r),await d}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){console.error(r),n=null}return h(this,on).set(e,n),n&&h(this,on).set(n.id,n),n};let Iy=g0;var Bt,Fr,Ju,Ut;class jP{constructor(e=128){T(this,Bt,[]);T(this,Fr,!1);T(this,Ju);T(this,Ut,-1);b(this,Ju,e)}add({cmd:e,undo:t,post:n,mustExec:r,type:o=NaN,overwriteIfSameType:l=!1,keepUndo:u=!1}){if(r&&e(),h(this,Fr))return;const d={cmd:e,undo:t,post:n,type:o};if(h(this,Ut)===-1){h(this,Bt).length>0&&(h(this,Bt).length=0),b(this,Ut,0),h(this,Bt).push(d);return}if(l&&h(this,Bt)[h(this,Ut)].type===o){u&&(d.undo=h(this,Bt)[h(this,Ut)].undo),h(this,Bt)[h(this,Ut)]=d;return}const p=h(this,Ut)+1;p===h(this,Ju)?h(this,Bt).splice(0,1):(b(this,Ut,p),p<h(this,Bt).length&&h(this,Bt).splice(p)),h(this,Bt).push(d)}undo(){if(h(this,Ut)===-1)return;b(this,Fr,!0);const{undo:e,post:t}=h(this,Bt)[h(this,Ut)];e(),t==null||t(),b(this,Fr,!1),b(this,Ut,h(this,Ut)-1)}redo(){if(h(this,Ut)<h(this,Bt).length-1){b(this,Ut,h(this,Ut)+1),b(this,Fr,!0);const{cmd:e,post:t}=h(this,Bt)[h(this,Ut)];e(),t==null||t(),b(this,Fr,!1)}}hasSomethingToUndo(){return h(this,Ut)!==-1}hasSomethingToRedo(){return h(this,Ut)<h(this,Bt).length-1}destroy(){b(this,Bt,null)}}Bt=new WeakMap,Fr=new WeakMap,Ju=new WeakMap,Ut=new WeakMap;var Tp,mb;class pd{constructor(e){T(this,Tp);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=wn.platform;for(const[n,r,o={}]of e)for(const l of n){const u=l.startsWith("mac+");t&&u?(this.callbacks.set(l.slice(4),{callback:r,options:o}),this.allKeys.add(l.split("+").at(-1))):!t&&!u&&(this.callbacks.set(l,{callback:r,options:o}),this.allKeys.add(l.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(x(this,Tp,mb).call(this,t));if(!n)return;const{callback:r,options:{bubbles:o=!1,args:l=[],checker:u=null}}=n;u&&!u(e,t)||(r.bind(e,...l,t)(),o||(t.stopPropagation(),t.preventDefault()))}}Tp=new WeakSet,mb=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Rp=class Rp{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return IP(e),Be(this,"_colors",e)}convert(e){const t=a0(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every((o,l)=>o===t[l]))return Rp._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?ge.makeHexColor(...t):e}};Ce(Rp,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Fy=Rp;var Ll,Un,Mt,Kt,Ml,Mi,Nl,ks,Dr,Il,Uo,Qs,Ts,$o,Zu,eh,Fl,th,Js,Or,Dl,jr,Zs,Pp,Hr,nh,zr,Vo,sh,ih,$t,Ke,Ni,Wo,rh,oh,Br,ei,Ii,ah,as,ie,Gf,Dy,yb,vb,qf,wb,Ab,Sb,Oy,Eb,jy,Hy,bb,mn,Lr,_b,xb,zy,Cb,Cu,By;const _l=class _l{constructor(e,t,n,r,o,l,u,d,p,g,y){T(this,ie);T(this,Ll,new AbortController);T(this,Un,null);T(this,Mt,new Map);T(this,Kt,new Map);T(this,Ml,null);T(this,Mi,null);T(this,Nl,null);T(this,ks,new jP);T(this,Dr,null);T(this,Il,0);T(this,Uo,new Set);T(this,Qs,null);T(this,Ts,null);T(this,$o,new Set);T(this,Zu,!1);T(this,eh,!1);T(this,Fl,!1);T(this,th,null);T(this,Js,null);T(this,Or,null);T(this,Dl,null);T(this,jr,!1);T(this,Zs,null);T(this,Pp,new OP);T(this,Hr,!1);T(this,nh,!1);T(this,zr,null);T(this,Vo,null);T(this,sh,null);T(this,ih,null);T(this,$t,Me.NONE);T(this,Ke,new Set);T(this,Ni,null);T(this,Wo,null);T(this,rh,null);T(this,oh,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});T(this,Br,[0,0]);T(this,ei,null);T(this,Ii,null);T(this,ah,null);T(this,as,null);const v=this._signal=h(this,Ll).signal;b(this,Ii,e),b(this,ah,t),b(this,Ml,n),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:v}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),r._on("setpreference",this.onSetPreference.bind(this),{signal:v}),r._on("switchannotationeditorparams",S=>this.updateParams(S.type,S.value),{signal:v}),x(this,ie,wb).call(this),x(this,ie,bb).call(this),x(this,ie,Oy).call(this),b(this,Mi,o.annotationStorage),b(this,th,o.filterFactory),b(this,Wo,l),b(this,Dl,u||null),b(this,Zu,d),b(this,eh,p),b(this,Fl,g),b(this,ih,y||null),this.viewParameters={realScale:lo.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=_l.prototype,t=l=>h(l,Ii).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:u})=>{if(u instanceof HTMLInputElement){const{type:d}=u;return d!=="text"&&d!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Be(this,"_keyboardManager",new pd([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&h(l,Ii).contains(u)&&!l.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&h(l,Ii).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:t}]]))}destroy(){var e,t,n,r;(e=h(this,as))==null||e.resolve(),b(this,as,null),(t=h(this,Ll))==null||t.abort(),b(this,Ll,null),this._signal=null;for(const o of h(this,Kt).values())o.destroy();h(this,Kt).clear(),h(this,Mt).clear(),h(this,$o).clear(),b(this,Un,null),h(this,Ke).clear(),h(this,ks).destroy(),(n=h(this,Ml))==null||n.destroy(),(r=h(this,Zs))==null||r.hide(),b(this,Zs,null),h(this,Js)&&(clearTimeout(h(this,Js)),b(this,Js,null)),h(this,ei)&&(clearTimeout(h(this,ei)),b(this,ei,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return h(this,ih)}get useNewAltTextFlow(){return h(this,eh)}get useNewAltTextWhenAddingImage(){return h(this,Fl)}get hcmFilter(){return Be(this,"hcmFilter",h(this,Wo)?h(this,th).addHCMFilter(h(this,Wo).foreground,h(this,Wo).background):"none")}get direction(){return Be(this,"direction",getComputedStyle(h(this,Ii)).direction)}get highlightColors(){return Be(this,"highlightColors",h(this,Dl)?new Map(h(this,Dl).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Be(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){b(this,sh,e)}editAltText(e,t=!1){var n;(n=h(this,Ml))==null||n.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":b(this,Fl,t);break}}onPageChanging({pageNumber:e}){b(this,Il,e-1)}focusMainContainer(){h(this,Ii).focus()}findParent(e,t){for(const n of h(this,Kt).values()){const{x:r,y:o,width:l,height:u}=n.div.getBoundingClientRect();if(e>=r&&e<=r+l&&t>=o&&t<=o+u)return n}return null}disableUserSelect(e=!1){h(this,ah).classList.toggle("noUserSelect",e)}addShouldRescale(e){h(this,$o).add(e)}removeShouldRescale(e){h(this,$o).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*lo.PDF_TO_CSS_UNITS;for(const t of h(this,$o))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:l}=t,u=t.toString(),p=x(this,ie,Gf).call(this,t).closest(".textLayer"),g=this.getSelectionBoxes(p);if(!g)return;t.empty();const y=x(this,ie,Dy).call(this,p),v=h(this,$t)===Me.NONE,S=()=>{y==null||y.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:g,anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:l,text:u}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(Me.HIGHLIGHT,S);return}S()}addToAnnotationStorage(e){!e.isEmpty()&&h(this,Mi)&&!h(this,Mi).has(e.id)&&h(this,Mi).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,h(this,jr)&&(b(this,jr,!1),x(this,ie,qf).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of h(this,Ke))if(t.div.contains(e)){b(this,Vo,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!h(this,Vo))return;const[e,t]=h(this,Vo);b(this,Vo,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){x(this,ie,Oy).call(this),x(this,ie,jy).call(this)}removeEditListeners(){x(this,ie,Eb).call(this),x(this,ie,Hy).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of h(this,Ts))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of h(this,Ts))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=h(this,Un))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of h(this,Ke)){const o=r.serialize(!0);o&&t.push(o)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const o of t.items)for(const l of h(this,Ts))if(l.isHandlingMimeForPasting(o.type)){l.paste(o,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(o){Fe(`paste: "${o.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const d of n){const p=await r.deserialize(d);if(!p)return;o.push(p)}const l=()=>{for(const d of o)x(this,ie,zy).call(this,d);x(this,ie,By).call(this,o)},u=()=>{for(const d of o)d.remove()};this.addCommands({cmd:l,undo:u,mustExec:!0})}catch(o){Fe(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),h(this,$t)!==Me.NONE&&!this.isEditorHandlingKeyboard&&_l._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,h(this,jr)&&(b(this,jr,!1),x(this,ie,qf).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(x(this,ie,Ab).call(this),x(this,ie,jy).call(this),x(this,ie,mn).call(this,{isEditing:h(this,$t)!==Me.NONE,isEmpty:x(this,ie,Cu).call(this),hasSomethingToUndo:h(this,ks).hasSomethingToUndo(),hasSomethingToRedo:h(this,ks).hasSomethingToRedo(),hasSelectedEditor:!1})):(x(this,ie,Sb).call(this),x(this,ie,Hy).call(this),x(this,ie,mn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!h(this,Ts)){b(this,Ts,e);for(const t of h(this,Ts))x(this,ie,Lr).call(this,t.defaultPropertiesToUpdate)}}getId(){return h(this,Pp).id}get currentLayer(){return h(this,Kt).get(h(this,Il))}getLayer(e){return h(this,Kt).get(e)}get currentPageIndex(){return h(this,Il)}addLayer(e){h(this,Kt).set(e.pageIndex,e),h(this,Hr)?e.enable():e.disable()}removeLayer(e){h(this,Kt).delete(e.pageIndex)}async updateMode(e,t=null,n=!1){if(h(this,$t)!==e&&!(h(this,as)&&(await h(this,as).promise,!h(this,as)))){if(b(this,as,Promise.withResolvers()),b(this,$t,e),e===Me.NONE){this.setEditingState(!1),x(this,ie,xb).call(this),h(this,as).resolve();return}this.setEditingState(!0),await x(this,ie,_b).call(this),this.unselectAll();for(const r of h(this,Kt).values())r.updateMode(e);if(!t){n&&this.addNewEditorFromKeyboard(),h(this,as).resolve();return}for(const r of h(this,Mt).values())r.annotationElementId===t?(this.setSelected(r),r.enterInEditMode()):r.unselect();h(this,as).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==h(this,$t)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var n;if(h(this,Ts)){switch(e){case ke.CREATE:this.currentLayer.addNewEditor();return;case ke.HIGHLIGHT_DEFAULT_COLOR:(n=h(this,sh))==null||n.updateColor(t);break;case ke.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(h(this,rh)||b(this,rh,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const r of h(this,Ke))r.updateParams(e,t);for(const r of h(this,Ts))r.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var o;for(const l of h(this,Mt).values())l.editorType===e&&l.show(t);(((o=h(this,rh))==null?void 0:o.get(ke.HIGHLIGHT_SHOW_ALL))??!0)!==t&&x(this,ie,Lr).call(this,[[ke.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(h(this,nh)!==e){b(this,nh,e);for(const t of h(this,Kt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of h(this,Mt).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return h(this,Mt).get(e)}addEditor(e){h(this,Mt).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(h(this,Js)&&clearTimeout(h(this,Js)),b(this,Js,setTimeout(()=>{this.focusMainContainer(),b(this,Js,null)},0))),h(this,Mt).delete(e.id),this.unselect(e),(!e.annotationElementId||!h(this,Uo).has(e.annotationElementId))&&((t=h(this,Mi))==null||t.remove(e.id))}addDeletedAnnotationElement(e){h(this,Uo).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return h(this,Uo).has(e)}removeDeletedAnnotationElement(e){h(this,Uo).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){h(this,Un)!==e&&(b(this,Un,e),e&&x(this,ie,Lr).call(this,e.propertiesToUpdate))}updateUI(e){h(this,ie,Cb)===e&&x(this,ie,Lr).call(this,e.propertiesToUpdate)}toggleSelected(e){if(h(this,Ke).has(e)){h(this,Ke).delete(e),e.unselect(),x(this,ie,mn).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,Ke).add(e),e.select(),x(this,ie,Lr).call(this,e.propertiesToUpdate),x(this,ie,mn).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of h(this,Ke))t!==e&&t.unselect();h(this,Ke).clear(),h(this,Ke).add(e),e.select(),x(this,ie,Lr).call(this,e.propertiesToUpdate),x(this,ie,mn).call(this,{hasSelectedEditor:!0})}isSelected(e){return h(this,Ke).has(e)}get firstSelectedEditor(){return h(this,Ke).values().next().value}unselect(e){e.unselect(),h(this,Ke).delete(e),x(this,ie,mn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,Ke).size!==0}get isEnterHandled(){return h(this,Ke).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){h(this,ks).undo(),x(this,ie,mn).call(this,{hasSomethingToUndo:h(this,ks).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:x(this,ie,Cu).call(this)})}redo(){h(this,ks).redo(),x(this,ie,mn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,ks).hasSomethingToRedo(),isEmpty:x(this,ie,Cu).call(this)})}addCommands(e){h(this,ks).add(e),x(this,ie,mn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:x(this,ie,Cu).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...h(this,Ke)],t=()=>{for(const r of e)r.remove()},n=()=>{for(const r of e)x(this,ie,zy).call(this,r)};this.addCommands({cmd:t,undo:n,mustExec:!0})}commitOrRemove(){var e;(e=h(this,Un))==null||e.commitOrRemove()}hasSomethingToControl(){return h(this,Un)||this.hasSelection}selectAll(){for(const e of h(this,Ke))e.commit();x(this,ie,By).call(this,h(this,Mt).values())}unselectAll(){if(!(h(this,Un)&&(h(this,Un).commitOrRemove(),h(this,$t)!==Me.NONE))&&this.hasSelection){for(const e of h(this,Ke))e.unselect();h(this,Ke).clear(),x(this,ie,mn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;h(this,Br)[0]+=e,h(this,Br)[1]+=t;const[r,o]=h(this,Br),l=[...h(this,Ke)],u=1e3;h(this,ei)&&clearTimeout(h(this,ei)),b(this,ei,setTimeout(()=>{b(this,ei,null),h(this,Br)[0]=h(this,Br)[1]=0,this.addCommands({cmd:()=>{for(const d of l)h(this,Mt).has(d.id)&&d.translateInPage(r,o)},undo:()=>{for(const d of l)h(this,Mt).has(d.id)&&d.translateInPage(-r,-o)},mustExec:!1})},u));for(const d of l)d.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),b(this,Qs,new Map);for(const e of h(this,Ke))h(this,Qs).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!h(this,Qs))return!1;this.disableUserSelect(!1);const e=h(this,Qs);b(this,Qs,null);let t=!1;for(const[{x:r,y:o,pageIndex:l},u]of e)u.newX=r,u.newY=o,u.newPageIndex=l,t||(t=r!==u.savedX||o!==u.savedY||l!==u.savedPageIndex);if(!t)return!1;const n=(r,o,l,u)=>{if(h(this,Mt).has(r.id)){const d=h(this,Kt).get(u);d?r._setParentAndPosition(d,o,l):(r.pageIndex=u,r.x=o,r.y=l)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:l,newPageIndex:u}]of e)n(r,o,l,u)},undo:()=>{for(const[r,{savedX:o,savedY:l,savedPageIndex:u}]of e)n(r,o,l,u)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(h(this,Qs))for(const n of h(this,Qs).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||h(this,Ke).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return h(this,Un)===e}getActive(){return h(this,Un)}getMode(){return h(this,$t)}get imageManager(){return Be(this,"imageManager",new Iy)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let p=0,g=t.rangeCount;p<g;p++)if(!e.contains(t.getRangeAt(p).commonAncestorContainer))return null;const{x:n,y:r,width:o,height:l}=e.getBoundingClientRect();let u;switch(e.getAttribute("data-main-rotation")){case"90":u=(p,g,y,v)=>({x:(g-r)/l,y:1-(p+y-n)/o,width:v/l,height:y/o});break;case"180":u=(p,g,y,v)=>({x:1-(p+y-n)/o,y:1-(g+v-r)/l,width:y/o,height:v/l});break;case"270":u=(p,g,y,v)=>({x:1-(g+v-r)/l,y:(p-n)/o,width:v/l,height:y/o});break;default:u=(p,g,y,v)=>({x:(p-n)/o,y:(g-r)/l,width:y/o,height:v/l});break}const d=[];for(let p=0,g=t.rangeCount;p<g;p++){const y=t.getRangeAt(p);if(!y.collapsed)for(const{x:v,y:S,width:A,height:E}of y.getClientRects())A===0||E===0||d.push(u(v,S,A,E))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:e,id:t}){(h(this,Nl)||b(this,Nl,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=h(this,Nl))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=h(this,Nl))==null?void 0:r.get(e.data.id);if(!t)return;const n=h(this,Mi).getRawValue(t);n&&(h(this,$t)===Me.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}};Ll=new WeakMap,Un=new WeakMap,Mt=new WeakMap,Kt=new WeakMap,Ml=new WeakMap,Mi=new WeakMap,Nl=new WeakMap,ks=new WeakMap,Dr=new WeakMap,Il=new WeakMap,Uo=new WeakMap,Qs=new WeakMap,Ts=new WeakMap,$o=new WeakMap,Zu=new WeakMap,eh=new WeakMap,Fl=new WeakMap,th=new WeakMap,Js=new WeakMap,Or=new WeakMap,Dl=new WeakMap,jr=new WeakMap,Zs=new WeakMap,Pp=new WeakMap,Hr=new WeakMap,nh=new WeakMap,zr=new WeakMap,Vo=new WeakMap,sh=new WeakMap,ih=new WeakMap,$t=new WeakMap,Ke=new WeakMap,Ni=new WeakMap,Wo=new WeakMap,rh=new WeakMap,oh=new WeakMap,Br=new WeakMap,ei=new WeakMap,Ii=new WeakMap,ah=new WeakMap,as=new WeakMap,ie=new WeakSet,Gf=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Dy=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of h(this,Kt).values())if(n.hasTextLayer(e))return n;return null},yb=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=x(this,ie,Gf).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(h(this,Zs)||b(this,Zs,new FP(this)),h(this,Zs).show(n,r,this.direction==="ltr"))},vb=function(){var o,l,u;const e=document.getSelection();if(!e||e.isCollapsed){h(this,Ni)&&((o=h(this,Zs))==null||o.hide(),b(this,Ni,null),x(this,ie,mn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===h(this,Ni))return;const r=x(this,ie,Gf).call(this,e).closest(".textLayer");if(!r){h(this,Ni)&&((l=h(this,Zs))==null||l.hide(),b(this,Ni,null),x(this,ie,mn).call(this,{hasSelectedText:!1}));return}if((u=h(this,Zs))==null||u.hide(),b(this,Ni,t),x(this,ie,mn).call(this,{hasSelectedText:!0}),!(h(this,$t)!==Me.HIGHLIGHT&&h(this,$t)!==Me.NONE)&&(h(this,$t)===Me.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),b(this,jr,this.isShiftKeyDown),!this.isShiftKeyDown)){const d=h(this,$t)===Me.HIGHLIGHT?x(this,ie,Dy).call(this,r):null;d==null||d.toggleDrawing();const p=new AbortController,g=this.combinedSignal(p),y=v=>{v.type==="pointerup"&&v.button!==0||(p.abort(),d==null||d.toggleDrawing(!0),v.type==="pointerup"&&x(this,ie,qf).call(this,"main_toolbar"))};window.addEventListener("pointerup",y,{signal:g}),window.addEventListener("blur",y,{signal:g})}},qf=function(e=""){h(this,$t)===Me.HIGHLIGHT?this.highlightSelection(e):h(this,Zu)&&x(this,ie,yb).call(this)},wb=function(){document.addEventListener("selectionchange",x(this,ie,vb).bind(this),{signal:this._signal})},Ab=function(){if(h(this,Or))return;b(this,Or,new AbortController);const e=this.combinedSignal(h(this,Or));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},Sb=function(){var e;(e=h(this,Or))==null||e.abort(),b(this,Or,null)},Oy=function(){if(h(this,zr))return;b(this,zr,new AbortController);const e=this.combinedSignal(h(this,zr));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},Eb=function(){var e;(e=h(this,zr))==null||e.abort(),b(this,zr,null)},jy=function(){if(h(this,Dr))return;b(this,Dr,new AbortController);const e=this.combinedSignal(h(this,Dr));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Hy=function(){var e;(e=h(this,Dr))==null||e.abort(),b(this,Dr,null)},bb=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},mn=function(e){Object.entries(e).some(([n,r])=>h(this,oh)[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,oh),e)}),h(this,$t)===Me.HIGHLIGHT&&e.hasSelectedEditor===!1&&x(this,ie,Lr).call(this,[[ke.HIGHLIGHT_FREE,!0]]))},Lr=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},_b=async function(){if(!h(this,Hr)){b(this,Hr,!0);const e=[];for(const t of h(this,Kt).values())e.push(t.enable());await Promise.all(e);for(const t of h(this,Mt).values())t.enable()}},xb=function(){if(this.unselectAll(),h(this,Hr)){b(this,Hr,!1);for(const e of h(this,Kt).values())e.disable();for(const e of h(this,Mt).values())e.disable()}},zy=function(e){const t=h(this,Kt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},Cb=function(){let e=null;for(e of h(this,Ke));return e},Cu=function(){if(h(this,Mt).size===0)return!0;if(h(this,Mt).size===1)for(const e of h(this,Mt).values())return e.isEmpty();return!1},By=function(e){for(const t of h(this,Ke))t.unselect();h(this,Ke).clear();for(const t of e)t.isEmpty()||(h(this,Ke).add(t),t.select());x(this,ie,mn).call(this,{hasSelectedEditor:this.hasSelection})},Ce(_l,"TRANSLATE_SMALL",1),Ce(_l,"TRANSLATE_BIG",10);let Oa=_l;var Vt,ti,Rs,Ol,ni,$n,jl,si,Pn,Fi,Go,ii,Ur,Hs,ku,Xf;const yn=class yn{constructor(e){T(this,Hs);T(this,Vt,null);T(this,ti,!1);T(this,Rs,null);T(this,Ol,null);T(this,ni,null);T(this,$n,null);T(this,jl,!1);T(this,si,null);T(this,Pn,null);T(this,Fi,null);T(this,Go,null);T(this,ii,!1);b(this,Pn,e),b(this,ii,e._uiManager.useNewAltTextFlow),h(yn,Ur)||b(yn,Ur,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){yn._l10n??(yn._l10n=e)}async render(){const e=b(this,Rs,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=b(this,Ol,document.createElement("span"));e.append(t),h(this,ii)?(e.classList.add("new"),e.setAttribute("data-l10n-id",h(yn,Ur).missing),t.setAttribute("data-l10n-id",h(yn,Ur)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=h(this,Pn)._uiManager._signal;e.addEventListener("contextmenu",gs,{signal:n}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const r=o=>{o.preventDefault(),h(this,Pn)._uiManager.editAltText(h(this,Pn)),h(this,ii)&&h(this,Pn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:h(this,Hs,ku)}})};return e.addEventListener("click",r,{capture:!0,signal:n}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(b(this,jl,!0),r(o))},{signal:n}),await x(this,Hs,Xf).call(this),e}finish(){h(this,Rs)&&(h(this,Rs).focus({focusVisible:h(this,jl)}),b(this,jl,!1))}isEmpty(){return h(this,ii)?h(this,Vt)===null:!h(this,Vt)&&!h(this,ti)}hasData(){return h(this,ii)?h(this,Vt)!==null||!!h(this,Fi):this.isEmpty()}get guessedText(){return h(this,Fi)}async setGuessedText(e){h(this,Vt)===null&&(b(this,Fi,e),b(this,Go,await yn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),x(this,Hs,Xf).call(this))}toggleAltTextBadge(e=!1){var t;if(!h(this,ii)||h(this,Vt)){(t=h(this,si))==null||t.remove(),b(this,si,null);return}if(!h(this,si)){const n=b(this,si,document.createElement("div"));n.className="noAltTextBadge",h(this,Pn).div.append(n)}h(this,si).classList.toggle("hidden",!e)}serialize(e){let t=h(this,Vt);return!e&&h(this,Fi)===t&&(t=h(this,Go)),{altText:t,decorative:h(this,ti),guessedText:h(this,Fi),textWithDisclaimer:h(this,Go)}}get data(){return{altText:h(this,Vt),decorative:h(this,ti)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:r,cancel:o=!1}){n&&(b(this,Fi,n),b(this,Go,r)),!(h(this,Vt)===e&&h(this,ti)===t)&&(o||(b(this,Vt,e),b(this,ti,t)),x(this,Hs,Xf).call(this))}toggle(e=!1){h(this,Rs)&&(!e&&h(this,$n)&&(clearTimeout(h(this,$n)),b(this,$n,null)),h(this,Rs).disabled=!e)}shown(){h(this,Pn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:h(this,Hs,ku)}})}destroy(){var e,t;(e=h(this,Rs))==null||e.remove(),b(this,Rs,null),b(this,Ol,null),b(this,ni,null),(t=h(this,si))==null||t.remove(),b(this,si,null)}};Vt=new WeakMap,ti=new WeakMap,Rs=new WeakMap,Ol=new WeakMap,ni=new WeakMap,$n=new WeakMap,jl=new WeakMap,si=new WeakMap,Pn=new WeakMap,Fi=new WeakMap,Go=new WeakMap,ii=new WeakMap,Ur=new WeakMap,Hs=new WeakSet,ku=function(){return h(this,Vt)&&"added"||h(this,Vt)===null&&this.guessedText&&"review"||"missing"},Xf=async function(){var r,o,l;const e=h(this,Rs);if(!e)return;if(h(this,ii)){if(e.classList.toggle("done",!!h(this,Vt)),e.setAttribute("data-l10n-id",h(yn,Ur)[h(this,Hs,ku)]),(r=h(this,Ol))==null||r.setAttribute("data-l10n-id",h(yn,Ur)[`${h(this,Hs,ku)}-label`]),!h(this,Vt)){(o=h(this,ni))==null||o.remove();return}}else{if(!h(this,Vt)&&!h(this,ti)){e.classList.remove("done"),(l=h(this,ni))==null||l.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=h(this,ni);if(!t){b(this,ni,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${h(this,Pn).id}`;const u=100,d=h(this,Pn)._uiManager._signal;d.addEventListener("abort",()=>{clearTimeout(h(this,$n)),b(this,$n,null)},{once:!0}),e.addEventListener("mouseenter",()=>{b(this,$n,setTimeout(()=>{b(this,$n,null),h(this,ni).classList.add("show"),h(this,Pn)._reportTelemetry({action:"alt_text_tooltip"})},u))},{signal:d}),e.addEventListener("mouseleave",()=>{var p;h(this,$n)&&(clearTimeout(h(this,$n)),b(this,$n,null)),(p=h(this,ni))==null||p.classList.remove("show")},{signal:d})}h(this,ti)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=h(this,Vt)),t.parentNode||e.append(t);const n=h(this,Pn).getImageForAltText();n==null||n.setAttribute("aria-describedby",t.id)},T(yn,Ur,null),Ce(yn,"_l10n",null);let Ep=yn;var qo,Ps,dt,Hl,Xo,Yt,Ko,$r,lh,Yo,Vr,ch,Qo,Di,ri,zl,Bl,ls,uh,Lp,Ie,Uy,hh,$y,Vy,kb,Tb,Wy,Gy,qy,Rb,Xy,Pb,Lb,Mb,Ky,Tu;const qe=class qe{constructor(e){T(this,Ie);T(this,qo,null);T(this,Ps,null);T(this,dt,null);T(this,Hl,!1);T(this,Xo,!1);T(this,Yt,null);T(this,Ko,null);T(this,$r,null);T(this,lh,"");T(this,Yo,!1);T(this,Vr,null);T(this,ch,!1);T(this,Qo,!1);T(this,Di,!1);T(this,ri,null);T(this,zl,0);T(this,Bl,0);T(this,ls,null);Ce(this,"_editToolbar",null);Ce(this,"_initialOptions",Object.create(null));Ce(this,"_initialData",null);Ce(this,"_isVisible",!0);Ce(this,"_uiManager",null);Ce(this,"_focusEventsAllowed",!0);T(this,uh,!1);T(this,Lp,qe._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:o,pageY:l}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[o,l];const[u,d]=this.parentDimensions;this.x=e.x/u,this.y=e.y/d,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=qe.prototype._resizeWithKeyboard,t=Oa.TRANSLATE_SMALL,n=Oa.TRANSLATE_BIG;return Be(this,"_resizerKeyboardManager",new pd([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],qe.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Be(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new HP({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(qe._l10n??(qe._l10n=e),qe._l10nResizer||(qe._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),qe._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);qe._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){rt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return h(this,uh)}set _isDraggable(e){var t;b(this,uh,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=h(this,Lp)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):x(this,Ie,Tu).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(h(this,Yo)?b(this,Yo,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,r){const[o,l]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/o,this.y=(t+r)/l,this.fixAndSetPosition()}translate(e,t){x(this,Ie,Uy).call(this,this.parentDimensions,e,t)}translateInPage(e,t){h(this,Vr)||b(this,Vr,[this.x,this.y]),x(this,Ie,Uy).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){h(this,Vr)||b(this,Vr,[this.x,this.y]);const[n,r]=this.parentDimensions;if(this.x+=e/n,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:l}=this;const[u,d]=this.getBaseTranslation();o+=u,l+=d,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*l).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!h(this,Vr)&&(h(this,Vr)[0]!==this.x||h(this,Vr)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=qe,r=n/e,o=n/t;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,n]=this.pageDimensions;let{x:r,y:o,width:l,height:u}=this;if(l*=t,u*=n,r*=t,o*=n,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(t-l,r)),o=Math.max(0,Math.min(n-u,o));break;case 90:r=Math.max(0,Math.min(t-u,r)),o=Math.min(n,Math.max(l,o));break;case 180:r=Math.min(t,Math.max(l,r)),o=Math.min(n,Math.max(u,o));break;case 270:r=Math.min(t,Math.max(u,r)),o=Math.max(0,Math.min(n-l,o));break}this.x=r/=t,this.y=o/=n;const[d,p]=this.getBaseTranslation();r+=d,o+=p;const{style:g}=this.div;g.left=`${(100*r).toFixed(2)}%`,g.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return x(n=qe,hh,$y).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return x(n=qe,hh,$y).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,r]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,h(this,Xo)||(this.div.style.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,r=n.endsWith("%"),o=!h(this,Xo)&&t.endsWith("%");if(r&&o)return;const[l,u]=this.parentDimensions;r||(e.width=`${(100*parseFloat(n)/l).toFixed(2)}%`),!h(this,Xo)&&!o&&(e.height=`${(100*parseFloat(t)/u).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=h(this,dt))==null||e.finish()}async addEditToolbar(){return this._editToolbar||h(this,Qo)?this._editToolbar:(this._editToolbar=new My(this),this.div.append(this._editToolbar.render()),h(this,dt)&&await this._editToolbar.addAltText(h(this,dt)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=h(this,dt))==null||e.destroy())}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){h(this,dt)||(Ep.initialize(qe._l10n),b(this,dt,new Ep(this)),h(this,qo)&&(h(this,dt).data=h(this,qo),b(this,qo,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=h(this,dt))==null?void 0:e.data}set altTextData(e){h(this,dt)&&(h(this,dt).data=e)}get guessedAltText(){var e;return(e=h(this,dt))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=h(this,dt))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=h(this,dt))==null?void 0:t.serialize(e)}hasAltText(){return!!h(this,dt)&&!h(this,dt).isEmpty()}hasAltTextData(){var e;return((e=h(this,dt))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=h(this,Hl)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),x(this,Ie,Xy).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[n,r]=this.getInitialTranslation();return this.translate(n,r),Sp(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=wn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(b(this,Yo,!0),this._isDraggable){x(this,Ie,Rb).call(this,e);return}x(this,Ie,qy).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){h(this,ri)&&clearTimeout(h(this,ri)),b(this,ri,setTimeout(()=>{var e;b(this,ri,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t,n=this.rotation){const r=this.parentScale,[o,l]=this.pageDimensions,[u,d]=this.pageTranslation,p=e/r,g=t/r,y=this.x*o,v=this.y*l,S=this.width*o,A=this.height*l;switch(n){case 0:return[y+p+u,l-v-g-A+d,y+p+S+u,l-v-g+d];case 90:return[y+g+u,l-v+p+d,y+g+A+u,l-v+p+S+d];case 180:return[y-p-S+u,l-v+g+d,y-p+u,l-v+g+A+d];case 270:return[y-g-A+u,l-v-p-S+d,y-g+u,l-v-p+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,o,l]=e,u=o-n,d=l-r;switch(this.rotation){case 0:return[n,t-l,u,d];case 90:return[n,t-r,d,u];case 180:return[o,t-r,u,d];case 270:return[o,t-l,d,u];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){b(this,Qo,!0)}disableEditMode(){b(this,Qo,!1)}isInEditMode(){return h(this,Qo)}shouldGetKeyboardEvents(){return h(this,Di)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){x(this,Ie,Xy).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){rt("An editor must be serializable")}static async deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});r.rotation=e.rotation,b(r,qo,e.accessibilityData);const[o,l]=r.pageDimensions,[u,d,p,g]=r.getRectInCurrentCoords(e.rect,l);return r.x=u/o,r.y=d/l,r.width=p/o,r.height=g/l,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=h(this,$r))==null||e.abort(),b(this,$r,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),h(this,ri)&&(clearTimeout(h(this,ri)),b(this,ri,null)),x(this,Ie,Tu).call(this),this.removeEditToolbar(),h(this,ls)){for(const t of h(this,ls).values())clearTimeout(t);b(this,ls,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(x(this,Ie,kb).call(this),h(this,Yt).classList.remove("hidden"),Sp(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),b(this,Ko,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=h(this,Yt).children;if(!h(this,Ps)){b(this,Ps,Array.from(t));const l=x(this,Ie,Pb).bind(this),u=x(this,Ie,Lb).bind(this),d=this._uiManager._signal;for(const p of h(this,Ps)){const g=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",l,{signal:d}),p.addEventListener("blur",u,{signal:d}),p.addEventListener("focus",x(this,Ie,Mb).bind(this,g),{signal:d}),p.setAttribute("data-l10n-id",qe._l10nResizer[g])}}const n=h(this,Ps)[0];let r=0;for(const l of t){if(l===n)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(h(this,Ps).length/4);if(o!==r){if(o<r)for(let u=0;u<r-o;u++)h(this,Yt).append(h(this,Yt).firstChild);else if(o>r)for(let u=0;u<o-r;u++)h(this,Yt).firstChild.before(h(this,Yt).lastChild);let l=0;for(const u of t){const p=h(this,Ps)[l++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",qe._l10nResizer[p])}}x(this,Ie,Ky).call(this,0),b(this,Di,!0),h(this,Yt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){h(this,Di)&&x(this,Ie,Gy).call(this,h(this,lh),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){x(this,Ie,Tu).call(this),this.div.focus()}select(){var e,t,n;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,o;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(t=this._editToolbar)==null||t.show(),(n=h(this,dt))==null||n.toggleAltTextBadge(!1)}unselect(){var e,t,n,r,o;(e=h(this,Yt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(o=h(this,dt))==null||o.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return h(this,ch)}set isEditing(e){b(this,ch,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){b(this,Xo,!0);const n=e/t,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){h(this,ls)||b(this,ls,new Map);const{action:n}=e;let r=h(this,ls).get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),h(this,ls).delete(n),h(this,ls).size===0&&b(this,ls,null)},qe._telemetryTimeout),h(this,ls).set(n,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),b(this,Hl,!1)}disable(){this.div&&(this.div.tabIndex=-1),b(this,Hl,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};qo=new WeakMap,Ps=new WeakMap,dt=new WeakMap,Hl=new WeakMap,Xo=new WeakMap,Yt=new WeakMap,Ko=new WeakMap,$r=new WeakMap,lh=new WeakMap,Yo=new WeakMap,Vr=new WeakMap,ch=new WeakMap,Qo=new WeakMap,Di=new WeakMap,ri=new WeakMap,zl=new WeakMap,Bl=new WeakMap,ls=new WeakMap,uh=new WeakMap,Lp=new WeakMap,Ie=new WeakSet,Uy=function([e,t],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/e,this.y+=r/t,this.fixAndSetPosition()},hh=new WeakSet,$y=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Vy=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},kb=function(){if(h(this,Yt))return;b(this,Yt,document.createElement("div")),h(this,Yt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const r=document.createElement("div");h(this,Yt).append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",x(this,Ie,Tb).bind(this,n),{signal:t}),r.addEventListener("contextmenu",gs,{signal:t}),r.tabIndex=-1}this.div.prepend(h(this,Yt))},Tb=function(e,t){var A;t.preventDefault();const{isMac:n}=wn.platform;if(t.button!==0||t.ctrlKey&&n)return;(A=h(this,dt))==null||A.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const o=new AbortController,l=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",x(this,Ie,Gy).bind(this,e),{passive:!0,capture:!0,signal:l}),window.addEventListener("contextmenu",gs,{signal:l});const u=this.x,d=this.y,p=this.width,g=this.height,y=this.parent.div.style.cursor,v=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const S=()=>{var E;o.abort(),this.parent.togglePointerEvents(!0),(E=h(this,dt))==null||E.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=y,this.div.style.cursor=v,x(this,Ie,Wy).call(this,u,d,p,g)};window.addEventListener("pointerup",S,{signal:l}),window.addEventListener("blur",S,{signal:l})},Wy=function(e,t,n,r){const o=this.x,l=this.y,u=this.width,d=this.height;o===e&&l===t&&u===n&&d===r||this.addCommands({cmd:()=>{this.width=u,this.height=d,this.x=o,this.y=l;const[p,g]=this.parentDimensions;this.setDims(p*u,g*d),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=r,this.x=e,this.y=t;const[p,g]=this.parentDimensions;this.setDims(p*n,g*r),this.fixAndSetPosition()},mustExec:!0})},Gy=function(e,t){const[n,r]=this.parentDimensions,o=this.x,l=this.y,u=this.width,d=this.height,p=qe.MIN_SIZE/n,g=qe.MIN_SIZE/r,y=Z=>Math.round(Z*1e4)/1e4,v=x(this,Ie,Vy).call(this,this.rotation),S=(Z,G)=>[v[0]*Z+v[2]*G,v[1]*Z+v[3]*G],A=x(this,Ie,Vy).call(this,360-this.rotation),E=(Z,G)=>[A[0]*Z+A[2]*G,A[1]*Z+A[3]*G];let C,k,L=!1,M=!1;switch(e){case"topLeft":L=!0,C=(Z,G)=>[0,0],k=(Z,G)=>[Z,G];break;case"topMiddle":C=(Z,G)=>[Z/2,0],k=(Z,G)=>[Z/2,G];break;case"topRight":L=!0,C=(Z,G)=>[Z,0],k=(Z,G)=>[0,G];break;case"middleRight":M=!0,C=(Z,G)=>[Z,G/2],k=(Z,G)=>[0,G/2];break;case"bottomRight":L=!0,C=(Z,G)=>[Z,G],k=(Z,G)=>[0,0];break;case"bottomMiddle":C=(Z,G)=>[Z/2,G],k=(Z,G)=>[Z/2,0];break;case"bottomLeft":L=!0,C=(Z,G)=>[0,G],k=(Z,G)=>[Z,0];break;case"middleLeft":M=!0,C=(Z,G)=>[0,G/2],k=(Z,G)=>[Z,G/2];break}const I=C(u,d),j=k(u,d);let z=S(...j);const U=y(o+z[0]),W=y(l+z[1]);let K=1,te=1,[se,_e]=this.screenToPageTranslation(t.movementX,t.movementY);if([se,_e]=E(se/n,_e/r),L){const Z=Math.hypot(u,d);K=te=Math.max(Math.min(Math.hypot(j[0]-I[0]-se,j[1]-I[1]-_e)/Z,1/u,1/d),p/u,g/d)}else M?K=Math.max(p,Math.min(1,Math.abs(j[0]-I[0]-se)))/u:te=Math.max(g,Math.min(1,Math.abs(j[1]-I[1]-_e)))/d;const pe=y(u*K),de=y(d*te);z=S(...k(pe,de));const Ae=U-z[0],me=W-z[1];this.width=pe,this.height=de,this.x=Ae,this.y=me,this.setDims(n*pe,r*de),this.fixAndSetPosition()},qy=function(e){const{isMac:t}=wn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},Rb=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const n=new AbortController,r=this._uiManager.combinedSignal(n);if(t){this.div.classList.add("moving"),b(this,zl,e.clientX),b(this,Bl,e.clientY);const l=u=>{const{clientX:d,clientY:p}=u,[g,y]=this.screenToPageTranslation(d-h(this,zl),p-h(this,Bl));b(this,zl,d),b(this,Bl,p),this._uiManager.dragSelectedEditors(g,y)};window.addEventListener("pointermove",l,{passive:!0,capture:!0,signal:r})}const o=()=>{n.abort(),t&&this.div.classList.remove("moving"),b(this,Yo,!1),this._uiManager.endDragSession()||x(this,Ie,qy).call(this,e)};window.addEventListener("pointerup",o,{signal:r}),window.addEventListener("blur",o,{signal:r})},Xy=function(){if(h(this,$r)||!this.div)return;b(this,$r,new AbortController);const e=this._uiManager.combinedSignal(h(this,$r));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},Pb=function(e){qe._resizerKeyboardManager.exec(this,e)},Lb=function(e){var t;h(this,Di)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==h(this,Yt)&&x(this,Ie,Tu).call(this)},Mb=function(e){b(this,lh,h(this,Di)?e:"")},Ky=function(e){if(h(this,Ps))for(const t of h(this,Ps))t.tabIndex=e},Tu=function(){if(b(this,Di,!1),x(this,Ie,Ky).call(this,-1),h(this,Ko)){const{savedX:e,savedY:t,savedWidth:n,savedHeight:r}=h(this,Ko);x(this,Ie,Wy).call(this,e,t,n,r),b(this,Ko,null)}},T(qe,hh),Ce(qe,"_l10n",null),Ce(qe,"_l10nResizer",null),Ce(qe,"_borderLineWidth",-1),Ce(qe,"_colorManager",new Fy),Ce(qe,"_zIndex",1),Ce(qe,"_telemetryTimeout",1e3);let Qe=qe;class HP extends Qe{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const jS=3285377520,os=4294901760,Ys=65535;class Nb{constructor(e){this.h1=e?e&4294967295:jS,this.h2=e?e&4294967295:jS}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let E=0,C=e.length;E<C;E++){const k=e.charCodeAt(E);k<=255?t[n++]=k:(t[n++]=k>>>8,t[n++]=k&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,o=n-r*4,l=new Uint32Array(t.buffer,0,r);let u=0,d=0,p=this.h1,g=this.h2;const y=3432918353,v=461845907,S=y&Ys,A=v&Ys;for(let E=0;E<r;E++)E&1?(u=l[E],u=u*y&os|u*S&Ys,u=u<<15|u>>>17,u=u*v&os|u*A&Ys,p^=u,p=p<<13|p>>>19,p=p*5+3864292196):(d=l[E],d=d*y&os|d*S&Ys,d=d<<15|d>>>17,d=d*v&os|d*A&Ys,g^=d,g=g<<13|g>>>19,g=g*5+3864292196);switch(u=0,o){case 3:u^=t[r*4+2]<<16;case 2:u^=t[r*4+1]<<8;case 1:u^=t[r*4],u=u*y&os|u*S&Ys,u=u<<15|u>>>17,u=u*v&os|u*A&Ys,r&1?p^=u:g^=u}this.h1=p,this.h2=g}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&os|e*36045&Ys,t=t*4283543511&os|((t<<16|e>>>16)*2950163797&os)>>>16,e^=t>>>1,e=e*444984403&os|e*60499&Ys,t=t*3301882366&os|((t<<16|e>>>16)*3120437893&os)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Yy=Object.freeze({map:null,hash:"",transfer:void 0});var Jo,Zo,Wt,Mp,Ib;class l0{constructor(){T(this,Mp);T(this,Jo,!1);T(this,Zo,null);T(this,Wt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=h(this,Wt).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return h(this,Wt).get(e)}remove(e){if(h(this,Wt).delete(e),h(this,Wt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of h(this,Wt).values())if(t instanceof Qe)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=h(this,Wt).get(e);let r=!1;if(n!==void 0)for(const[o,l]of Object.entries(t))n[o]!==l&&(r=!0,n[o]=l);else r=!0,h(this,Wt).set(e,t);r&&x(this,Mp,Ib).call(this),t instanceof Qe&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return h(this,Wt).has(e)}getAll(){return h(this,Wt).size>0?n0(h(this,Wt)):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return h(this,Wt).size}resetModified(){h(this,Jo)&&(b(this,Jo,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Fb(this)}get serializable(){if(h(this,Wt).size===0)return Yy;const e=new Map,t=new Nb,n=[],r=Object.create(null);let o=!1;for(const[l,u]of h(this,Wt)){const d=u instanceof Qe?u.serialize(!1,r):u;d&&(e.set(l,d),t.update(`${l}:${JSON.stringify(d)}`),o||(o=!!d.bitmap))}if(o)for(const l of e.values())l.bitmap&&n.push(l.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:Yy}get editorStats(){let e=null;const t=new Map;for(const n of h(this,Wt).values()){if(!(n instanceof Qe))continue;const r=n.telemetryFinalData;if(!r)continue;const{type:o}=r;t.has(o)||t.set(o,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[u,d]of Object.entries(r)){if(u==="type")continue;let p=l.get(u);p||(p=new Map,l.set(u,p));const g=p.get(d)??0;p.set(d,g+1)}}for(const[n,r]of t)e[n]=r.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){b(this,Zo,null)}get modifiedIds(){if(h(this,Zo))return h(this,Zo);const e=[];for(const t of h(this,Wt).values())!(t instanceof Qe)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return b(this,Zo,{ids:new Set(e),hash:e.join(",")})}}Jo=new WeakMap,Zo=new WeakMap,Wt=new WeakMap,Mp=new WeakSet,Ib=function(){h(this,Jo)||(b(this,Jo,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var dh;class Fb extends l0{constructor(t){super();T(this,dh);const{map:n,hash:r,transfer:o}=t.serializable,l=structuredClone(n,o?{transfer:o}:null);b(this,dh,{map:l,hash:r,transfer:o})}get print(){rt("Should not call PrintAnnotationStorage.print")}get serializable(){return h(this,dh)}get modifiedIds(){return Be(this,"modifiedIds",{ids:new Set,hash:""})}}dh=new WeakMap;var Ul;class zP{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){T(this,Ul,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),h(this,Ul).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||h(this,Ul).has(e.loadedName))){if(Ft(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:r,style:o}=e,l=new FontFace(n,r,o);this.addNativeFontFace(l);try{await l.load(),h(this,Ul).add(n),t==null||t(e)}catch{Fe(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}rt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw Fe(`Failed to load font '${n.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Be(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(dn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Be(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Ft(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const o=n.shift();setTimeout(o.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:t,callback:e};return n.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Be(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(I,j){return I.charCodeAt(j)<<24|I.charCodeAt(j+1)<<16|I.charCodeAt(j+2)<<8|I.charCodeAt(j+3)&255}function r(I,j,z,U){const W=I.substring(0,j),K=I.substring(j+z);return W+U+K}let o,l;const u=this._document.createElement("canvas");u.width=1,u.height=1;const d=u.getContext("2d");let p=0;function g(I,j){if(++p>30){Fe("Load test font never loaded."),j();return}if(d.font="30px "+I,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){j();return}setTimeout(g.bind(null,I,j))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=r(v,976,y.length,y);const A=16,E=1482184792;let C=n(v,A);for(o=0,l=y.length-3;o<l;o+=4)C=C-E+n(y,o)|0;o<y.length&&(C=C-E+n(y+"XXX",o)|0),v=r(v,A,4,_P(C));const k=`url(data:font/opentype;base64,${btoa(v)});`,L=`@font-face {font-family:"${y}";src:${k}}`;this.insertRule(L);const M=this._document.createElement("div");M.style.visibility="hidden",M.style.width=M.style.height="10px",M.style.position="absolute",M.style.top=M.style.left="0px";for(const I of[e.loadedName,y]){const j=this._document.createElement("span");j.textContent="Hi",j.style.fontFamily=I,M.append(j)}this._document.body.append(M),g(y,()=>{M.remove(),t.complete()})}}Ul=new WeakMap;class BP{constructor(e,{disableFontFace:t=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.disableFontFace=t===!0,this._inspectFont=n}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${PP(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(o){Fe(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[t]=function(o,l){};const r=[];for(let o=0,l=n.length;o<l;)switch(n[o++]){case ki.BEZIER_CURVE_TO:{const[u,d,p,g,y,v]=n.slice(o,o+6);r.push(S=>S.bezierCurveTo(u,d,p,g,y,v)),o+=6}break;case ki.MOVE_TO:{const[u,d]=n.slice(o,o+2);r.push(p=>p.moveTo(u,d)),o+=2}break;case ki.LINE_TO:{const[u,d]=n.slice(o,o+2);r.push(p=>p.lineTo(u,d)),o+=2}break;case ki.QUADRATIC_CURVE_TO:{const[u,d,p,g]=n.slice(o,o+4);r.push(y=>y.quadraticCurveTo(u,d,p,g)),o+=4}break;case ki.RESTORE:r.push(u=>u.restore());break;case ki.SAVE:r.push(u=>u.save());break;case ki.SCALE:Ft(r.length===2,"Scale command is only valid at the third position.");break;case ki.TRANSFORM:{const[u,d,p,g,y,v]=n.slice(o,o+6);r.push(S=>S.transform(u,d,p,g,y,v)),o+=6}break;case ki.TRANSLATE:{const[u,d]=n.slice(o,o+2);r.push(p=>p.translate(u,d)),o+=2}break}return this.compiledGlyphs[t]=function(l,u){r[0](l),r[1](l),l.scale(u,-u);for(let d=2,p=r.length;d<p;d++)r[d](l)}}}var fh;class Db{constructor({enableHWA:e=!1}){T(this,fh,!1);b(this,fh,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!h(this,fh)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){rt("Abstract method `_createCanvas` called.")}}fh=new WeakMap;class UP extends Db{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class Ob{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){rt("Abstract method `_fetch` called.")}}class jb extends Ob{async _fetch(e){const t=await ng(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):tg(t)}}class Hb{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,r,o){return"none"}destroy(e=!1){}}var ea,ta,oi,Oi,an,Np,na,oe,rn,ml,yl,Kf,vl,zb,Qy,wl,Ru,Pu,Jy,Lu;class $P extends Hb{constructor({docId:t,ownerDocument:n=globalThis.document}){super();T(this,oe);T(this,ea);T(this,ta);T(this,oi);T(this,Oi);T(this,an);T(this,Np);T(this,na,0);b(this,Oi,t),b(this,an,n)}addFilter(t){if(!t)return"none";let n=h(this,oe,rn).get(t);if(n)return n;const[r,o,l]=x(this,oe,Kf).call(this,t),u=t.length===1?r:`${r}${o}${l}`;if(n=h(this,oe,rn).get(u),n)return h(this,oe,rn).set(t,n),n;const d=`g_${h(this,Oi)}_transfer_map_${gn(this,na)._++}`,p=x(this,oe,vl).call(this,d);h(this,oe,rn).set(t,p),h(this,oe,rn).set(u,p);const g=x(this,oe,wl).call(this,d);return x(this,oe,Pu).call(this,r,o,l,g),p}addHCMFilter(t,n){var A;const r=`${t}-${n}`,o="base";let l=h(this,oe,ml).get(o);if((l==null?void 0:l.key)===r||(l?((A=l.filter)==null||A.remove(),l.key=r,l.url="none",l.filter=null):(l={key:r,url:"none",filter:null},h(this,oe,ml).set(o,l)),!t||!n))return l.url;const u=x(this,oe,Lu).call(this,t);t=ge.makeHexColor(...u);const d=x(this,oe,Lu).call(this,n);if(n=ge.makeHexColor(...d),h(this,oe,yl).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return l.url;const p=new Array(256);for(let E=0;E<=255;E++){const C=E/255;p[E]=C<=.03928?C/12.92:((C+.055)/1.055)**2.4}const g=p.join(","),y=`g_${h(this,Oi)}_hcm_filter`,v=l.filter=x(this,oe,wl).call(this,y);x(this,oe,Pu).call(this,g,g,g,v),x(this,oe,Qy).call(this,v);const S=(E,C)=>{const k=u[E]/255,L=d[E]/255,M=new Array(C+1);for(let I=0;I<=C;I++)M[I]=k+I/C*(L-k);return M.join(",")};return x(this,oe,Pu).call(this,S(0,5),S(1,5),S(2,5),v),l.url=x(this,oe,vl).call(this,y),l.url}addAlphaFilter(t){let n=h(this,oe,rn).get(t);if(n)return n;const[r]=x(this,oe,Kf).call(this,[t]),o=`alpha_${r}`;if(n=h(this,oe,rn).get(o),n)return h(this,oe,rn).set(t,n),n;const l=`g_${h(this,Oi)}_alpha_map_${gn(this,na)._++}`,u=x(this,oe,vl).call(this,l);h(this,oe,rn).set(t,u),h(this,oe,rn).set(o,u);const d=x(this,oe,wl).call(this,l);return x(this,oe,Jy).call(this,r,d),u}addLuminosityFilter(t){let n=h(this,oe,rn).get(t||"luminosity");if(n)return n;let r,o;if(t?([r]=x(this,oe,Kf).call(this,[t]),o=`luminosity_${r}`):o="luminosity",n=h(this,oe,rn).get(o),n)return h(this,oe,rn).set(t,n),n;const l=`g_${h(this,Oi)}_luminosity_map_${gn(this,na)._++}`,u=x(this,oe,vl).call(this,l);h(this,oe,rn).set(t,u),h(this,oe,rn).set(o,u);const d=x(this,oe,wl).call(this,l);return x(this,oe,zb).call(this,d),t&&x(this,oe,Jy).call(this,r,d),u}addHighlightHCMFilter(t,n,r,o,l){var L;const u=`${n}-${r}-${o}-${l}`;let d=h(this,oe,ml).get(t);if((d==null?void 0:d.key)===u||(d?((L=d.filter)==null||L.remove(),d.key=u,d.url="none",d.filter=null):(d={key:u,url:"none",filter:null},h(this,oe,ml).set(t,d)),!n||!r))return d.url;const[p,g]=[n,r].map(x(this,oe,Lu).bind(this));let y=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),v=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),[S,A]=[o,l].map(x(this,oe,Lu).bind(this));v<y&&([y,v,S,A]=[v,y,A,S]),h(this,oe,yl).style.color="";const E=(M,I,j)=>{const z=new Array(256),U=(v-y)/j,W=M/255,K=(I-M)/(255*j);let te=0;for(let se=0;se<=j;se++){const _e=Math.round(y+se*U),pe=W+se*K;for(let de=te;de<=_e;de++)z[de]=pe;te=_e+1}for(let se=te;se<256;se++)z[se]=z[te-1];return z.join(",")},C=`g_${h(this,Oi)}_hcm_${t}_filter`,k=d.filter=x(this,oe,wl).call(this,C);return x(this,oe,Qy).call(this,k),x(this,oe,Pu).call(this,E(S[0],A[0],5),E(S[1],A[1],5),E(S[2],A[2],5),k),d.url=x(this,oe,vl).call(this,C),d.url}destroy(t=!1){t&&h(this,oe,ml).size!==0||(h(this,oi)&&(h(this,oi).parentNode.parentNode.remove(),b(this,oi,null)),h(this,ta)&&(h(this,ta).clear(),b(this,ta,null)),b(this,na,0))}}ea=new WeakMap,ta=new WeakMap,oi=new WeakMap,Oi=new WeakMap,an=new WeakMap,Np=new WeakMap,na=new WeakMap,oe=new WeakSet,rn=function(){return h(this,ta)||b(this,ta,new Map)},ml=function(){return h(this,Np)||b(this,Np,new Map)},yl=function(){if(!h(this,oi)){const t=h(this,an).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=h(this,an).createElementNS(Ri,"svg");r.setAttribute("width",0),r.setAttribute("height",0),b(this,oi,h(this,an).createElementNS(Ri,"defs")),t.append(r),r.append(h(this,oi)),h(this,an).body.append(t)}return h(this,oi)},Kf=function(t){if(t.length===1){const p=t[0],g=new Array(256);for(let v=0;v<256;v++)g[v]=p[v]/255;const y=g.join(",");return[y,y,y]}const[n,r,o]=t,l=new Array(256),u=new Array(256),d=new Array(256);for(let p=0;p<256;p++)l[p]=n[p]/255,u[p]=r[p]/255,d[p]=o[p]/255;return[l.join(","),u.join(","),d.join(",")]},vl=function(t){if(h(this,ea)===void 0){b(this,ea,"");const n=h(this,an).URL;n!==h(this,an).baseURI&&(sg(n)?Fe('#createUrl: ignore "data:"-URL for performance reasons.'):b(this,ea,n.split("#",1)[0]))}return`url(${h(this,ea)}#${t})`},zb=function(t){const n=h(this,an).createElementNS(Ri,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},Qy=function(t){const n=h(this,an).createElementNS(Ri,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},wl=function(t){const n=h(this,an).createElementNS(Ri,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),h(this,oe,yl).append(n),n},Ru=function(t,n,r){const o=h(this,an).createElementNS(Ri,n);o.setAttribute("type","discrete"),o.setAttribute("tableValues",r),t.append(o)},Pu=function(t,n,r,o){const l=h(this,an).createElementNS(Ri,"feComponentTransfer");o.append(l),x(this,oe,Ru).call(this,l,"feFuncR",t),x(this,oe,Ru).call(this,l,"feFuncG",n),x(this,oe,Ru).call(this,l,"feFuncB",r)},Jy=function(t,n){const r=h(this,an).createElementNS(Ri,"feComponentTransfer");n.append(r),x(this,oe,Ru).call(this,r,"feFuncA",t)},Lu=function(t){return h(this,oe,yl).style.color=t,a0(getComputedStyle(h(this,oe,yl)).getPropertyValue("color"))};class Bb{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){rt("Abstract method `_fetch` called.")}}class Ub extends Bb{async _fetch(e){const t=await ng(e,"arraybuffer");return new Uint8Array(t)}}if(dn){var Zy=Promise.withResolvers(),Uu=null;(async()=>{const e=await Lf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await Lf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await Lf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Lf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let o,l;return new Map(Object.entries({fs:e,http:t,https:n,url:r,canvas:o,path2d:l}))})().then(e=>{Uu=e,Zy.resolve()},e=>{Fe(`loadPackages: ${e}`),Uu=new Map,Zy.resolve()})}class co{static get promise(){return Zy.promise}static get(e){return Uu==null?void 0:Uu.get(e)}}async function $b(a){const t=await co.get("fs").promises.readFile(a);return new Uint8Array(t)}class VP extends Hb{}class WP extends Db{_createCanvas(e,t){return co.get("canvas").createCanvas(e,t)}}class GP extends Ob{async _fetch(e){return $b(e)}}class qP extends Bb{async _fetch(e){return $b(e)}}const vn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function ev(a,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,n),a.clip(r)}class c0{getPattern(){rt("Abstract method `getPattern` called.")}}class XP extends c0{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,r){let o;if(r===vn.STROKE||r===vn.FILL){const l=t.current.getClippedPathBoundingBox(r,pt(e))||[0,0,0,0],u=Math.ceil(l[2]-l[0])||1,d=Math.ceil(l[3]-l[1])||1,p=t.cachedCanvases.getCanvas("pattern",u,d),g=p.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-l[0],-l[1]),n=ge.transform(n,[1,0,0,1,l[0],l[1]]),g.transform(...t.baseTransform),this.matrix&&g.transform(...this.matrix),ev(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),o=e.createPattern(p.canvas,"no-repeat");const y=new DOMMatrix(n);o.setTransform(y)}else ev(e,this._bbox),o=this._createGradient(e);return o}}function py(a,e,t,n,r,o,l,u){const d=e.coords,p=e.colors,g=a.data,y=a.width*4;let v;d[t+1]>d[n+1]&&(v=t,t=n,n=v,v=o,o=l,l=v),d[n+1]>d[r+1]&&(v=n,n=r,r=v,v=l,l=u,u=v),d[t+1]>d[n+1]&&(v=t,t=n,n=v,v=o,o=l,l=v);const S=(d[t]+e.offsetX)*e.scaleX,A=(d[t+1]+e.offsetY)*e.scaleY,E=(d[n]+e.offsetX)*e.scaleX,C=(d[n+1]+e.offsetY)*e.scaleY,k=(d[r]+e.offsetX)*e.scaleX,L=(d[r+1]+e.offsetY)*e.scaleY;if(A>=L)return;const M=p[o],I=p[o+1],j=p[o+2],z=p[l],U=p[l+1],W=p[l+2],K=p[u],te=p[u+1],se=p[u+2],_e=Math.round(A),pe=Math.round(L);let de,Ae,me,Z,G,ae,ee,O;for(let q=_e;q<=pe;q++){if(q<C){const ye=q<A?0:(A-q)/(A-C);de=S-(S-E)*ye,Ae=M-(M-z)*ye,me=I-(I-U)*ye,Z=j-(j-W)*ye}else{let ye;q>L?ye=1:C===L?ye=0:ye=(C-q)/(C-L),de=E-(E-k)*ye,Ae=z-(z-K)*ye,me=U-(U-te)*ye,Z=W-(W-se)*ye}let ce;q<A?ce=0:q>L?ce=1:ce=(A-q)/(A-L),G=S-(S-k)*ce,ae=M-(M-K)*ce,ee=I-(I-te)*ce,O=j-(j-se)*ce;const Se=Math.round(Math.min(de,G)),Te=Math.round(Math.max(de,G));let ve=y*q+Se*4;for(let ye=Se;ye<=Te;ye++)ce=(de-ye)/(de-G),ce<0?ce=0:ce>1&&(ce=1),g[ve++]=Ae-(Ae-ae)*ce|0,g[ve++]=me-(me-ee)*ce|0,g[ve++]=Z-(Z-O)*ce|0,g[ve++]=255}}function KP(a,e,t){const n=e.coords,r=e.colors;let o,l;switch(e.type){case"lattice":const u=e.verticesPerRow,d=Math.floor(n.length/u)-1,p=u-1;for(o=0;o<d;o++){let g=o*u;for(let y=0;y<p;y++,g++)py(a,t,n[g],n[g+1],n[g+u],r[g],r[g+1],r[g+u]),py(a,t,n[g+u+1],n[g+1],n[g+u],r[g+u+1],r[g+1],r[g+u])}break;case"triangles":for(o=0,l=n.length;o<l;o+=3)py(a,t,n[o],n[o+1],n[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class YP extends c0{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const u=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-u,g=Math.ceil(this._bounds[3])-d,y=Math.min(Math.ceil(Math.abs(p*e[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(g*e[1]*1.1)),3e3),S=p/y,A=g/v,E={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-d,scaleX:1/S,scaleY:1/A},C=y+2*2,k=v+2*2,L=n.getCanvas("mesh",C,k),M=L.context,I=M.createImageData(y,v);if(t){const z=I.data;for(let U=0,W=z.length;U<W;U+=4)z[U]=t[0],z[U+1]=t[1],z[U+2]=t[2],z[U+3]=255}for(const z of this._figures)KP(I,z,E);return M.putImageData(I,2,2),{canvas:L.canvas,offsetX:u-2*S,offsetY:d-2*A,scaleX:S,scaleY:A}}getPattern(e,t,n,r){ev(e,this._bbox);let o;if(r===vn.SHADING)o=ge.singularValueDecompose2dScale(pt(e));else if(o=ge.singularValueDecompose2dScale(t.baseTransform),this.matrix){const u=ge.singularValueDecompose2dScale(this.matrix);o=[o[0]*u[0],o[1]*u[1]]}const l=this._createMeshCanvas(o,r===vn.SHADING?null:this._background,t.cachedCanvases);return r!==vn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(l.offsetX,l.offsetY),e.scale(l.scaleX,l.scaleY),e.createPattern(l.canvas,"no-repeat")}}class QP extends c0{getPattern(){return"hotpink"}}function JP(a){switch(a[0]){case"RadialAxial":return new XP(a);case"Mesh":return new YP(a);case"Dummy":return new QP}throw new Error(`Unknown IR type: ${a[0]}`)}const HS={COLORED:1,UNCOLORED:2},Ip=class Ip{constructor(e,t,n,r,o){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=o}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:r,tilingType:o,color:l,canvasGraphicsFactory:u}=this;let{xstep:d,ystep:p}=this;d=Math.abs(d),p=Math.abs(p),Zp("TilingType: "+o);const g=t[0],y=t[1],v=t[2],S=t[3],A=v-g,E=S-y,C=ge.singularValueDecompose2dScale(this.matrix),k=ge.singularValueDecompose2dScale(this.baseTransform),L=C[0]*k[0],M=C[1]*k[1];let I=A,j=E,z=!1,U=!1;const W=Math.ceil(d*L),K=Math.ceil(p*M),te=Math.ceil(A*L),se=Math.ceil(E*M);W>=te?I=d:z=!0,K>=se?j=p:U=!0;const _e=this.getSizeAndScale(I,this.ctx.canvas.width,L),pe=this.getSizeAndScale(j,this.ctx.canvas.height,M),de=e.cachedCanvases.getCanvas("pattern",_e.size,pe.size),Ae=de.context,me=u.createCanvasGraphics(Ae);if(me.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(me,r,l),Ae.translate(-_e.scale*g,-pe.scale*y),me.transform(_e.scale,0,0,pe.scale,0,0),Ae.save(),this.clipBbox(me,g,y,v,S),me.baseTransform=pt(me.ctx),me.executeOperatorList(n),me.endDrawing(),Ae.restore(),z||U){const Z=de.canvas;z&&(I=d),U&&(j=p);const G=this.getSizeAndScale(I,this.ctx.canvas.width,L),ae=this.getSizeAndScale(j,this.ctx.canvas.height,M),ee=G.size,O=ae.size,q=e.cachedCanvases.getCanvas("pattern-workaround",ee,O),ce=q.context,Se=z?Math.floor(A/d):0,Te=U?Math.floor(E/p):0;for(let ve=0;ve<=Se;ve++)for(let ye=0;ye<=Te;ye++)ce.drawImage(Z,ee*ve,O*ye,ee,O,0,0,ee,O);return{canvas:q.canvas,scaleX:G.scale,scaleY:ae.scale,offsetX:g,offsetY:y}}return{canvas:de.canvas,scaleX:_e.scale,scaleY:pe.scale,offsetX:g,offsetY:y}}getSizeAndScale(e,t,n){const r=Math.max(Ip.MAX_PATTERN_SIZE,t);let o=Math.ceil(e*n);return o>=r?o=r:n=o/e,{scale:n,size:o}}clipBbox(e,t,n,r,o){const l=r-t,u=o-n;e.ctx.rect(t,n,l,u),e.current.updateRectMinMax(pt(e.ctx),[t,n,r,o]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const r=e.ctx,o=e.current;switch(t){case HS.COLORED:const l=this.ctx;r.fillStyle=l.fillStyle,r.strokeStyle=l.strokeStyle,o.fillColor=l.fillStyle,o.strokeColor=l.strokeStyle;break;case HS.UNCOLORED:const u=ge.makeHexColor(n[0],n[1],n[2]);r.fillStyle=u,r.strokeStyle=u,o.fillColor=u,o.strokeColor=u;break;default:throw new bP(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,r){let o=n;r!==vn.SHADING&&(o=ge.transform(o,t.baseTransform),this.matrix&&(o=ge.transform(o,this.matrix)));const l=this.createPatternCanvas(t);let u=new DOMMatrix(o);u=u.translate(l.offsetX,l.offsetY),u=u.scale(1/l.scaleX,1/l.scaleY);const d=e.createPattern(l.canvas,"repeat");return d.setTransform(u),d}};Ce(Ip,"MAX_PATTERN_SIZE",3e3);let tv=Ip;function ZP({src:a,srcPos:e=0,dest:t,width:n,height:r,nonBlackColor:o=4294967295,inverseDecode:l=!1}){const u=wn.isLittleEndian?4278190080:255,[d,p]=l?[o,u]:[u,o],g=n>>3,y=n&7,v=a.length;t=new Uint32Array(t.buffer);let S=0;for(let A=0;A<r;A++){for(const C=e+g;e<C;e++){const k=e<v?a[e]:255;t[S++]=k&128?p:d,t[S++]=k&64?p:d,t[S++]=k&32?p:d,t[S++]=k&16?p:d,t[S++]=k&8?p:d,t[S++]=k&4?p:d,t[S++]=k&2?p:d,t[S++]=k&1?p:d}if(y===0)continue;const E=e<v?a[e++]:255;for(let C=0;C<y;C++)t[S++]=E&1<<7-C?p:d}return{srcPos:e,destPos:S}}const zS=16,BS=100,eL=15,US=10,$S=1e3,Nn=16;function tL(a,e){if(a._removeMirroring)throw new Error("Context is already forwarding operations.");a.__originalSave=a.save,a.__originalRestore=a.restore,a.__originalRotate=a.rotate,a.__originalScale=a.scale,a.__originalTranslate=a.translate,a.__originalTransform=a.transform,a.__originalSetTransform=a.setTransform,a.__originalResetTransform=a.resetTransform,a.__originalClip=a.clip,a.__originalMoveTo=a.moveTo,a.__originalLineTo=a.lineTo,a.__originalBezierCurveTo=a.bezierCurveTo,a.__originalRect=a.rect,a.__originalClosePath=a.closePath,a.__originalBeginPath=a.beginPath,a._removeMirroring=()=>{a.save=a.__originalSave,a.restore=a.__originalRestore,a.rotate=a.__originalRotate,a.scale=a.__originalScale,a.translate=a.__originalTranslate,a.transform=a.__originalTransform,a.setTransform=a.__originalSetTransform,a.resetTransform=a.__originalResetTransform,a.clip=a.__originalClip,a.moveTo=a.__originalMoveTo,a.lineTo=a.__originalLineTo,a.bezierCurveTo=a.__originalBezierCurveTo,a.rect=a.__originalRect,a.closePath=a.__originalClosePath,a.beginPath=a.__originalBeginPath,delete a._removeMirroring},a.save=function(){e.save(),this.__originalSave()},a.restore=function(){e.restore(),this.__originalRestore()},a.translate=function(n,r){e.translate(n,r),this.__originalTranslate(n,r)},a.scale=function(n,r){e.scale(n,r),this.__originalScale(n,r)},a.transform=function(n,r,o,l,u,d){e.transform(n,r,o,l,u,d),this.__originalTransform(n,r,o,l,u,d)},a.setTransform=function(n,r,o,l,u,d){e.setTransform(n,r,o,l,u,d),this.__originalSetTransform(n,r,o,l,u,d)},a.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},a.rotate=function(n){e.rotate(n),this.__originalRotate(n)},a.clip=function(n){e.clip(n),this.__originalClip(n)},a.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},a.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},a.bezierCurveTo=function(t,n,r,o,l,u){e.bezierCurveTo(t,n,r,o,l,u),this.__originalBezierCurveTo(t,n,r,o,l,u)},a.rect=function(t,n,r,o){e.rect(t,n,r,o),this.__originalRect(t,n,r,o)},a.closePath=function(){e.closePath(),this.__originalClosePath()},a.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class nL{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Mf(a,e,t,n,r,o,l,u,d,p){const[g,y,v,S,A,E]=pt(a);if(y===0&&v===0){const L=l*g+A,M=Math.round(L),I=u*S+E,j=Math.round(I),z=(l+d)*g+A,U=Math.abs(Math.round(z)-M)||1,W=(u+p)*S+E,K=Math.abs(Math.round(W)-j)||1;return a.setTransform(Math.sign(g),0,0,Math.sign(S),M,j),a.drawImage(e,t,n,r,o,0,0,U,K),a.setTransform(g,y,v,S,A,E),[U,K]}if(g===0&&S===0){const L=u*v+A,M=Math.round(L),I=l*y+E,j=Math.round(I),z=(u+p)*v+A,U=Math.abs(Math.round(z)-M)||1,W=(l+d)*y+E,K=Math.abs(Math.round(W)-j)||1;return a.setTransform(0,Math.sign(y),Math.sign(v),0,M,j),a.drawImage(e,t,n,r,o,0,0,K,U),a.setTransform(g,y,v,S,A,E),[K,U]}a.drawImage(e,t,n,r,o,l,u,d,p);const C=Math.hypot(g,y),k=Math.hypot(v,S);return[C*d,k*p]}function sL(a){const{width:e,height:t}=a;if(e>$S||t>$S)return null;const n=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=e+1;let l=new Uint8Array(o*(t+1)),u,d,p;const g=e+7&-8;let y=new Uint8Array(g*t),v=0;for(const k of a.data){let L=128;for(;L>0;)y[v++]=k&L?0:255,L>>=1}let S=0;for(v=0,y[v]!==0&&(l[0]=1,++S),d=1;d<e;d++)y[v]!==y[v+1]&&(l[d]=y[v]?2:1,++S),v++;for(y[v]!==0&&(l[d]=2,++S),u=1;u<t;u++){v=u*g,p=u*o,y[v-g]!==y[v]&&(l[p]=y[v]?1:8,++S);let k=(y[v]?4:0)+(y[v-g]?8:0);for(d=1;d<e;d++)k=(k>>2)+(y[v+1]?4:0)+(y[v-g+1]?8:0),r[k]&&(l[p+d]=r[k],++S),v++;if(y[v-g]!==y[v]&&(l[p+d]=y[v]?2:4,++S),S>n)return null}for(v=g*(t-1),p=u*o,y[v]!==0&&(l[p]=8,++S),d=1;d<e;d++)y[v]!==y[v+1]&&(l[p+d]=y[v]?4:8,++S),v++;if(y[v]!==0&&(l[p+d]=4,++S),S>n)return null;const A=new Int32Array([0,o,-1,0,-o,0,0,0,1]),E=new Path2D;for(u=0;S&&u<=t;u++){let k=u*o;const L=k+e;for(;k<L&&!l[k];)k++;if(k===L)continue;E.moveTo(k%o,u);const M=k;let I=l[k];do{const j=A[I];do k+=j;while(!l[k]);const z=l[k];z!==5&&z!==10?(I=z,l[k]=0):(I=z&51*I>>4,l[k]&=I>>2|I<<2),E.lineTo(k%o,k/o|0),l[k]||--S}while(M!==k);--u}return y=null,l=null,function(k){k.save(),k.scale(1/e,-1/t),k.translate(0,-t),k.fill(E),k.beginPath(),k.restore()}}class VS{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=ob,this.textMatrixScale=1,this.fontMatrix=ky,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=sn.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=ge.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=ge.applyTransform(t,e),r=ge.applyTransform(t.slice(2),e),o=ge.applyTransform([t[0],t[3]],e),l=ge.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],r[0],o[0],l[0]),this.minY=Math.min(this.minY,n[1],r[1],o[1],l[1]),this.maxX=Math.max(this.maxX,n[0],r[0],o[0],l[0]),this.maxY=Math.max(this.maxY,n[1],r[1],o[1],l[1])}updateScalingPathMinMax(e,t){ge.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,r,o,l,u,d,p,g){const y=ge.bezierBoundingBox(t,n,r,o,l,u,d,p,g);g||this.updateRectMinMax(e,y)}getPathBoundingBox(e=vn.FILL,t=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===vn.STROKE){t||rt("Stroke bounding box must include transform.");const r=ge.singularValueDecompose2dScale(t),o=r[0]*this.lineWidth/2,l=r[1]*this.lineWidth/2;n[0]-=o,n[1]-=l,n[2]+=o,n[3]+=l}return n}updateClipFromPath(){const e=ge.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=vn.FILL,t=null){return ge.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function WS(a,e){if(typeof ImageData<"u"&&e instanceof ImageData){a.putImageData(e,0,0);return}const t=e.height,n=e.width,r=t%Nn,o=(t-r)/Nn,l=r===0?o:o+1,u=a.createImageData(n,Nn);let d=0,p;const g=e.data,y=u.data;let v,S,A,E;if(e.kind===Uf.GRAYSCALE_1BPP){const C=g.byteLength,k=new Uint32Array(y.buffer,0,y.byteLength>>2),L=k.length,M=n+7>>3,I=4294967295,j=wn.isLittleEndian?4278190080:255;for(v=0;v<l;v++){for(A=v<o?Nn:r,p=0,S=0;S<A;S++){const z=C-d;let U=0;const W=z>M?n:z*8-7,K=W&-8;let te=0,se=0;for(;U<K;U+=8)se=g[d++],k[p++]=se&128?I:j,k[p++]=se&64?I:j,k[p++]=se&32?I:j,k[p++]=se&16?I:j,k[p++]=se&8?I:j,k[p++]=se&4?I:j,k[p++]=se&2?I:j,k[p++]=se&1?I:j;for(;U<W;U++)te===0&&(se=g[d++],te=128),k[p++]=se&te?I:j,te>>=1}for(;p<L;)k[p++]=0;a.putImageData(u,0,v*Nn)}}else if(e.kind===Uf.RGBA_32BPP){for(S=0,E=n*Nn*4,v=0;v<o;v++)y.set(g.subarray(d,d+E)),d+=E,a.putImageData(u,0,S),S+=Nn;v<l&&(E=n*r*4,y.set(g.subarray(d,d+E)),a.putImageData(u,0,S))}else if(e.kind===Uf.RGB_24BPP)for(A=Nn,E=n*A,v=0;v<l;v++){for(v>=o&&(A=r,E=n*A),p=0,S=E;S--;)y[p++]=g[d++],y[p++]=g[d++],y[p++]=g[d++],y[p++]=255;a.putImageData(u,0,v*Nn)}else throw new Error(`bad image kind: ${e.kind}`)}function GS(a,e){if(e.bitmap){a.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,r=t%Nn,o=(t-r)/Nn,l=r===0?o:o+1,u=a.createImageData(n,Nn);let d=0;const p=e.data,g=u.data;for(let y=0;y<l;y++){const v=y<o?Nn:r;({srcPos:d}=ZP({src:p,srcPos:d,dest:g,width:n,height:v,nonBlackColor:0})),a.putImageData(u,0,y*Nn)}}function bu(a,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)a[n]!==void 0&&(e[n]=a[n]);a.setLineDash!==void 0&&(e.setLineDash(a.getLineDash()),e.lineDashOffset=a.lineDashOffset)}function Nf(a){if(a.strokeStyle=a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",a.setLineDash!==void 0&&(a.setLineDash([]),a.lineDashOffset=0),!dn){const{filter:e}=a;e!=="none"&&e!==""&&(a.filter="none")}}function qS(a,e){if(e)return!0;const t=ge.singularValueDecompose2dScale(a);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*lo.PDF_TO_CSS_UNITS);return t[0]<=n&&t[1]<=n}const iL=["butt","round","square"],rL=["miter","round","bevel"],oL={},XS={};var ho,nv,sv;const m0=class m0{constructor(e,t,n,r,o,{optionalContentConfig:l,markedContentStack:u=null},d,p){T(this,ho);this.ctx=e,this.current=new VS(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=l,this.cachedCanvases=new nL(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:r=null}){const o=this.ctx.canvas.width,l=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,l),this.ctx.fillStyle=u,n){const d=this.cachedCanvases.getCanvas("transparent",o,l);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...pt(this.compositeCtx))}this.ctx.save(),Nf(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=pt(this.ctx)}executeOperatorList(e,t,n,r){const o=e.argsArray,l=e.fnArray;let u=t||0;const d=o.length;if(d===u)return u;const p=d-u>US&&typeof n=="function",g=p?Date.now()+eL:0;let y=0;const v=this.commonObjs,S=this.objs;let A;for(;;){if(r!==void 0&&u===r.nextBreakPoint)return r.breakIt(u,n),u;if(A=l[u],A!==xs.dependency)this[A].apply(this,o[u]);else for(const E of o[u]){const C=E.startsWith("g_")?v:S;if(!C.has(E))return C.get(E,n),u}if(u++,u===d)return u;if(p&&++y>US){if(Date.now()>g)return n(),u;y=0}}}endDrawing(){x(this,ho,nv).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),x(this,ho,sv).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,r=e.height??e.displayHeight;let o=Math.max(Math.hypot(t[0],t[1]),1),l=Math.max(Math.hypot(t[2],t[3]),1),u=n,d=r,p="prescale1",g,y;for(;o>2&&u>1||l>2&&d>1;){let v=u,S=d;o>2&&u>1&&(v=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),o/=u/v),l>2&&d>1&&(S=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,l/=d/S),g=this.cachedCanvases.getCanvas(p,v,S),y=g.context,y.clearRect(0,0,v,S),y.drawImage(e,0,0,u,d,0,0,v,S),e=g.canvas,u=v,d=S,p=p==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:u,paintHeight:d}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:r}=e,o=this.current.fillColor,l=this.current.patternFill,u=pt(t);let d,p,g,y;if((e.bitmap||e.data)&&e.count>1){const W=e.bitmap||e.data.buffer;p=JSON.stringify(l?u:[u.slice(0,4),o]),d=this._cachedBitmapsMap.get(W),d||(d=new Map,this._cachedBitmapsMap.set(W,d));const K=d.get(p);if(K&&!l){const te=Math.round(Math.min(u[0],u[2])+u[4]),se=Math.round(Math.min(u[1],u[3])+u[5]);return{canvas:K,offsetX:te,offsetY:se}}g=K}g||(y=this.cachedCanvases.getCanvas("maskCanvas",n,r),GS(y.context,e));let v=ge.transform(u,[1/n,0,0,-1/r,0,0]);v=ge.transform(v,[1,0,0,1,0,-r]);const[S,A,E,C]=ge.getAxialAlignedBoundingBox([0,0,n,r],v),k=Math.round(E-S)||1,L=Math.round(C-A)||1,M=this.cachedCanvases.getCanvas("fillCanvas",k,L),I=M.context,j=S,z=A;I.translate(-j,-z),I.transform(...v),g||(g=this._scaleImage(y.canvas,Ti(I)),g=g.img,d&&l&&d.set(p,g)),I.imageSmoothingEnabled=qS(pt(I),e.interpolate),Mf(I,g,0,0,g.width,g.height,0,0,n,r),I.globalCompositeOperation="source-in";const U=ge.transform(Ti(I),[1,0,0,1,-j,-z]);return I.fillStyle=l?o.getPattern(t,this,U,vn.FILL):o,I.fillRect(0,0,n,r),d&&!l&&(this.cachedCanvases.delete("fillCanvas"),d.set(p,M.canvas)),{canvas:M.canvas,offsetX:Math.round(j),offsetY:Math.round(z)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=iL[e]}setLineJoin(e){this.ctx.lineJoin=rL[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const o=this.ctx;o.setTransform(...pt(this.suspendedCtx)),bu(this.suspendedCtx,o),tL(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),bu(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,r){const o=r[0],l=r[1],u=r[2]-o,d=r[3]-l;u===0||d===0||(this.genericComposeSMask(t.context,n,u,d,t.subtype,t.backdrop,t.transferMap,o,l,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,r,o,l,u,d,p,g,y){let v=e.canvas,S=d-g,A=p-y;if(l){const C=ge.makeHexColor(...l);if(S<0||A<0||S+n>v.width||A+r>v.height){const k=this.cachedCanvases.getCanvas("maskExtension",n,r),L=k.context;L.drawImage(v,-S,-A),L.globalCompositeOperation="destination-atop",L.fillStyle=C,L.fillRect(0,0,n,r),L.globalCompositeOperation="source-over",v=k.canvas,S=A=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const k=new Path2D;k.rect(S,A,n,r),e.clip(k),e.globalCompositeOperation="destination-atop",e.fillStyle=C,e.fillRect(S,A,n,r),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),o==="Alpha"&&u?t.filter=this.filterFactory.addAlphaFilter(u):o==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(u));const E=new Path2D;E.rect(d,p,n,r),t.clip(E),t.globalCompositeOperation="destination-in",t.drawImage(v,S,A,n,r,d,p,n,r),t.restore()}save(){this.inSMaskMode?(bu(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),bu(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,r,o,l){this.ctx.transform(e,t,n,r,o,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const r=this.ctx,o=this.current;let l=o.x,u=o.y,d,p;const g=pt(r),y=g[0]===0&&g[3]===0||g[1]===0&&g[2]===0,v=y?n.slice(0):null;for(let S=0,A=0,E=e.length;S<E;S++)switch(e[S]|0){case xs.rectangle:l=t[A++],u=t[A++];const C=t[A++],k=t[A++],L=l+C,M=u+k;r.moveTo(l,u),C===0||k===0?r.lineTo(L,M):(r.lineTo(L,u),r.lineTo(L,M),r.lineTo(l,M)),y||o.updateRectMinMax(g,[l,u,L,M]),r.closePath();break;case xs.moveTo:l=t[A++],u=t[A++],r.moveTo(l,u),y||o.updatePathMinMax(g,l,u);break;case xs.lineTo:l=t[A++],u=t[A++],r.lineTo(l,u),y||o.updatePathMinMax(g,l,u);break;case xs.curveTo:d=l,p=u,l=t[A+4],u=t[A+5],r.bezierCurveTo(t[A],t[A+1],t[A+2],t[A+3],l,u),o.updateCurvePathMinMax(g,d,p,t[A],t[A+1],t[A+2],t[A+3],l,u,v),A+=6;break;case xs.curveTo2:d=l,p=u,r.bezierCurveTo(l,u,t[A],t[A+1],t[A+2],t[A+3]),o.updateCurvePathMinMax(g,d,p,l,u,t[A],t[A+1],t[A+2],t[A+3],v),l=t[A+2],u=t[A+3],A+=4;break;case xs.curveTo3:d=l,p=u,l=t[A+2],u=t[A+3],r.bezierCurveTo(t[A],t[A+1],l,u,l,u),o.updateCurvePathMinMax(g,d,p,t[A],t[A+1],l,u,l,u,v),A+=4;break;case xs.closePath:r.closePath();break}y&&o.updateScalingPathMinMax(g,v),o.setCurrentPoint(l,u)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(t.save(),t.strokeStyle=n.getPattern(t,this,Ti(t),vn.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;let o=!1;r&&(t.save(),t.fillStyle=n.getPattern(t,this,Ti(t),vn.FILL),o=!0);const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),o&&t.restore(),e&&this.consumePath(l)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=oL}eoClip(){this.pendingClip=XS}beginText(){this.current.textMatrix=ob,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var g;const n=this.commonObjs.get(e),r=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=n.fontMatrix||ky,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Fe("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const o=n.loadedName||"sans-serif",l=((g=n.systemFontInfo)==null?void 0:g.css)||`"${o}", ${n.fallbackName}`;let u="normal";n.black?u="900":n.bold&&(u="bold");const d=n.italic?"italic":"normal";let p=t;t<zS?p=zS:t>BS&&(p=BS),this.current.fontSizeScale=t/p,this.ctx.font=`${d} ${u} ${p}px ${l}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,r,o,l){this.current.textMatrix=[e,t,n,r,o,l],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,r){const o=this.ctx,l=this.current,u=l.font,d=l.textRenderingMode,p=l.fontSize/l.fontSizeScale,g=d&sn.FILL_STROKE_MASK,y=!!(d&sn.ADD_TO_PATH_FLAG),v=l.patternFill&&!u.missingFile;let S;(u.disableFontFace||y||v)&&(S=u.getPathGenerator(this.commonObjs,e)),u.disableFontFace||v?(o.save(),o.translate(t,n),o.beginPath(),S(o,p),r&&o.setTransform(...r),(g===sn.FILL||g===sn.FILL_STROKE)&&o.fill(),(g===sn.STROKE||g===sn.FILL_STROKE)&&o.stroke(),o.restore()):((g===sn.FILL||g===sn.FILL_STROKE)&&o.fillText(e,t,n),(g===sn.STROKE||g===sn.FILL_STROKE)&&o.strokeText(e,t,n)),y&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:pt(o),x:t,y:n,fontSize:p,addToPath:S})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return Be(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(r===0)return;const o=this.ctx,l=t.fontSizeScale,u=t.charSpacing,d=t.wordSpacing,p=t.fontDirection,g=t.textHScale*p,y=e.length,v=n.vertical,S=v?1:-1,A=n.defaultVMetrics,E=r*t.fontMatrix[0],C=t.textRenderingMode===sn.FILL&&!n.disableFontFace&&!t.patternFill;o.save(),o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),p>0?o.scale(g,-1):o.scale(g,1);let k;if(t.patternFill){o.save();const z=t.fillColor.getPattern(o,this,Ti(o),vn.FILL);k=pt(o),o.restore(),o.fillStyle=z}let L=t.lineWidth;const M=t.textMatrixScale;if(M===0||L===0){const z=t.textRenderingMode&sn.FILL_STROKE_MASK;(z===sn.STROKE||z===sn.FILL_STROKE)&&(L=this.getSinglePixelWidth())}else L/=M;if(l!==1&&(o.scale(l,l),L/=l),o.lineWidth=L,n.isInvalidPDFjsFont){const z=[];let U=0;for(const W of e)z.push(W.unicode),U+=W.width;o.fillText(z.join(""),0,0),t.x+=U*E*g,o.restore(),this.compose();return}let I=0,j;for(j=0;j<y;++j){const z=e[j];if(typeof z=="number"){I+=S*z*r/1e3;continue}let U=!1;const W=(z.isSpace?d:0)+u,K=z.fontChar,te=z.accent;let se,_e,pe=z.width;if(v){const Ae=z.vmetric||A,me=-(z.vmetric?Ae[1]:pe*.5)*E,Z=Ae[2]*E;pe=Ae?-Ae[0]:pe,se=me/l,_e=(I+Z)/l}else se=I/l,_e=0;if(n.remeasure&&pe>0){const Ae=o.measureText(K).width*1e3/r*l;if(pe<Ae&&this.isFontSubpixelAAEnabled){const me=pe/Ae;U=!0,o.save(),o.scale(me,1),se/=me}else pe!==Ae&&(se+=(pe-Ae)/2e3*r/l)}if(this.contentVisible&&(z.isInFont||n.missingFile)){if(C&&!te)o.fillText(K,se,_e);else if(this.paintChar(K,se,_e,k),te){const Ae=se+r*te.offset.x/l,me=_e-r*te.offset.y/l;this.paintChar(te.fontChar,Ae,me,k)}}const de=v?pe*E-W*p:pe*E+W*p;I+=de,U&&o.restore()}v?t.y-=I:t.x+=I*g,o.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,r=n.font,o=n.fontSize,l=n.fontDirection,u=r.vertical?1:-1,d=n.charSpacing,p=n.wordSpacing,g=n.textHScale*l,y=n.fontMatrix||ky,v=e.length,S=n.textRenderingMode===sn.INVISIBLE;let A,E,C,k;if(!(S||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(g,l),A=0;A<v;++A){if(E=e[A],typeof E=="number"){k=u*E*o/1e3,this.ctx.translate(k,0),n.x+=k*g;continue}const L=(E.isSpace?p:0)+d,M=r.charProcOperatorList[E.operatorListId];if(!M){Fe(`Type3 character "${E.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=E,this.save(),t.scale(o,o),t.transform(...y),this.executeOperatorList(M),this.restore()),C=ge.applyTransform([E.width,0],y)[0]*o+L,t.translate(C,0),n.x+=C*g}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,r,o,l){this.ctx.rect(n,r,o-n,l-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=e[1],r=this.baseTransform||pt(this.ctx),o={createCanvasGraphics:l=>new m0(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new tv(e,n,this.ctx,o,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){this.ctx.strokeStyle=this.current.strokeColor=ge.makeHexColor(e,t,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,n){this.ctx.fillStyle=this.current.fillColor=ge.makeHexColor(e,t,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=JP(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,Ti(t),vn.SHADING);const r=Ti(t);if(r){const{width:o,height:l}=t.canvas,[u,d,p,g]=ge.getAxialAlignedBoundingBox([0,0,o,l],r);this.ctx.fillRect(u,d,p-u,g-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){rt("Should not call beginInlineImage")}beginImageData(){rt("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=pt(this.ctx),t)){const n=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],n,r),this.current.updateRectMinMax(pt(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Zp("TODO: Support non-isolated groups."),e.knockout&&Fe("Knockout groups not supported.");const n=pt(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=ge.getAxialAlignedBoundingBox(e.bbox,pt(t));const o=[0,0,t.canvas.width,t.canvas.height];r=ge.intersect(r,o)||[0,0,0,0];const l=Math.floor(r[0]),u=Math.floor(r[1]),d=Math.max(Math.ceil(r[2])-l,1),p=Math.max(Math.ceil(r[3])-u,1);this.current.startNewPathAndClipBox([0,0,d,p]);let g="groupAt"+this.groupLevel;e.smask&&(g+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(g,d,p),v=y.context;v.translate(-l,-u),v.transform(...n),e.smask?this.smaskStack.push({canvas:y.canvas,context:v,offsetX:l,offsetY:u,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(l,u),t.save()),bu(t,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=pt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const o=ge.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,n,r,o){if(x(this,ho,nv).call(this),Nf(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const l=t[2]-t[0],u=t[3]-t[1];if(o&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=l,t[3]=u;const[d,p]=ge.singularValueDecompose2dScale(pt(this.ctx)),{viewportScale:g}=this,y=Math.ceil(l*this.outputScaleX*g),v=Math.ceil(u*this.outputScaleY*g);this.annotationCanvas=this.canvasFactory.create(y,v);const{canvas:S,context:A}=this.annotationCanvas;this.annotationCanvasMap.set(e,S),this.annotationCanvas.savedCtx=this.ctx,this.ctx=A,this.ctx.save(),this.ctx.setTransform(d,0,0,-p,0,u*p),Nf(this.ctx)}else Nf(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],l,u),this.ctx.clip(),this.ctx.beginPath()}this.current=new VS(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),x(this,ho,sv).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=sL(e)),r.compiled)){r.compiled(n);return}const o=this._createMaskCanvas(e),l=o.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(l,o.offsetX,o.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,r=0,o,l){if(!this.contentVisible)return;e=this.getObject(e.data,e);const u=this.ctx;u.save();const d=pt(u);u.transform(t,n,r,o,0,0);const p=this._createMaskCanvas(e);u.setTransform(1,0,0,1,p.offsetX-d[4],p.offsetY-d[5]);for(let g=0,y=l.length;g<y;g+=2){const v=ge.transform(d,[t,n,r,o,l[g],l[g+1]]),[S,A]=ge.applyTransform([0,0],v);u.drawImage(p.canvas,S,A)}u.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const o of e){const{data:l,width:u,height:d,transform:p}=o,g=this.cachedCanvases.getCanvas("maskCanvas",u,d),y=g.context;y.save();const v=this.getObject(l,o);GS(y,v),y.globalCompositeOperation="source-in",y.fillStyle=r?n.getPattern(y,this,Ti(t),vn.FILL):n,y.fillRect(0,0,u,d),y.restore(),t.save(),t.transform(...p),t.scale(1,-1),Mf(t,g.canvas,0,0,u,d,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Fe("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,r){if(!this.contentVisible)return;const o=this.getObject(e);if(!o){Fe("Dependent image isn't ready yet");return}const l=o.width,u=o.height,d=[];for(let p=0,g=r.length;p<g;p+=2)d.push({transform:[t,0,0,n,r[p],r[p+1]],x:0,y:0,w:l,h:u});this.paintInlineImageXObjectGroup(o,d)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:r}=e,o=this.cachedCanvases.getCanvas("inlineImage",n,r),l=o.context;return l.filter=this.current.transferMaps,l.drawImage(t,0,0),l.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,r=this.ctx;if(this.save(),!dn){const{filter:u}=r;u!=="none"&&u!==""&&(r.filter="none")}r.scale(1/t,-1/n);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const d=this.cachedCanvases.getCanvas("inlineImage",t,n).context;WS(d,e),o=this.applyTransferMapsToCanvas(d)}const l=this._scaleImage(o,Ti(r));r.imageSmoothingEnabled=qS(pt(r),e.interpolate),Mf(r,l.img,0,0,l.paintWidth,l.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const o=e.width,l=e.height,d=this.cachedCanvases.getCanvas("inlineImage",o,l).context;WS(d,e),r=this.applyTransferMapsToCanvas(d)}for(const o of t)n.save(),n.transform(...o.transform),n.scale(1,-1),Mf(n,r,o.x,o.y,o.w,o.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===XS?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=pt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:r,d:o}=this.ctx.getTransform();let l,u;if(n===0&&r===0){const d=Math.abs(t),p=Math.abs(o);if(d===p)if(e===0)l=u=1/d;else{const g=d*e;l=u=g<1?1/g:1}else if(e===0)l=1/d,u=1/p;else{const g=d*e,y=p*e;l=g<1?1/g:1,u=y<1?1/y:1}}else{const d=Math.abs(t*o-n*r),p=Math.hypot(t,n),g=Math.hypot(r,o);if(e===0)l=g/d,u=p/d;else{const y=e*d;l=g>y?g/y:1,u=p>y?p/y:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[r,o]=this.getScaleForStroking();if(t.lineWidth=n||1,r===1&&o===1){t.stroke();return}const l=t.getLineDash();if(e&&t.save(),t.scale(r,o),l.length>0){const u=Math.max(r,o);t.setLineDash(l.map(d=>d/u)),t.lineDashOffset/=u}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};ho=new WeakSet,nv=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},sv=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let xl=m0;for(const a in xs)xl.prototype[a]!==void 0&&(xl.prototype[xs[a]]=xl.prototype[a]);var ph,gh;class nr{static get workerPort(){return h(this,ph)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");b(this,ph,e)}static get workerSrc(){return h(this,gh)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");b(this,gh,e)}}ph=new WeakMap,gh=new WeakMap,T(nr,ph,null),T(nr,gh,"");const If={DATA:1,ERROR:2},xt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Bn(a){switch(a instanceof Error||typeof a=="object"&&a!==null||rt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),a.name){case"AbortException":return new $a(a.message);case"MissingPDFException":return new Ua(a.message);case"PasswordException":return new Ty(a.message,a.code);case"UnexpectedResponseException":return new eg(a.message,a.status);case"UnknownErrorException":return new Ry(a.message,a.details);default:return new Ry(a.message,a.toString())}}var $l,ps,Vb,Wb,Gb,Yf;class Mu{constructor(e,t,n){T(this,ps);T(this,$l,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",x(this,ps,Vb).bind(this),{signal:h(this,$l).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(l){o.reject(l)}return o.promise}sendWithStream(e,t,n,r){const o=this.streamId++,l=this.sourceName,u=this.targetName,d=this.comObj;return new ReadableStream({start:p=>{const g=Promise.withResolvers();return this.streamControllers[o]={controller:p,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:l,targetName:u,action:e,streamId:o,data:t,desiredSize:p.desiredSize},r),g.promise},pull:p=>{const g=Promise.withResolvers();return this.streamControllers[o].pullCall=g,d.postMessage({sourceName:l,targetName:u,stream:xt.PULL,streamId:o,desiredSize:p.desiredSize}),g.promise},cancel:p=>{Ft(p instanceof Error,"cancel must have a valid reason");const g=Promise.withResolvers();return this.streamControllers[o].cancelCall=g,this.streamControllers[o].isClosed=!0,d.postMessage({sourceName:l,targetName:u,stream:xt.CANCEL,streamId:o,reason:Bn(p)}),g.promise}},n)}destroy(){var e;(e=h(this,$l))==null||e.abort(),b(this,$l,null)}}$l=new WeakMap,ps=new WeakSet,Vb=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){x(this,ps,Gb).call(this,e);return}if(e.callback){const n=e.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===If.DATA)r.resolve(e.data);else if(e.callback===If.ERROR)r.reject(Bn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,r=e.sourceName,o=this.comObj;new Promise(function(l){l(t(e.data))}).then(function(l){o.postMessage({sourceName:n,targetName:r,callback:If.DATA,callbackId:e.callbackId,data:l})},function(l){o.postMessage({sourceName:n,targetName:r,callback:If.ERROR,callbackId:e.callbackId,reason:Bn(l)})});return}if(e.streamId){x(this,ps,Wb).call(this,e);return}t(e.data)},Wb=function(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,o=this.comObj,l=this,u=this.actionHandler[e.action],d={enqueue(p,g=1,y){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=g,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:r,stream:xt.ENQUEUE,streamId:t,chunk:p},y)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:r,stream:xt.CLOSE,streamId:t}),delete l.streamSinks[t])},error(p){Ft(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:r,stream:xt.ERROR,streamId:t,reason:Bn(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[t]=d,new Promise(function(p){p(u(e.data,d))}).then(function(){o.postMessage({sourceName:n,targetName:r,stream:xt.START_COMPLETE,streamId:t,success:!0})},function(p){o.postMessage({sourceName:n,targetName:r,stream:xt.START_COMPLETE,streamId:t,reason:Bn(p)})})},Gb=function(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,o=this.comObj,l=this.streamControllers[t],u=this.streamSinks[t];switch(e.stream){case xt.START_COMPLETE:e.success?l.startCall.resolve():l.startCall.reject(Bn(e.reason));break;case xt.PULL_COMPLETE:e.success?l.pullCall.resolve():l.pullCall.reject(Bn(e.reason));break;case xt.PULL:if(!u){o.postMessage({sourceName:n,targetName:r,stream:xt.PULL_COMPLETE,streamId:t,success:!0});break}u.desiredSize<=0&&e.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=e.desiredSize,new Promise(function(d){var p;d((p=u.onPull)==null?void 0:p.call(u))}).then(function(){o.postMessage({sourceName:n,targetName:r,stream:xt.PULL_COMPLETE,streamId:t,success:!0})},function(d){o.postMessage({sourceName:n,targetName:r,stream:xt.PULL_COMPLETE,streamId:t,reason:Bn(d)})});break;case xt.ENQUEUE:if(Ft(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(e.chunk);break;case xt.CLOSE:if(Ft(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),x(this,ps,Yf).call(this,l,t);break;case xt.ERROR:Ft(l,"error should have stream controller"),l.controller.error(Bn(e.reason)),x(this,ps,Yf).call(this,l,t);break;case xt.CANCEL_COMPLETE:e.success?l.cancelCall.resolve():l.cancelCall.reject(Bn(e.reason)),x(this,ps,Yf).call(this,l,t);break;case xt.CANCEL:if(!u)break;new Promise(function(d){var p;d((p=u.onCancel)==null?void 0:p.call(u,Bn(e.reason)))}).then(function(){o.postMessage({sourceName:n,targetName:r,stream:xt.CANCEL_COMPLETE,streamId:t,success:!0})},function(d){o.postMessage({sourceName:n,targetName:r,stream:xt.CANCEL_COMPLETE,streamId:t,reason:Bn(d)})}),u.sinkCapability.reject(Bn(e.reason)),u.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Yf=async function(e,t){var n,r,o;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(r=e.pullCall)==null?void 0:r.promise,(o=e.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[t]};var sa,mh;class aL{constructor({parsedData:e,rawData:t}){T(this,sa);T(this,mh);b(this,sa,e),b(this,mh,t)}getRaw(){return h(this,mh)}get(e){return h(this,sa).get(e)??null}getAll(){return n0(h(this,sa))}has(e){return h(this,sa).has(e)}}sa=new WeakMap,mh=new WeakMap;const Al=Symbol("INTERNAL");var yh,vh,wh,Vl;class lL{constructor(e,{name:t,intent:n,usage:r,rbGroups:o}){T(this,yh,!1);T(this,vh,!1);T(this,wh,!1);T(this,Vl,!0);b(this,yh,!!(e&Yn.DISPLAY)),b(this,vh,!!(e&Yn.PRINT)),this.name=t,this.intent=n,this.usage=r,this.rbGroups=o}get visible(){if(h(this,wh))return h(this,Vl);if(!h(this,Vl))return!1;const{print:e,view:t}=this.usage;return h(this,yh)?(t==null?void 0:t.viewState)!=="OFF":h(this,vh)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==Al&&rt("Internal method `_setVisible` called."),b(this,wh,n),b(this,Vl,t)}}yh=new WeakMap,vh=new WeakMap,wh=new WeakMap,Vl=new WeakMap;var Wr,Ye,Wl,Gl,Ah,iv;class cL{constructor(e,t=Yn.DISPLAY){T(this,Ah);T(this,Wr,null);T(this,Ye,new Map);T(this,Wl,null);T(this,Gl,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,b(this,Gl,e.order);for(const n of e.groups)h(this,Ye).set(n.id,new lL(t,n));if(e.baseState==="OFF")for(const n of h(this,Ye).values())n._setVisible(Al,!1);for(const n of e.on)h(this,Ye).get(n)._setVisible(Al,!0);for(const n of e.off)h(this,Ye).get(n)._setVisible(Al,!1);b(this,Wl,this.getHash())}}isVisible(e){if(h(this,Ye).size===0)return!0;if(!e)return Zp("Optional content group not defined."),!0;if(e.type==="OCG")return h(this,Ye).has(e.id)?h(this,Ye).get(e.id).visible:(Fe(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return x(this,Ah,iv).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!h(this,Ye).has(t))return Fe(`Optional content group not found: ${t}`),!0;if(h(this,Ye).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!h(this,Ye).has(t))return Fe(`Optional content group not found: ${t}`),!0;if(!h(this,Ye).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!h(this,Ye).has(t))return Fe(`Optional content group not found: ${t}`),!0;if(!h(this,Ye).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!h(this,Ye).has(t))return Fe(`Optional content group not found: ${t}`),!0;if(h(this,Ye).get(t).visible)return!1}return!0}return Fe(`Unknown optional content policy ${e.policy}.`),!0}return Fe(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var o;const r=h(this,Ye).get(e);if(!r){Fe(`Optional content group not found: ${e}`);return}if(n&&t&&r.rbGroups.length)for(const l of r.rbGroups)for(const u of l)u!==e&&((o=h(this,Ye).get(u))==null||o._setVisible(Al,!1,!0));r._setVisible(Al,!!t,!0),b(this,Wr,null)}setOCGState({state:e,preserveRB:t}){let n;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const o=h(this,Ye).get(r);if(o)switch(n){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!o.visible,t);break}}b(this,Wr,null)}get hasInitialVisibility(){return h(this,Wl)===null||this.getHash()===h(this,Wl)}getOrder(){return h(this,Ye).size?h(this,Gl)?h(this,Gl).slice():[...h(this,Ye).keys()]:null}getGroups(){return h(this,Ye).size>0?n0(h(this,Ye)):null}getGroup(e){return h(this,Ye).get(e)||null}getHash(){if(h(this,Wr)!==null)return h(this,Wr);const e=new Nb;for(const[t,n]of h(this,Ye))e.update(`${t}:${n.visible}`);return b(this,Wr,e.hexdigest())}}Wr=new WeakMap,Ye=new WeakMap,Wl=new WeakMap,Gl=new WeakMap,Ah=new WeakSet,iv=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let r=1;r<t;r++){const o=e[r];let l;if(Array.isArray(o))l=x(this,Ah,iv).call(this,o);else if(h(this,Ye).has(o))l=h(this,Ye).get(o).visible;else return Fe(`Optional content group not found: ${o}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"};class uL{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Ft(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:l,contentDispositionFilename:u}=e;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=u,(o==null?void 0:o.length)>0){const d=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((d,p)=>{this._onReceiveData({begin:d,chunk:p})}),e.addProgressListener((d,p)=>{this._onProgress({loaded:d,total:p})}),e.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(n),!0)});Ft(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,r,o;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(o=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||o.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ft(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new hL(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new dL(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class hL{constructor(e,t,n=!1,r=null){this._stream=e,this._done=n||!1,this._filename=r0(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class dL{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function fL(a){let e=!0,t=n("filename\\*","i").exec(a);if(t){t=t[1];let g=u(t);return g=unescape(g),g=d(g),g=p(g),o(g)}if(t=l(a),t){const g=p(t);return o(g)}if(t=n("filename","i").exec(a),t){t=t[1];let g=u(t);return g=p(g),o(g)}function n(g,y){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function r(g,y){if(g){if(!/^[\x00-\xFF]+$/.test(y))return y;try{const v=new TextDecoder(g,{fatal:!0}),S=tg(y);y=v.decode(S),e=!1}catch{}}return y}function o(g){return e&&/[\x80-\xff]/.test(g)&&(g=r("utf-8",g),e&&(g=r("iso-8859-1",g))),g}function l(g){const y=[];let v;const S=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=S.exec(g))!==null;){let[,E,C,k]=v;if(E=parseInt(E,10),E in y){if(E===0)break;continue}y[E]=[C,k]}const A=[];for(let E=0;E<y.length&&E in y;++E){let[C,k]=y[E];k=u(k),C&&(k=unescape(k),E===0&&(k=d(k))),A.push(k)}return A.join("")}function u(g){if(g.startsWith('"')){const y=g.slice(1).split('\\"');for(let v=0;v<y.length;++v){const S=y[v].indexOf('"');S!==-1&&(y[v]=y[v].slice(0,S),y.length=v+1),y[v]=y[v].replaceAll(/\\(.)/g,"$1")}g=y.join('"')}return g}function d(g){const y=g.indexOf("'");if(y===-1)return g;const v=g.slice(0,y),A=g.slice(y+1).replace(/^[^']*'/,"");return r(v,A)}function p(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,v,S,A){if(S==="q"||S==="Q")return A=A.replaceAll("_"," "),A=A.replaceAll(/=([0-9a-fA-F]{2})/g,function(E,C){return String.fromCharCode(parseInt(C,16))}),r(v,A);try{A=atob(A)}catch{}return r(v,A)})}return""}function u0(a,e){const t=new Headers;if(!a||!e||typeof e!="object")return t;for(const n in e){const r=e[n];r!==void 0&&t.append(n,r)}return t}function h0({responseHeaders:a,isHttp:e,rangeChunkSize:t,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(a.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*t)||n||!e||a.get("Accept-Ranges")!=="bytes"||(a.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function d0(a){const e=a.get("Content-Disposition");if(e){let t=fL(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(r0(t))return t}return null}function ig(a,e){return a===404||a===0&&e.startsWith("file:")?new Ua('Missing PDF "'+e+'".'):new eg(`Unexpected server response (${a}) while retrieving PDF "${e}".`,a)}function qb(a){return a===200||a===206}function Xb(a,e,t){return{method:"GET",headers:a,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Kb(a){return a instanceof Uint8Array?a.buffer:a instanceof ArrayBuffer?a:(Fe(`getArrayBuffer - unexpected data format: ${a}`),new Uint8Array(a).buffer)}class KS{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=u0(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ft(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new pL(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new gL(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class pL{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),r=t.url;fetch(r,Xb(n,this._withCredentials,this._abortController)).then(o=>{if(!qb(o.status))throw ig(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const l=o.headers,{allowRangeRequests:u,suggestedLength:d}=h0({responseHeaders:l,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=d||this._contentLength,this._filename=d0(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new $a("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Kb(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class gL{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(e.headers);o.append("Range",`bytes=${t}-${n-1}`);const l=r.url;fetch(l,Xb(o,this._withCredentials,this._abortController)).then(u=>{if(!qb(u.status))throw ig(u.status,l);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:Kb(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const gy=200,my=206;function mL(a){const e=a.response;return typeof e!="string"?e:tg(e).buffer}class yL{constructor({url:e,httpHeaders:t,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=u0(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const r={begin:e,end:t};for(const o in n)r[o]=n[o];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[o,l]of this.headers)t.setRequestHeader(o,l);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=my):r.expectedStatus=gy,t.responseType="arraybuffer",e.onError&&(t.onerror=function(o){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var r;const n=this.pendingRequests[e];n&&((r=n.onProgress)==null||r.call(n,t))}onStateChange(e,t){var d,p,g;const n=this.pendingRequests[e];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){(d=n.onError)==null||d.call(n,r.status);return}const o=r.status||gy;if(!(o===gy&&n.expectedStatus===my)&&o!==n.expectedStatus){(p=n.onError)==null||p.call(n,r.status);return}const u=mL(r);if(o===my){const y=r.getResponseHeader("Content-Range"),v=/bytes (\d+)-(\d+)\/(\d+)/.exec(y);n.onDone({begin:parseInt(v[1],10),chunk:u})}else u?n.onDone({begin:0,chunk:u}):(g=n.onError)==null||g.call(n,r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class vL{constructor(e){this._source=e,this._manager=new yL(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ft(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new wL(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new AL(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class wL{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(l=>{const[u,...d]=l.split(": ");return[u,d.join(": ")]})),{allowRangeRequests:r,suggestedLength:o}=h0({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=d0(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=ig(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class AL{constructor(e,t,n){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=ig(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const SL=/^[a-z][a-z0-9\-+.]+:/i;function EL(a){if(SL.test(a))return new URL(a);const e=co.get("url");return new URL(e.pathToFileURL(a))}function Yb(a,e,t){return a.protocol==="http:"?co.get("http").request(a,{headers:e},t):co.get("https").request(a,{headers:e},t)}class bL{constructor(e){this.source=e,this.url=EL(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=u0(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ft(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new CL(this):new _L(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new kL(this,e,t):new xL(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Qb{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new $a("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Jb{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class _L extends Qb{constructor(e){super(e);const t=Object.fromEntries(e.headers),n=r=>{if(r.statusCode===404){const d=new Ua(`Missing PDF "${this._url}".`);this._storedError=d,this._headersCapability.reject(d);return}this._headersCapability.resolve(),this._setReadableStream(r);const o=new Headers(this._readableStream.headers),{allowRangeRequests:l,suggestedLength:u}=h0({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=u||this._contentLength,this._filename=d0(o)};this._request=Yb(this._url,t,n),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class xL extends Jb{constructor(e,t,n){super(e);const r=Object.fromEntries(e.headers);r.Range=`bytes=${t}-${n-1}`;const o=l=>{if(l.statusCode===404){const u=new Ua(`Missing PDF "${this._url}".`);this._storedError=u;return}this._setReadableStream(l)};this._request=Yb(this._url,r,o),this._request.on("error",l=>{this._storedError=l}),this._request.end()}}class CL extends Qb{constructor(e){super(e);const t=co.get("fs");t.promises.lstat(this._url).then(n=>{this._contentLength=n.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},n=>{n.code==="ENOENT"&&(n=new Ua(`Missing PDF "${this._url}".`)),this._storedError=n,this._headersCapability.reject(n)})}}class kL extends Jb{constructor(e,t,n){super(e);const r=co.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:t,end:n-1}))}}const TL=1e5,Tn=30,RL=.8;var dE,Gr,Ln,Sh,Eh,ia,ji,bh,_h,ra,ql,Xl,qr,Kl,xh,Yl,oa,Ch,kh,vt,aa,la,Th,Xr,Ql,ar,Zb,e_,ov,Zn,Qf,av,t_,n_;let rv=(vt=class{constructor({textContentSource:e,container:t,viewport:n}){T(this,ar);T(this,Gr,Promise.withResolvers());T(this,Ln,null);T(this,Sh,!1);T(this,Eh,!!((dE=globalThis.FontInspector)!=null&&dE.enabled));T(this,ia,null);T(this,ji,null);T(this,bh,0);T(this,_h,0);T(this,ra,null);T(this,ql,null);T(this,Xl,0);T(this,qr,0);T(this,Kl,Object.create(null));T(this,xh,[]);T(this,Yl,null);T(this,oa,[]);T(this,Ch,new WeakMap);T(this,kh,null);var d;if(e instanceof ReadableStream)b(this,Yl,e);else if(typeof e=="object")b(this,Yl,new ReadableStream({start(p){p.enqueue(e),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');b(this,Ln,b(this,ql,t)),b(this,qr,n.scale*(globalThis.devicePixelRatio||1)),b(this,Xl,n.rotation),b(this,ji,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:o,pageX:l,pageY:u}=n.rawDims;b(this,kh,[1,0,0,-1,-l,u+o]),b(this,_h,r),b(this,bh,o),x(d=vt,Zn,t_).call(d),Da(t,n),h(this,Gr).promise.finally(()=>{h(vt,Ql).delete(this),b(this,ji,null),b(this,Kl,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=wn.platform;return Be(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{h(this,ra).read().then(({value:t,done:n})=>{if(n){h(this,Gr).resolve();return}h(this,ia)??b(this,ia,t.lang),Object.assign(h(this,Kl),t.styles),x(this,ar,Zb).call(this,t.items),e()},h(this,Gr).reject)};return b(this,ra,h(this,Yl).getReader()),h(vt,Ql).add(this),e(),h(this,Gr).promise}update({viewport:e,onBefore:t=null}){var o;const n=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==h(this,Xl)&&(t==null||t(),b(this,Xl,r),Da(h(this,ql),{rotation:r})),n!==h(this,qr)){t==null||t(),b(this,qr,n);const l={div:null,properties:null,ctx:x(o=vt,Zn,Qf).call(o,h(this,ia))};for(const u of h(this,oa))l.properties=h(this,Ch).get(u),l.div=u,x(this,ar,ov).call(this,l)}}cancel(){var t;const e=new $a("TextLayer task cancelled.");(t=h(this,ra))==null||t.cancel(e).catch(()=>{}),b(this,ra,null),h(this,Gr).reject(e)}get textDivs(){return h(this,oa)}get textContentItemsStr(){return h(this,xh)}static cleanup(){if(!(h(this,Ql).size>0)){h(this,aa).clear();for(const{canvas:e}of h(this,la).values())e.remove();h(this,la).clear()}}},Gr=new WeakMap,Ln=new WeakMap,Sh=new WeakMap,Eh=new WeakMap,ia=new WeakMap,ji=new WeakMap,bh=new WeakMap,_h=new WeakMap,ra=new WeakMap,ql=new WeakMap,Xl=new WeakMap,qr=new WeakMap,Kl=new WeakMap,xh=new WeakMap,Yl=new WeakMap,oa=new WeakMap,Ch=new WeakMap,kh=new WeakMap,aa=new WeakMap,la=new WeakMap,Th=new WeakMap,Xr=new WeakMap,Ql=new WeakMap,ar=new WeakSet,Zb=function(e){var r,o;if(h(this,Sh))return;(o=h(this,ji)).ctx??(o.ctx=x(r=vt,Zn,Qf).call(r,h(this,ia)));const t=h(this,oa),n=h(this,xh);for(const l of e){if(t.length>TL){Fe("Ignoring additional textDivs for performance reasons."),b(this,Sh,!0);return}if(l.str===void 0){if(l.type==="beginMarkedContentProps"||l.type==="beginMarkedContent"){const u=h(this,Ln);b(this,Ln,document.createElement("span")),h(this,Ln).classList.add("markedContent"),l.id!==null&&h(this,Ln).setAttribute("id",`${l.id}`),u.append(h(this,Ln))}else l.type==="endMarkedContent"&&b(this,Ln,h(this,Ln).parentNode);continue}n.push(l.str),x(this,ar,e_).call(this,l)}},e_=function(e){var E;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};h(this,oa).push(t);const r=ge.transform(h(this,kh),e.transform);let o=Math.atan2(r[1],r[0]);const l=h(this,Kl)[e.fontName];l.vertical&&(o+=Math.PI/2);let u=h(this,Eh)&&l.fontSubstitution||l.fontFamily;u=vt.fontFamilyMap.get(u)||u;const d=Math.hypot(r[2],r[3]),p=d*x(E=vt,Zn,n_).call(E,u,h(this,ia));let g,y;o===0?(g=r[4],y=r[5]-p):(g=r[4]+p*Math.sin(o),y=r[5]-p*Math.cos(o));const v="calc(var(--scale-factor)*",S=t.style;h(this,Ln)===h(this,ql)?(S.left=`${(100*g/h(this,_h)).toFixed(2)}%`,S.top=`${(100*y/h(this,bh)).toFixed(2)}%`):(S.left=`${v}${g.toFixed(2)}px)`,S.top=`${v}${y.toFixed(2)}px)`),S.fontSize=`${v}${(h(vt,Xr)*d).toFixed(2)}px)`,S.fontFamily=u,n.fontSize=d,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,h(this,Eh)&&(t.dataset.fontName=l.fontSubstitutionLoadedName||e.fontName),o!==0&&(n.angle=o*(180/Math.PI));let A=!1;if(e.str.length>1)A=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const C=Math.abs(e.transform[0]),k=Math.abs(e.transform[3]);C!==k&&Math.max(C,k)/Math.min(C,k)>1.5&&(A=!0)}if(A&&(n.canvasWidth=l.vertical?e.height:e.width),h(this,Ch).set(t,n),h(this,ji).div=t,h(this,ji).properties=n,x(this,ar,ov).call(this,h(this,ji)),n.hasText&&h(this,Ln).append(t),n.hasEOL){const C=document.createElement("br");C.setAttribute("role","presentation"),h(this,Ln).append(C)}},ov=function(e){var u;const{div:t,properties:n,ctx:r}=e,{style:o}=t;let l="";if(h(vt,Xr)>1&&(l=`scale(${1/h(vt,Xr)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:d}=o,{canvasWidth:p,fontSize:g}=n;x(u=vt,Zn,av).call(u,r,g*h(this,qr),d);const{width:y}=r.measureText(t.textContent);y>0&&(l=`scaleX(${p*h(this,qr)/y}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(o.transform=l)},Zn=new WeakSet,Qf=function(e=null){let t=h(this,la).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),h(this,la).set(e,t),h(this,Th).set(t,{size:0,family:""})}return t},av=function(e,t,n){const r=h(this,Th).get(e);t===r.size&&n===r.family||(e.font=`${t}px ${n}`,r.size=t,r.family=n)},t_=function(){if(h(this,Xr)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),b(this,Xr,e.getBoundingClientRect().height),e.remove()},n_=function(e,t){const n=h(this,aa).get(e);if(n)return n;const r=x(this,Zn,Qf).call(this,t);r.canvas.width=r.canvas.height=Tn,x(this,Zn,av).call(this,r,Tn,e);const o=r.measureText("");let l=o.fontBoundingBoxAscent,u=Math.abs(o.fontBoundingBoxDescent);if(l){const g=l/(l+u);return h(this,aa).set(e,g),r.canvas.width=r.canvas.height=0,g}r.strokeStyle="red",r.clearRect(0,0,Tn,Tn),r.strokeText("g",0,0);let d=r.getImageData(0,0,Tn,Tn).data;u=0;for(let g=d.length-1-3;g>=0;g-=4)if(d[g]>0){u=Math.ceil(g/4/Tn);break}r.clearRect(0,0,Tn,Tn),r.strokeText("A",0,Tn),d=r.getImageData(0,0,Tn,Tn).data,l=0;for(let g=0,y=d.length;g<y;g+=4)if(d[g]>0){l=Tn-Math.floor(g/4/Tn);break}r.canvas.width=r.canvas.height=0;const p=l?l/(l+u):RL;return h(this,aa).set(e,p),p},T(vt,Zn),T(vt,aa,new Map),T(vt,la,new Map),T(vt,Th,new WeakMap),T(vt,Xr,null),T(vt,Ql,new Set),vt);class Gu{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function r(o){var d;if(!o)return;let l=null;const u=o.name;if(u==="#text")l=o.value;else if(Gu.shouldBuildText(u))(d=o==null?void 0:o.attributes)!=null&&d.textContent?l=o.attributes.textContent:o.value&&(l=o.value);else return;if(l!==null&&t.push({str:l}),!!o.children)for(const p of o.children)r(p)}return r(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const PL=65536,LL=100,ML=5e3,NL=dn?WP:UP,IL=dn?GP:jb,FL=dn?VP:$P,DL=dn?qP:Ub;function OL(a={}){typeof a=="string"||a instanceof URL?a={url:a}:(a instanceof ArrayBuffer||ArrayBuffer.isView(a))&&(a={data:a});const e=new lv,{docId:t}=e,n=a.url?jL(a.url):null,r=a.data?HL(a.data):null,o=a.httpHeaders||null,l=a.withCredentials===!0,u=a.password??null,d=a.range instanceof s_?a.range:null,p=Number.isInteger(a.rangeChunkSize)&&a.rangeChunkSize>0?a.rangeChunkSize:PL;let g=a.worker instanceof Cl?a.worker:null;const y=a.verbosity,v=typeof a.docBaseUrl=="string"&&!sg(a.docBaseUrl)?a.docBaseUrl:null,S=typeof a.cMapUrl=="string"?a.cMapUrl:null,A=a.cMapPacked!==!1,E=a.CMapReaderFactory||IL,C=typeof a.standardFontDataUrl=="string"?a.standardFontDataUrl:null,k=a.StandardFontDataFactory||DL,L=a.stopAtErrors!==!0,M=Number.isInteger(a.maxImageSize)&&a.maxImageSize>-1?a.maxImageSize:-1,I=a.isEvalSupported!==!1,j=typeof a.isOffscreenCanvasSupported=="boolean"?a.isOffscreenCanvasSupported:!dn,z=typeof a.isChrome=="boolean"?a.isChrome:!wn.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),U=Number.isInteger(a.canvasMaxAreaInBytes)?a.canvasMaxAreaInBytes:-1,W=typeof a.disableFontFace=="boolean"?a.disableFontFace:dn,K=a.fontExtraProperties===!0,te=a.enableXfa===!0,se=a.ownerDocument||globalThis.document,_e=a.disableRange===!0,pe=a.disableStream===!0,de=a.disableAutoFetch===!0,Ae=a.pdfBug===!0,me=a.CanvasFactory||NL,Z=a.FilterFactory||FL,G=a.enableHWA===!0,ae=d?d.length:a.length??NaN,ee=typeof a.useSystemFonts=="boolean"?a.useSystemFonts:!dn&&!W,O=typeof a.useWorkerFetch=="boolean"?a.useWorkerFetch:E===jb&&k===Ub&&S&&C&&xu(S,document.baseURI)&&xu(C,document.baseURI);a.canvasFactory&&OS("`canvasFactory`-instance option, please use `CanvasFactory` instead."),a.filterFactory&&OS("`filterFactory`-instance option, please use `FilterFactory` instead.");const q=null;wP(y);const ce={canvasFactory:new me({ownerDocument:se,enableHWA:G}),filterFactory:new Z({docId:t,ownerDocument:se}),cMapReaderFactory:O?null:new E({baseUrl:S,isCompressed:A}),standardFontDataFactory:O?null:new k({baseUrl:C})};if(!g){const ve={verbosity:y,port:nr.workerPort};g=ve.port?Cl.fromPort(ve):new Cl(ve),e._worker=g}const Se={docId:t,apiVersion:"4.8.69",data:r,password:u,disableAutoFetch:de,rangeChunkSize:p,length:ae,docBaseUrl:v,enableXfa:te,evaluatorOptions:{maxImageSize:M,disableFontFace:W,ignoreErrors:L,isEvalSupported:I,isOffscreenCanvasSupported:j,isChrome:z,canvasMaxAreaInBytes:U,fontExtraProperties:K,useSystemFonts:ee,cMapUrl:O?S:null,standardFontDataUrl:O?C:null}},Te={disableFontFace:W,fontExtraProperties:K,ownerDocument:se,pdfBug:Ae,styleElement:q,loadingParams:{disableAutoFetch:de,enableXfa:te}};return g.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const ve=g.messageHandler.sendWithPromise("GetDocRequest",Se,r?[r.buffer]:null);let ye;if(d)ye=new uL(d,{disableRange:_e,disableStream:pe});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");let Ne;dn?Ne=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&xu(n)?KS:bL:Ne=xu(n)?KS:vL,ye=new Ne({url:n,length:ae,httpHeaders:o,withCredentials:l,rangeChunkSize:p,disableRange:_e,disableStream:pe})}return ve.then(Ne=>{if(e.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const He=new Mu(t,Ne,g.port),De=new $L(He,e,ye,Te,ce);e._transport=De,He.send("Ready",null)})}).catch(e._capability.reject),e}function jL(a){if(a instanceof URL)return a.href;try{return new URL(a,window.location).href}catch{if(dn&&typeof a=="string")return a}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function HL(a){if(dn&&typeof Buffer<"u"&&a instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength)return a;if(typeof a=="string")return tg(a);if(a instanceof ArrayBuffer||ArrayBuffer.isView(a)||typeof a=="object"&&!isNaN(a==null?void 0:a.length))return new Uint8Array(a);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function YS(a){return typeof a=="object"&&Number.isInteger(a==null?void 0:a.num)&&a.num>=0&&Number.isInteger(a==null?void 0:a.gen)&&a.gen>=0}var Fp;const Dp=class Dp{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${gn(Dp,Fp)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,n;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(r){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Fp=new WeakMap,T(Dp,Fp,0);let lv=Dp,s_=class{constructor(e,t,n=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){rt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class zL{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Be(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Kr,Hi,ds,Sl,Jf;class BL{constructor(e,t,n,r=!1){T(this,ds);T(this,Kr,null);T(this,Hi,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=r?new DS:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new i_,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:o=!1}={}){return new fd({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:o})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Be(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:r=Nr.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:u=null,annotationCanvasMap:d=null,pageColors:p=null,printAnnotationStorage:g=null,isEditing:y=!1}){var I,j;(I=this._stats)==null||I.time("Overall");const v=this._transport.getRenderingIntent(n,r,g,y),{renderingIntent:S,cacheKey:A}=v;b(this,Hi,!1),x(this,ds,Jf).call(this),u||(u=this._transport.getOptionalContentConfig(S));let E=this._intentStates.get(A);E||(E=Object.create(null),this._intentStates.set(A,E)),E.streamReaderCancelTimeout&&(clearTimeout(E.streamReaderCancelTimeout),E.streamReaderCancelTimeout=null);const C=!!(S&Yn.PRINT);E.displayReadyCapability||(E.displayReadyCapability=Promise.withResolvers(),E.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(j=this._stats)==null||j.time("Page Request"),this._pumpOperatorList(v));const k=z=>{var U;E.renderTasks.delete(L),(this._maybeCleanupAfterRender||C)&&b(this,Hi,!0),x(this,ds,Sl).call(this,!C),z?(L.capability.reject(z),this._abortOperatorList({intentState:E,reason:z instanceof Error?z:new Error(z)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(U=globalThis.Stats)!=null&&U.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new uv({callback:k,params:{canvasContext:e,viewport:t,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:E.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:p});(E.renderTasks||(E.renderTasks=new Set)).add(L);const M=L.task;return Promise.all([E.displayReadyCapability.promise,u]).then(([z,U])=>{var W;if(this.destroyed){k();return}if((W=this._stats)==null||W.time("Rendering"),!(U.renderingIntent&S))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:z,optionalContentConfig:U}),L.operatorListChanged()}).catch(k),M}getOperatorList({intent:e="display",annotationMode:t=Nr.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){var p;function o(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(d))}const l=this._transport.getRenderingIntent(e,t,n,r,!0);let u=this._intentStates.get(l.cacheKey);u||(u=Object.create(null),this._intentStates.set(l.cacheKey,u));let d;return u.opListReadCapability||(d=Object.create(null),d.operatorListChanged=o,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||(u.renderTasks=new Set)).add(d),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(p=this._stats)==null||p.time("Page Request"),this._pumpOperatorList(l)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Gu.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,r){function o(){l.read().then(function({value:d,done:p}){if(p){n(u);return}u.lang??(u.lang=d.lang),Object.assign(u.styles,d.styles),u.items.push(...d.items),o()},r)}const l=t.getReader(),u={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),b(this,Hi,!1),x(this,ds,Jf).call(this),Promise.all(e)}cleanup(e=!1){b(this,Hi,!0);const t=x(this,ds,Sl).call(this,!1);return e&&t&&this._stats&&(this._stats=new DS),t}_startRenderPage(e,t){var r,o;const n=this._intentStates.get(t);n&&((r=this._stats)==null||r.timeEnd("Page Request"),(o=n.displayReadyCapability)==null||o.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&x(this,ds,Sl).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:r}){const{map:o,transfer:l}=n,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:o,modifiedIds:r},l).getReader(),p=this._intentStates.get(t);p.streamReader=d;const g=()=>{d.read().then(({value:y,done:v})=>{if(v){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(y,p),g())},y=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const v of p.renderTasks)v.operatorListChanged();x(this,ds,Sl).call(this,!0)}if(p.displayReadyCapability)p.displayReadyCapability.reject(y);else if(p.opListReadCapability)p.opListReadCapability.reject(y);else throw y}})};g()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof i0){let r=LL;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new $a(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Kr=new WeakMap,Hi=new WeakMap,ds=new WeakSet,Sl=function(e=!1){if(x(this,ds,Jf).call(this),!h(this,Hi)||this.destroyed)return!1;if(e)return b(this,Kr,setTimeout(()=>{b(this,Kr,null),x(this,ds,Sl).call(this,!1)},ML)),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),b(this,Hi,!1),!0},Jf=function(){h(this,Kr)&&(clearTimeout(h(this,Kr)),b(this,Kr,null))};var zi,Op;class UL{constructor(){T(this,zi,new Map);T(this,Op,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};h(this,Op).then(()=>{for(const[r]of h(this,zi))r.call(this,n)})}addEventListener(e,t,n=null){let r=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:o}=n;if(o.aborted){Fe("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(e,t);r=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}h(this,zi).set(t,r)}removeEventListener(e,t){const n=h(this,zi).get(t);n==null||n(),h(this,zi).delete(t)}terminate(){for(const[,e]of h(this,zi))e==null||e();h(this,zi).clear()}}zi=new WeakMap,Op=new WeakMap;var jp,ca,ua,Jl,Zf,Zl,ep;const lt=class lt{constructor({name:e=null,port:t=null,verbosity:n=AP()}={}){T(this,Jl);var r;if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((r=h(lt,ua))!=null&&r.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(h(lt,ua)||b(lt,ua,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return dn?Promise.all([co.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Mu("main","worker",e),this._messageHandler.on("ready",function(){}),x(this,Jl,Zf).call(this)}_initialize(){if(h(lt,ca)||h(lt,Zl,ep)){this._setupFakeWorker();return}let{workerSrc:e}=lt;try{lt._isSameOrigin(window.location.href,e)||(e=lt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Mu("main","worker",t),r=()=>{o.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;t.addEventListener("error",()=>{this._webWorker||r()},{signal:o.signal}),n.on("test",u=>{if(o.abort(),this.destroyed||!u){r();return}this._messageHandler=n,this._port=t,this._webWorker=t,x(this,Jl,Zf).call(this)}),n.on("ready",u=>{if(o.abort(),this.destroyed){r();return}try{l()}catch{this._setupFakeWorker()}});const l=()=>{const u=new Uint8Array;n.send("test",u,[u.buffer])};l();return}catch{Zp("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){h(lt,ca)||(Fe("Setting up fake worker."),b(lt,ca,!0)),lt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new UL;this._port=t;const n=`fake${gn(lt,jp)._++}`,r=new Mu(n+"_worker",n,t);e.setup(r,t),this._messageHandler=new Mu(n,n+"_worker",t),x(this,Jl,Zf).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=h(lt,ua))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var n;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(n=h(this,ua))==null?void 0:n.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new lt(e)}static get workerSrc(){if(nr.workerSrc)return nr.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Be(this,"_setupFakeWorkerGlobal",(async()=>h(this,Zl,ep)?h(this,Zl,ep):(await import(this.workerSrc)).WorkerMessageHandler)())}};jp=new WeakMap,ca=new WeakMap,ua=new WeakMap,Jl=new WeakSet,Zf=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Zl=new WeakSet,ep=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},T(lt,Zl),T(lt,jp,0),T(lt,ca,!1),T(lt,ua),dn&&(b(lt,ca,!0),nr.workerSrc||(nr.workerSrc="./pdf.worker.mjs")),lt._isSameOrigin=(e,t)=>{let n;try{if(n=new URL(e),!n.origin||n.origin==="null")return!1}catch{return!1}const r=new URL(t,n);return n.origin===r.origin},lt._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let Cl=lt;var Bi,ai,ec,tc,li,ha,Nu;class $L{constructor(e,t,n,r,o){T(this,ha);T(this,Bi,new Map);T(this,ai,new Map);T(this,ec,new Map);T(this,tc,new Map);T(this,li,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new i_,this.fontLoader=new zP({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Be(this,"annotationStorage",new l0)}getRenderingIntent(e,t=Nr.ENABLE,n=null,r=!1,o=!1){let l=Yn.DISPLAY,u=Yy;switch(e){case"any":l=Yn.ANY;break;case"display":break;case"print":l=Yn.PRINT;break;default:Fe(`getRenderingIntent - invalid intent: ${e}`)}const d=l&Yn.PRINT&&n instanceof Fb?n:this.annotationStorage;switch(t){case Nr.DISABLE:l+=Yn.ANNOTATIONS_DISABLE;break;case Nr.ENABLE:break;case Nr.ENABLE_FORMS:l+=Yn.ANNOTATIONS_FORMS;break;case Nr.ENABLE_STORAGE:l+=Yn.ANNOTATIONS_STORAGE,u=d.serializable;break;default:Fe(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(l+=Yn.IS_EDITING),o&&(l+=Yn.OPLIST);const{ids:p,hash:g}=d.modifiedIds,y=[l,u.hash,g];return{renderingIntent:l,cacheKey:y.join("_"),annotationStorageSerializable:u,modifiedIds:p}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=h(this,li))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of h(this,ai).values())e.push(r._destroy());h(this,ai).clear(),h(this,ec).clear(),h(this,tc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),h(this,Bi).clear(),this.filterFactory.destroy(),rv.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new $a("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,r)=>{Ft(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:l}){if(l){r.close();return}Ft(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("ReaderHeadersReady",async n=>{var u;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:l}=this._fullReader;return(!r||!o)&&(this._lastProgress&&((u=t.onProgress)==null||u.call(t,this._lastProgress)),this._fullReader.onProgress=d=>{var p;(p=t.onProgress)==null||p.call(t,{loaded:d.loaded,total:d.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:l}}),e.on("GetRangeReader",(n,r)=>{Ft(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(n.begin,n.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:l,done:u}){if(u){r.close();return}Ft(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{o.cancel(l),r.ready.catch(u=>{if(!this.destroyed)throw u})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new zL(n,this))}),e.on("DocException",function(n){let r;switch(n.name){case"PasswordException":r=new Ty(n.message,n.code);break;case"InvalidPDFException":r=new ab(n.message);break;case"MissingPDFException":r=new Ua(n.message);break;case"UnexpectedResponseException":r=new eg(n.message,n.status);break;case"UnknownErrorException":r=new Ry(n.message,n.details);break;default:rt("DocException - expected a valid Error.")}t._capability.reject(r)}),e.on("PasswordRequest",n=>{if(b(this,li,Promise.withResolvers()),t.onPassword){const r=o=>{o instanceof Error?h(this,li).reject(o):h(this,li).resolve({password:o})};try{t.onPassword(r,n.code)}catch(o){h(this,li).reject(o)}}else h(this,li).reject(new Ty(n.message,n.code));return h(this,li).promise}),e.on("DataLoaded",n=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;h(this,ai).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,r,o])=>{var l;if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":const{disableFontFace:u,fontExtraProperties:d,pdfBug:p}=this._params;if("error"in o){const S=o.error;Fe(`Error during font loading: ${S}`),this.commonObjs.resolve(n,S);break}const g=p&&((l=globalThis.FontInspector)!=null&&l.enabled)?(S,A)=>globalThis.FontInspector.fontAdded(S,A):null,y=new BP(o,{disableFontFace:u,inspectFont:g});this.fontLoader.bind(y).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!d&&y.data&&(y.data=null),this.commonObjs.resolve(n,y)});break;case"CopyLocalImage":const{imageRef:v}=o;Ft(v,"The imageRef must be defined.");for(const S of h(this,ai).values())for(const[,A]of S.objs)if((A==null?void 0:A.ref)===v)return A.dataLen?(this.commonObjs.resolve(n,structuredClone(A)),A.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([n,r,o,l])=>{var d;if(this.destroyed)return;const u=h(this,ai).get(r);if(!u.objs.has(n)){if(u._intentStates.size===0){(d=l==null?void 0:l.bitmap)==null||d.close();return}switch(o){case"Image":u.objs.resolve(n,l),(l==null?void 0:l.dataLen)>gP&&(u._maybeCleanupAfterRender=!0);break;case"Pattern":u.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",n=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),e.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Fe("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=h(this,ec).get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&h(this,tc).set(o.refStr,e);const l=new BL(t,o,this,this._params.pdfBug);return h(this,ai).set(t,l),l});return h(this,ec).set(t,r),r}getPageIndex(e){return YS(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return x(this,ha,Nu).call(this,"GetFieldObjects")}hasJSActions(){return x(this,ha,Nu).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return x(this,ha,Nu).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return x(this,ha,Nu).call(this,"GetOptionalContentConfig").then(t=>new cL(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=h(this,Bi).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(r=>{var o,l;return{info:r[0],metadata:r[1]?new aL(r[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((l=this._fullReader)==null?void 0:l.contentLength)??null}});return h(this,Bi).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of h(this,ai).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),h(this,Bi).clear(),this.filterFactory.destroy(!0),rv.cleanup()}}cachedPageNumber(e){if(!YS(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return h(this,tc).get(t)??null}}Bi=new WeakMap,ai=new WeakMap,ec=new WeakMap,tc=new WeakMap,li=new WeakMap,ha=new WeakSet,Nu=function(e,t=null){const n=h(this,Bi).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return h(this,Bi).set(e,r),r};const Ff=Symbol("INITIAL_DATA");var Ls,Rh,cv;class i_{constructor(){T(this,Rh);T(this,Ls,Object.create(null))}get(e,t=null){if(t){const r=x(this,Rh,cv).call(this,e);return r.promise.then(()=>t(r.data)),null}const n=h(this,Ls)[e];if(!n||n.data===Ff)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=h(this,Ls)[e];return!!t&&t.data!==Ff}resolve(e,t=null){const n=x(this,Rh,cv).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in h(this,Ls)){const{data:n}=h(this,Ls)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}b(this,Ls,Object.create(null))}*[Symbol.iterator](){for(const e in h(this,Ls)){const{data:t}=h(this,Ls)[e];t!==Ff&&(yield[e,t])}}}Ls=new WeakMap,Rh=new WeakSet,cv=function(e){var t;return(t=h(this,Ls))[e]||(t[e]={...Promise.withResolvers(),data:Ff})};var Yr;class VL{constructor(e){T(this,Yr,null);b(this,Yr,e),this.onContinue=null}get promise(){return h(this,Yr).capability.promise}cancel(e=0){h(this,Yr).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=h(this,Yr).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=h(this,Yr);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Yr=new WeakMap;var Qr,da;const Do=class Do{constructor({callback:e,params:t,objs:n,commonObjs:r,annotationCanvasMap:o,operatorList:l,pageIndex:u,canvasFactory:d,filterFactory:p,useRequestAnimationFrame:g=!1,pdfBug:y=!1,pageColors:v=null}){T(this,Qr,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=u,this.canvasFactory=d,this.filterFactory=p,this._pdfBug=y,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=g===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new VL(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var u,d;if(this.cancelled)return;if(this._canvas){if(h(Do,da).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");h(Do,da).add(this._canvas)}this._pdfBug&&((u=globalThis.StepperManager)!=null&&u.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:r,transform:o,background:l}=this.params;this.gfx=new xl(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:r,transparency:e,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,(d=this.graphicsReadyCallback)==null||d.call(this)}cancel(e=null,t=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),h(this,Qr)&&(window.cancelAnimationFrame(h(this,Qr)),b(this,Qr,null)),h(Do,da).delete(this._canvas),this.callback(e||new i0(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?b(this,Qr,window.requestAnimationFrame(()=>{b(this,Qr,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),h(Do,da).delete(this._canvas),this.callback())))}};Qr=new WeakMap,da=new WeakMap,T(Do,da,new WeakSet);let uv=Do;const WL="4.8.69",GL="3634dab10";function QS(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}function _u(a){return Math.max(0,Math.min(255,255*a))}class JS{static CMYK_G([e,t,n,r]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=_u(e),[e,e,e]}static G_HTML([e]){const t=QS(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(_u)}static RGB_HTML(e){return`#${e.map(QS).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,n+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,n,r]){return[_u(1-Math.min(1,e+r)),_u(1-Math.min(1,n+r)),_u(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const r=1-e,o=1-t,l=1-n,u=Math.min(r,o,l);return["CMYK",r,o,l,u]}}class qL{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){rt("Abstract method `_createSVG` called.")}}class f0 extends qL{_createSVG(e){return document.createElementNS(Ri,e)}}class r_{static setupStorage(e,t,n,r,o){const l=r.getValue(t,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(e.textContent=l.value),o==="print")break;e.addEventListener("input",u=>{r.setValue(t,{value:u.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?e.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",u=>{r.setValue(t,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&e.setAttribute("value",l.value),o==="print")break;e.addEventListener("input",u=>{r.setValue(t,{value:u.target.value})})}break;case"select":if(l.value!==null){e.setAttribute("value",l.value);for(const u of n.children)u.attributes.value===l.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}e.addEventListener("input",u=>{const d=u.target.options,p=d.selectedIndex===-1?"":d[d.selectedIndex].value;r.setValue(t,{value:p})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:r,linkService:o}){const{attributes:l}=t,u=e instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${r}`);for(const[d,p]of Object.entries(l))if(p!=null)switch(d){case"class":p.length&&e.setAttribute(d,p.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",p);break;case"style":Object.assign(e.style,p);break;case"textContent":e.textContent=p;break;default:(!u||d!=="href"&&d!=="newWindow")&&e.setAttribute(d,p)}u&&o.addLinkAttributes(e,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(e,l.dataId,t,n)}static render(e){var y,v;const t=e.annotationStorage,n=e.linkService,r=e.xfaHtml,o=e.intent||"display",l=document.createElement(r.name);r.attributes&&this.setAttributes({html:l,element:r,intent:o,linkService:n});const u=o!=="richText",d=e.div;if(d.append(l),e.viewport){const S=`matrix(${e.viewport.transform.join(",")})`;d.style.transform=S}u&&d.setAttribute("class","xfaLayer xfaFont");const p=[];if(r.children.length===0){if(r.value){const S=document.createTextNode(r.value);l.append(S),u&&Gu.shouldBuildText(r.name)&&p.push(S)}return{textDivs:p}}const g=[[r,-1,l]];for(;g.length>0;){const[S,A,E]=g.at(-1);if(A+1===S.children.length){g.pop();continue}const C=S.children[++g.at(-1)[1]];if(C===null)continue;const{name:k}=C;if(k==="#text"){const M=document.createTextNode(C.value);p.push(M),E.append(M);continue}const L=(y=C==null?void 0:C.attributes)!=null&&y.xmlns?document.createElementNS(C.attributes.xmlns,k):document.createElement(k);if(E.append(L),C.attributes&&this.setAttributes({html:L,element:C,storage:t,intent:o,linkService:n}),((v=C.children)==null?void 0:v.length)>0)g.push([C,-1,L]);else if(C.value){const M=document.createTextNode(C.value);u&&Gu.shouldBuildText(k)&&p.push(M),L.append(M)}}for(const S of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))S.setAttribute("readOnly",!0);return{textDivs:p}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const gd=1e3,XL=9,ja=new WeakSet;function ir(a){return{width:a[2]-a[0],height:a[3]-a[1]}}class KL{static create(e){switch(e.data.annotationType){case Lt.LINK:return new o_(e);case Lt.TEXT:return new YL(e);case Lt.WIDGET:switch(e.data.fieldType){case"Tx":return new QL(e);case"Btn":return e.data.radioButton?new c_(e):e.data.checkBox?new ZL(e):new eM(e);case"Ch":return new tM(e);case"Sig":return new JL(e)}return new Va(e);case Lt.POPUP:return new dv(e);case Lt.FREETEXT:return new p_(e);case Lt.LINE:return new sM(e);case Lt.SQUARE:return new iM(e);case Lt.CIRCLE:return new rM(e);case Lt.POLYLINE:return new g_(e);case Lt.CARET:return new aM(e);case Lt.INK:return new p0(e);case Lt.POLYGON:return new oM(e);case Lt.HIGHLIGHT:return new m_(e);case Lt.UNDERLINE:return new lM(e);case Lt.SQUIGGLY:return new cM(e);case Lt.STRIKEOUT:return new uM(e);case Lt.STAMP:return new y_(e);case Lt.FILEATTACHMENT:return new hM(e);default:return new bt(e)}}}var fa,nc,sc,Ph,hv;const y0=class y0{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){T(this,Ph);T(this,fa,null);T(this,nc,!1);T(this,sc,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:n}){return!!(e!=null&&e.str||t!=null&&t.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return y0._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;h(this,fa)||b(this,fa,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&x(this,Ph,hv).call(this,t),(n=h(this,sc))==null||n.popup.updateEdited(e)}resetEdited(){var e;h(this,fa)&&(x(this,Ph,hv).call(this,h(this,fa).rect),(e=h(this,sc))==null||e.popup.resetEdited(),b(this,fa,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",t.id),this instanceof Va||(o.tabIndex=gd);const{style:l}=o;if(l.zIndex=this.parent.zIndex++,t.alternativeText&&(o.title=t.alternativeText),t.noRotate&&o.classList.add("norotate"),!t.rect||this instanceof dv){const{rotation:E}=t;return!t.hasOwnCanvas&&E!==0&&this.setRotation(E,o),o}const{width:u,height:d}=ir(t.rect);if(!e&&t.borderStyle.width>0){l.borderWidth=`${t.borderStyle.width}px`;const E=t.borderStyle.horizontalCornerRadius,C=t.borderStyle.verticalCornerRadius;if(E>0||C>0){const L=`calc(${E}px * var(--scale-factor)) / calc(${C}px * var(--scale-factor))`;l.borderRadius=L}else if(this instanceof c_){const L=`calc(${u}px * var(--scale-factor)) / calc(${d}px * var(--scale-factor))`;l.borderRadius=L}switch(t.borderStyle.style){case Eu.SOLID:l.borderStyle="solid";break;case Eu.DASHED:l.borderStyle="dashed";break;case Eu.BEVELED:Fe("Unimplemented border style: beveled");break;case Eu.INSET:Fe("Unimplemented border style: inset");break;case Eu.UNDERLINE:l.borderBottomStyle="solid";break}const k=t.borderColor||null;k?(b(this,nc,!0),l.borderColor=ge.makeHexColor(k[0]|0,k[1]|0,k[2]|0)):l.borderWidth=0}const p=ge.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:g,pageHeight:y,pageX:v,pageY:S}=r.rawDims;l.left=`${100*(p[0]-v)/g}%`,l.top=`${100*(p[1]-S)/y}%`;const{rotation:A}=t;return t.hasOwnCanvas||A===0?(l.width=`${100*u/g}%`,l.height=`${100*d/y}%`):this.setRotation(A,o),o}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims,{width:o,height:l}=ir(this.data.rect);let u,d;e%180===0?(u=100*o/n,d=100*l/r):(u=100*l/n,d=100*o/r),t.style.width=`${u}%`,t.style.height=`${d}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,r)=>{const o=r.detail[t],l=o[0],u=o.slice(1);r.target.style[n]=JS[`${l}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[n]:JS[`${l}_rgb`](u)})};return Be(this,"_commonActions",{display:t=>{const{display:n}=t.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail)){const o=e[r]||n[r];o==null||o(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,o]of Object.entries(t)){const l=n[r];if(l){const u={detail:{[r]:o},target:e};l(u),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,r,o]=this.data.rect.map(E=>Math.fround(E));if(e.length===8){const[E,C,k,L]=e.subarray(2,6);if(r===E&&o===C&&t===k&&n===L)return}const{style:l}=this.container;let u;if(h(this,nc)){const{borderColor:E,borderWidth:C}=l;l.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${E}" stroke-width="${C}">`],this.container.classList.add("hasBorder")}const d=r-t,p=o-n,{svgFactory:g}=this,y=g.createElement("svg");y.classList.add("quadrilateralsContainer"),y.setAttribute("width",0),y.setAttribute("height",0);const v=g.createElement("defs");y.append(v);const S=g.createElement("clipPath"),A=`clippath_${this.data.id}`;S.setAttribute("id",A),S.setAttribute("clipPathUnits","objectBoundingBox"),v.append(S);for(let E=2,C=e.length;E<C;E+=8){const k=e[E],L=e[E+1],M=e[E+2],I=e[E+3],j=g.createElement("rect"),z=(M-t)/d,U=(o-L)/p,W=(k-M)/d,K=(L-I)/p;j.setAttribute("x",z),j.setAttribute("y",U),j.setAttribute("width",W),j.setAttribute("height",K),S.append(j),u==null||u.push(`<rect vector-effect="non-scaling-stroke" x="${z}" y="${U}" width="${W}" height="${K}"/>`)}h(this,nc)&&(u.push("</g></svg>')"),l.backgroundImage=u.join("")),this.container.append(y),this.container.style.clipPath=`url(#${A})`}_createPopup(){const{data:e}=this,t=b(this,sc,new dv({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){rt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:o,id:l,exportValues:u}of r){if(o===-1||l===t)continue;const d=typeof u=="string"?u:null,p=document.querySelector(`[data-element-id="${l}"]`);if(p&&!ja.has(p)){Fe(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:d,domElement:p})}return n}for(const r of document.getElementsByName(e)){const{exportValue:o}=r,l=r.getAttribute("data-element-id");l!==t&&ja.has(r)&&n.push({id:l,exportValue:o,domElement:r})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};fa=new WeakMap,nc=new WeakMap,sc=new WeakMap,Ph=new WeakSet,hv=function(e){const{container:{style:t},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:l,pageX:u,pageY:d}}}}=this;n==null||n.splice(0,4,...e);const{width:p,height:g}=ir(e);t.left=`${100*(e[0]-u)/o}%`,t.top=`${100*(l-e[3]+d)/l}%`,r===0?(t.width=`${100*p/o}%`,t.height=`${100*g/l}%`):this.setRotation(r)};let bt=y0;var Qn,Lo,a_,l_;class o_ extends bt{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});T(this,Qn);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let o=!1;return t.url?(n.addLinkAttributes(r,t.url,t.newWindow),o=!0):t.action?(this._bindNamedAction(r,t.action),o=!0):t.attachment?(x(this,Qn,a_).call(this,r,t.attachment,t.attachmentDest),o=!0):t.setOCGState?(x(this,Qn,l_).call(this,r,t.setOCGState),o=!0):t.dest?(this._bindLink(r,t.dest),o=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),o=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(r,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(r),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&x(this,Qn,Lo).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),x(this,Qn,Lo).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(n.actions)){const l=r.get(o);l&&(t[l]=()=>{var u;return(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:o}}),!1})}t.onclick||(t.onclick=()=>!1),x(this,Qn,Lo).call(this)}_bindResetFormAction(t,n){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),x(this,Qn,Lo).call(this),!this._fieldObjects){Fe('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var y;r==null||r();const{fields:o,refs:l,include:u}=n,d=[];if(o.length!==0||l.length!==0){const v=new Set(l);for(const S of o){const A=this._fieldObjects[S]||[];for(const{id:E}of A)v.add(E)}for(const S of Object.values(this._fieldObjects))for(const A of S)v.has(A.id)===u&&d.push(A)}else for(const v of Object.values(this._fieldObjects))d.push(...v);const p=this.annotationStorage,g=[];for(const v of d){const{id:S}=v;switch(g.push(S),v.type){case"text":{const E=v.defaultValue||"";p.setValue(S,{value:E});break}case"checkbox":case"radiobutton":{const E=v.defaultValue===v.exportValues;p.setValue(S,{value:E});break}case"combobox":case"listbox":{const E=v.defaultValue||"";p.setValue(S,{value:E});break}default:continue}const A=document.querySelector(`[data-element-id="${S}"]`);if(A){if(!ja.has(A)){Fe(`_bindResetFormAction - element not allowed: ${S}`);continue}}else continue;A.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:g,name:"ResetForm"}})),!1}}}Qn=new WeakSet,Lo=function(){this.container.setAttribute("data-internal-link","")},a_=function(t,n,r=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(n.content,n.filename,r),!1},x(this,Qn,Lo).call(this)},l_=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),x(this,Qn,Lo).call(this)};class YL extends bt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Va extends bt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return wn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,r,o){n.includes("mouse")?e.addEventListener(n,l=>{var u;(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):e.addEventListener(n,l=>{var u;if(n==="blur"){if(!t.focused||!l.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}o&&((u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(l)}}))})}_setEventListeners(e,t,n,r){var o,l,u;for(const[d,p]of n)(p==="Action"||(o=this.data.actions)!=null&&o[p])&&((p==="Focus"||p==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,d,p,r),p==="Focus"&&!((l=this.data.actions)!=null&&l.Blur)?this._setEventListener(e,t,"blur","Blur",null):p==="Blur"&&!((u=this.data.actions)!=null&&u.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":ge.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||XL,o=e.style;let l;const u=2,d=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-u),g=Math.round(p/(hy*r))||1,y=p/g;l=Math.min(r,d(y/hy))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-u);l=Math.min(r,d(p/hy))}o.fontSize=`calc(${l}px * var(--scale-factor))`,o.color=ge.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(o.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class QL extends Va{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,r){const o=this.annotationStorage;for(const l of this._getElementsByName(e.name,e.id))l.domElement&&(l.domElement[t]=n),o.setValue(l.id,{[r]:n})}render(){var r,o;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const l=e.getValue(t,{value:this.data.fieldValue});let u=l.value||"";const d=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;d&&u.length>d&&(u=u.slice(0,d));let p=l.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const g={userValue:u,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=p??u,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",p??u),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),ja.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=gd,this._setRequired(n,this.data.required),d&&(n.maxLength=d),n.addEventListener("input",v=>{e.setValue(t,{value:v.target.value}),this.setPropertyOnSiblings(n,"value",v.target.value,"value"),g.formattedValue=null}),n.addEventListener("resetform",v=>{const S=this.data.defaultFieldValue??"";n.value=g.userValue=S,g.formattedValue=null});let y=v=>{const{formattedValue:S}=g;S!=null&&(v.target.value=S),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",S=>{var E;if(g.focused)return;const{target:A}=S;g.userValue&&(A.value=g.userValue),g.lastCommittedValue=A.value,g.commitKey=1,(E=this.data.actions)!=null&&E.Focus||(g.focused=!0)}),n.addEventListener("updatefromsandbox",S=>{this.showElementAndHideCanvas(S.target);const A={value(E){g.userValue=E.detail.value??"",e.setValue(t,{value:g.userValue.toString()}),E.target.value=g.userValue},formattedValue(E){const{formattedValue:C}=E.detail;g.formattedValue=C,C!=null&&E.target!==document.activeElement&&(E.target.value=C),e.setValue(t,{formattedValue:C})},selRange(E){E.target.setSelectionRange(...E.detail.selRange)},charLimit:E=>{var M;const{charLimit:C}=E.detail,{target:k}=E;if(C===0){k.removeAttribute("maxLength");return}k.setAttribute("maxLength",C);let L=g.userValue;!L||L.length<=C||(L=L.slice(0,C),k.value=g.userValue=L,e.setValue(t,{value:L}),(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:L,willCommit:!0,commitKey:1,selStart:k.selectionStart,selEnd:k.selectionEnd}}))}};this._dispatchEventFromSandbox(A,S)}),n.addEventListener("keydown",S=>{var C;g.commitKey=1;let A=-1;if(S.key==="Escape"?A=0:S.key==="Enter"&&!this.data.multiLine?A=2:S.key==="Tab"&&(g.commitKey=3),A===-1)return;const{value:E}=S.target;g.lastCommittedValue!==E&&(g.lastCommittedValue=E,g.userValue=E,(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,willCommit:!0,commitKey:A,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}))});const v=y;y=null,n.addEventListener("blur",S=>{var E,C;if(!g.focused||!S.relatedTarget)return;(E=this.data.actions)!=null&&E.Blur||(g.focused=!1);const{value:A}=S.target;g.userValue=A,g.lastCommittedValue!==A&&((C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,willCommit:!0,commitKey:g.commitKey,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}})),v(S)}),(o=this.data.actions)!=null&&o.Keystroke&&n.addEventListener("beforeinput",S=>{var j;g.lastCommittedValue=null;const{data:A,target:E}=S,{value:C,selectionStart:k,selectionEnd:L}=E;let M=k,I=L;switch(S.inputType){case"deleteWordBackward":{const z=C.substring(0,k).match(/\w*[^\w]*$/);z&&(M-=z[0].length);break}case"deleteWordForward":{const z=C.substring(k).match(/^[^\w]*\w*/);z&&(I+=z[0].length);break}case"deleteContentBackward":k===L&&(M-=1);break;case"deleteContentForward":k===L&&(I+=1);break}S.preventDefault(),(j=this.linkService.eventBus)==null||j.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:C,change:A||"",willCommit:!1,selStart:M,selEnd:I}})}),this._setEventListeners(n,g,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],S=>S.target.value)}if(y&&n.addEventListener("blur",y),this.data.comb){const S=(this.data.rect[2]-this.data.rect[0])/d;n.classList.add("comb"),n.style.letterSpacing=`calc(${S}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class JL extends Va{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class ZL extends Va{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return ja.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=t.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",t.exportValue),o.tabIndex=gd,o.addEventListener("change",l=>{const{name:u,checked:d}=l.target;for(const p of this._getElementsByName(u,n)){const g=d&&p.exportValue===t.exportValue;p.domElement&&(p.domElement.checked=g),e.setValue(p.id,{value:g})}e.setValue(n,{value:d})}),o.addEventListener("resetform",l=>{const u=t.defaultFieldValue||"Off";l.target.checked=u===t.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",l=>{const u={value(d){d.target.checked=d.detail.value!=="Off",e.setValue(n,{value:d.target.checked})}};this._dispatchEventFromSandbox(u,l)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class c_ extends Va{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(n,{value:r})),r)for(const l of this._getElementsByName(t.fieldName,n))e.setValue(l.id,{value:!1});const o=document.createElement("input");if(ja.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=t.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=gd,o.addEventListener("change",l=>{const{name:u,checked:d}=l.target;for(const p of this._getElementsByName(u,n))e.setValue(p.id,{value:!1});e.setValue(n,{value:d})}),o.addEventListener("resetform",l=>{const u=t.defaultFieldValue;l.target.checked=u!=null&&u===t.buttonValue}),this.enableScripting&&this.hasJSActions){const l=t.buttonValue;o.addEventListener("updatefromsandbox",u=>{const d={value:p=>{const g=l===p.detail.value;for(const y of this._getElementsByName(p.target.name)){const v=g&&y.id===n;y.domElement&&(y.domElement.checked=v),e.setValue(y.id,{value:v})}}};this._dispatchEventFromSandbox(d,u)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class eM extends o_{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class tM extends Va{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");ja.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=gd;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",g=>{const y=this.data.defaultFieldValue;for(const v of r.options)v.selected=v.value===y});for(const g of this.data.options){const y=document.createElement("option");y.textContent=g.displayValue,y.value=g.exportValue,n.value.includes(g.exportValue)&&(y.setAttribute("selected",!0),o=!1),r.append(y)}let l=null;if(o){const g=document.createElement("option");g.value=" ",g.setAttribute("hidden",!0),g.setAttribute("selected",!0),r.prepend(g),l=()=>{g.remove(),r.removeEventListener("input",l),l=null},r.addEventListener("input",l)}const u=g=>{const y=g?"value":"textContent",{options:v,multiple:S}=r;return S?Array.prototype.filter.call(v,A=>A.selected).map(A=>A[y]):v.selectedIndex===-1?null:v[v.selectedIndex][y]};let d=u(!1);const p=g=>{const y=g.target.options;return Array.prototype.map.call(y,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",g=>{const y={value(v){l==null||l();const S=v.detail.value,A=new Set(Array.isArray(S)?S:[S]);for(const E of r.options)E.selected=A.has(E.value);e.setValue(t,{value:u(!0)}),d=u(!1)},multipleSelection(v){r.multiple=!0},remove(v){const S=r.options,A=v.detail.remove;S[A].selected=!1,r.remove(A),S.length>0&&Array.prototype.findIndex.call(S,C=>C.selected)===-1&&(S[0].selected=!0),e.setValue(t,{value:u(!0),items:p(v)}),d=u(!1)},clear(v){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),d=u(!1)},insert(v){const{index:S,displayValue:A,exportValue:E}=v.detail.insert,C=r.children[S],k=document.createElement("option");k.textContent=A,k.value=E,C?C.before(k):r.append(k),e.setValue(t,{value:u(!0),items:p(v)}),d=u(!1)},items(v){const{items:S}=v.detail;for(;r.length!==0;)r.remove(0);for(const A of S){const{displayValue:E,exportValue:C}=A,k=document.createElement("option");k.textContent=E,k.value=C,r.append(k)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:u(!0),items:p(v)}),d=u(!1)},indices(v){const S=new Set(v.detail.indices);for(const A of v.target.options)A.selected=S.has(A.index);e.setValue(t,{value:u(!0)}),d=u(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(y,g)}),r.addEventListener("input",g=>{var S;const y=u(!0),v=u(!1);e.setValue(t,{value:y}),g.preventDefault(),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:d,change:v,changeEx:y,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],g=>g.target.value)):r.addEventListener("input",function(g){e.setValue(t,{value:u(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class dv extends bt{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:bt._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new nM({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(n=>`${s0}${n}`).join(",")),this.container}}var ic,Hp,zp,rc,pa,yt,Ui,oc,Lh,Mh,ac,$i,Ms,Vi,Nh,Wi,Ih,ga,ma,Ze,tp,fv,u_,h_,d_,f_,np,sp,pv;class nM{constructor({container:e,color:t,elements:n,titleObj:r,modificationDate:o,contentsObj:l,richText:u,parent:d,rect:p,parentRect:g,open:y}){T(this,Ze);T(this,ic,x(this,Ze,d_).bind(this));T(this,Hp,x(this,Ze,pv).bind(this));T(this,zp,x(this,Ze,sp).bind(this));T(this,rc,x(this,Ze,np).bind(this));T(this,pa,null);T(this,yt,null);T(this,Ui,null);T(this,oc,null);T(this,Lh,null);T(this,Mh,null);T(this,ac,null);T(this,$i,!1);T(this,Ms,null);T(this,Vi,null);T(this,Nh,null);T(this,Wi,null);T(this,Ih,null);T(this,ga,null);T(this,ma,!1);var v;b(this,yt,e),b(this,Ih,r),b(this,Ui,l),b(this,Wi,u),b(this,Mh,d),b(this,pa,t),b(this,Nh,p),b(this,ac,g),b(this,Lh,n),b(this,oc,o0.toDateObject(o)),this.trigger=n.flatMap(S=>S.getElementsToTriggerPopup());for(const S of this.trigger)S.addEventListener("click",h(this,rc)),S.addEventListener("mouseenter",h(this,zp)),S.addEventListener("mouseleave",h(this,Hp)),S.classList.add("popupTriggerArea");for(const S of n)(v=S.container)==null||v.addEventListener("keydown",h(this,ic));h(this,yt).hidden=!0,y&&x(this,Ze,np).call(this)}render(){if(h(this,Ms))return;const e=b(this,Ms,document.createElement("div"));if(e.className="popup",h(this,pa)){const o=e.style.outlineColor=ge.makeHexColor(...h(this,pa));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:e.style.backgroundColor=ge.makeHexColor(...h(this,pa).map(u=>Math.floor(.7*(255-u)+u)))}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=h(this,Ih),e.append(t),h(this,oc)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:h(this,oc).valueOf()})),t.append(o)}const r=h(this,Ze,tp);if(r)r_.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(h(this,Ui));e.append(o)}h(this,yt).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let o=0,l=r.length;o<l;++o){const u=r[o];n.append(document.createTextNode(u)),o<l-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;h(this,ga)||b(this,ga,{contentsObj:h(this,Ui),richText:h(this,Wi)}),e&&b(this,Vi,null),t&&(b(this,Wi,x(this,Ze,h_).call(this,t)),b(this,Ui,null)),(n=h(this,Ms))==null||n.remove(),b(this,Ms,null)}resetEdited(){var e;h(this,ga)&&({contentsObj:gn(this,Ui)._,richText:gn(this,Wi)._}=h(this,ga),b(this,ga,null),(e=h(this,Ms))==null||e.remove(),b(this,Ms,null),b(this,Vi,null))}forceHide(){b(this,ma,this.isVisible),h(this,ma)&&(h(this,yt).hidden=!0)}maybeShow(){h(this,ma)&&(h(this,Ms)||x(this,Ze,sp).call(this),b(this,ma,!1),h(this,yt).hidden=!1)}get isVisible(){return h(this,yt).hidden===!1}}ic=new WeakMap,Hp=new WeakMap,zp=new WeakMap,rc=new WeakMap,pa=new WeakMap,yt=new WeakMap,Ui=new WeakMap,oc=new WeakMap,Lh=new WeakMap,Mh=new WeakMap,ac=new WeakMap,$i=new WeakMap,Ms=new WeakMap,Vi=new WeakMap,Nh=new WeakMap,Wi=new WeakMap,Ih=new WeakMap,ga=new WeakMap,ma=new WeakMap,Ze=new WeakSet,tp=function(){const e=h(this,Wi),t=h(this,Ui);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&h(this,Wi).html||null},fv=function(){var e,t,n;return((n=(t=(e=h(this,Ze,tp))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},u_=function(){var e,t,n;return((n=(t=(e=h(this,Ze,tp))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},h_=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:h(this,Ze,u_),fontSize:h(this,Ze,fv)?`calc(${h(this,Ze,fv)}px * var(--scale-factor))`:""}};for(const o of e.split(`
`))t.push({name:"span",value:o,attributes:r});return n},d_=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&h(this,$i))&&x(this,Ze,np).call(this)},f_=function(){if(h(this,Vi)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:r,pageY:o}}}=h(this,Mh);let l=!!h(this,ac),u=l?h(this,ac):h(this,Nh);for(const A of h(this,Lh))if(!u||ge.intersect(A.data.rect,u)!==null){u=A.data.rect,l=!0;break}const d=ge.normalizeRect([u[0],e[3]-u[1]+e[1],u[2],e[3]-u[3]+e[1]]),g=l?u[2]-u[0]+5:0,y=d[0]+g,v=d[1];b(this,Vi,[100*(y-r)/t,100*(v-o)/n]);const{style:S}=h(this,yt);S.left=`${h(this,Vi)[0]}%`,S.top=`${h(this,Vi)[1]}%`},np=function(){b(this,$i,!h(this,$i)),h(this,$i)?(x(this,Ze,sp).call(this),h(this,yt).addEventListener("click",h(this,rc)),h(this,yt).addEventListener("keydown",h(this,ic))):(x(this,Ze,pv).call(this),h(this,yt).removeEventListener("click",h(this,rc)),h(this,yt).removeEventListener("keydown",h(this,ic)))},sp=function(){h(this,Ms)||this.render(),this.isVisible?h(this,$i)&&h(this,yt).classList.add("focused"):(x(this,Ze,f_).call(this),h(this,yt).hidden=!1,h(this,yt).style.zIndex=parseInt(h(this,yt).style.zIndex)+1e3)},pv=function(){h(this,yt).classList.remove("focused"),!(h(this,$i)||!this.isVisible)&&(h(this,yt).hidden=!0,h(this,yt).style.zIndex=parseInt(h(this,yt).style.zIndex)-1e3)};class p_ extends bt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Me.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Fh;class sM extends bt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});T(this,Fh,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:n,height:r}=ir(t.rect),o=this.svgFactory.create(n,r,!0),l=b(this,Fh,this.svgFactory.createElement("svg:line"));return l.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),l.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),l.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),l.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),o.append(l),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Fh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fh=new WeakMap;var Dh;class iM extends bt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});T(this,Dh,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:n,height:r}=ir(t.rect),o=this.svgFactory.create(n,r,!0),l=t.borderStyle.width,u=b(this,Dh,this.svgFactory.createElement("svg:rect"));return u.setAttribute("x",l/2),u.setAttribute("y",l/2),u.setAttribute("width",n-l),u.setAttribute("height",r-l),u.setAttribute("stroke-width",l||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),o.append(u),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Dh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Dh=new WeakMap;var Oh;class rM extends bt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});T(this,Oh,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:n,height:r}=ir(t.rect),o=this.svgFactory.create(n,r,!0),l=t.borderStyle.width,u=b(this,Oh,this.svgFactory.createElement("svg:ellipse"));return u.setAttribute("cx",n/2),u.setAttribute("cy",r/2),u.setAttribute("rx",n/2-l/2),u.setAttribute("ry",r/2-l/2),u.setAttribute("stroke-width",l||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),o.append(u),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Oh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Oh=new WeakMap;var jh;class g_ extends bt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});T(this,jh,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:r,popupRef:o}}=this;if(!n)return this.container;const{width:l,height:u}=ir(t),d=this.svgFactory.create(l,u,!0);let p=[];for(let y=0,v=n.length;y<v;y+=2){const S=n[y]-t[0],A=t[3]-n[y+1];p.push(`${S},${A}`)}p=p.join(" ");const g=b(this,jh,this.svgFactory.createElement(this.svgElementName));return g.setAttribute("points",p),g.setAttribute("stroke-width",r.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),d.append(g),this.container.append(d),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,jh)}addHighlightArea(){this.container.classList.add("highlightArea")}}jh=new WeakMap;class oM extends g_{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class aM extends bt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Hh;class p0 extends bt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});T(this,Hh,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Me.HIGHLIGHT:Me.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:n,borderStyle:r,popupRef:o}}=this,{width:l,height:u}=ir(t),d=this.svgFactory.create(l,u,!0);for(const p of n){let g=[];for(let v=0,S=p.length;v<S;v+=2){const A=p[v]-t[0],E=t[3]-p[v+1];g.push(`${A},${E}`)}g=g.join(" ");const y=this.svgFactory.createElement(this.svgElementName);h(this,Hh).push(y),y.setAttribute("points",g),y.setAttribute("stroke-width",r.width||1),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),d.append(y)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return h(this,Hh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Hh=new WeakMap;class m_ extends bt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Me.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class lM extends bt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class cM extends bt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class uM extends bt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class y_ extends bt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Me.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var zh,Bh,gv;class hM extends bt{constructor(t){var r;super(t,{isRenderable:!0});T(this,Bh);T(this,zh,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",x(this,Bh,gv).bind(this)),b(this,zh,r);const{isMac:o}=wn.platform;return t.addEventListener("keydown",l=>{l.key==="Enter"&&(o?l.metaKey:l.ctrlKey)&&x(this,Bh,gv).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return h(this,zh)}addHighlightArea(){this.container.classList.add("highlightArea")}}zh=new WeakMap,Bh=new WeakSet,gv=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Uh,ya,va,$h,za,v_,mv,fE;let dM=(fE=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:r,page:o,viewport:l,structTreeLayer:u}){T(this,za);T(this,Uh,null);T(this,ya,null);T(this,va,new Map);T(this,$h,null);this.div=e,b(this,Uh,t),b(this,ya,n),b(this,$h,u||null),this.page=o,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return h(this,va).size>0}async render(e){var l;const{annotations:t}=e,n=this.div;Da(n,this.viewport);const r=new Map,o={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new f0,annotationStorage:e.annotationStorage||new l0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const u of t){if(u.noHTML)continue;const d=u.annotationType===Lt.POPUP;if(d){const y=r.get(u.id);if(!y)continue;o.elements=y}else{const{width:y,height:v}=ir(u.rect);if(y<=0||v<=0)continue}o.data=u;const p=KL.create(o);if(!p.isRenderable)continue;if(!d&&u.popupRef){const y=r.get(u.popupRef);y?y.push(p):r.set(u.popupRef,[p])}const g=p.render();u.hidden&&(g.style.visibility="hidden"),await x(this,za,v_).call(this,g,u.id),p._isEditable&&(h(this,va).set(p.data.id,p),(l=this._annotationEditorUIManager)==null||l.renderAnnotationElement(p))}x(this,za,mv).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Da(t,{rotation:e.rotation}),x(this,za,mv).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(h(this,va).values())}getEditableAnnotation(e){return h(this,va).get(e)}},Uh=new WeakMap,ya=new WeakMap,va=new WeakMap,$h=new WeakMap,za=new WeakSet,v_=async function(e,t){var l,u;const n=e.firstChild||e,r=n.id=`${s0}${t}`,o=await((l=h(this,$h))==null?void 0:l.getAriaAttributes(r));if(o)for(const[d,p]of o)n.setAttribute(d,p);this.div.append(e),(u=h(this,Uh))==null||u.moveElementInDOM(this.div,e,n,!1)},mv=function(){if(!h(this,ya))return;const e=this.div;for(const[t,n]of h(this,ya)){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(n):o.classList.contains("annotationContent")?o.after(n):o.before(n):r.append(n)}h(this,ya).clear()},fE);const Df=/\r\n?|\n/g;var Ns,Vn,Vh,wa,Wn,kt,w_,A_,S_,ip,or,rp,op,E_,vv,b_;const nt=class nt extends Qe{constructor(t){super({...t,name:"freeTextEditor"});T(this,kt);T(this,Ns);T(this,Vn,"");T(this,Vh,`${this.id}-editor`);T(this,wa,null);T(this,Wn);b(this,Ns,t.color||nt._defaultColor||Qe._defaultLineColor),b(this,Wn,t.fontSize||nt._defaultFontSize)}static get _keyboardManager(){const t=nt.prototype,n=l=>l.isEmpty(),r=Oa.TRANSLATE_SMALL,o=Oa.TRANSLATE_BIG;return Be(this,"_keyboardManager",new pd([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-o,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[o,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-o],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,o],checker:n}]]))}static initialize(t,n){Qe.initialize(t,n);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case ke.FREETEXT_SIZE:nt._defaultFontSize=n;break;case ke.FREETEXT_COLOR:nt._defaultColor=n;break}}updateParams(t,n){switch(t){case ke.FREETEXT_SIZE:x(this,kt,w_).call(this,n);break;case ke.FREETEXT_COLOR:x(this,kt,A_).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[ke.FREETEXT_SIZE,nt._defaultFontSize],[ke.FREETEXT_COLOR,nt._defaultColor||Qe._defaultLineColor]]}get propertiesToUpdate(){return[[ke.FREETEXT_SIZE,h(this,Wn)],[ke.FREETEXT_COLOR,h(this,Ns)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-nt._internalPadding*t,-(nt._internalPadding+h(this,Wn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Me.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),b(this,wa,new AbortController);const t=this._uiManager.combinedSignal(h(this,wa));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",h(this,Vh)),this._isDraggable=!0,(t=h(this,wa))==null||t.abort(),b(this,wa,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=h(this,Vn),n=b(this,Vn,x(this,kt,S_).call(this).trimEnd());if(t===n)return;const r=o=>{if(b(this,Vn,o),!o){this.remove();return}x(this,kt,op).call(this),this._uiManager.rebuild(this),x(this,kt,ip).call(this)};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(t)},mustExec:!1}),x(this,kt,ip).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){nt._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",h(this,Vh)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${h(this,Wn)}px * var(--scale-factor))`,r.color=h(this,Ns),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Sp(this,this.div,["dblclick","keydown"]),this.width){const[o,l]=this.parentDimensions;if(this.annotationElementId){const{position:u}=this._initialData;let[d,p]=this.getInitialTranslation();[d,p]=this.pageTranslationToScreen(d,p);const[g,y]=this.pageDimensions,[v,S]=this.pageTranslation;let A,E;switch(this.rotation){case 0:A=t+(u[0]-v)/g,E=n+this.height-(u[1]-S)/y;break;case 90:A=t+(u[0]-v)/g,E=n-(u[1]-S)/y,[d,p]=[p,-d];break;case 180:A=t-this.width+(u[0]-v)/g,E=n-(u[1]-S)/y,[d,p]=[-d,-p];break;case 270:A=t+(u[0]-v-this.height*y)/g,E=n+(u[1]-S-this.width*g)/y,[d,p]=[-p,d];break}this.setAt(A*o,E*l,d,p)}else this.setAt(t*o,n*l,this.width*o,this.height*l);x(this,kt,op).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var A,E,C;const n=t.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const o=x(A=nt,or,vv).call(A,n.getData("text")||"").replaceAll(Df,`
`);if(!o)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const u=l.getRangeAt(0);if(!o.includes(`
`)){u.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:d,startOffset:p}=u,g=[],y=[];if(d.nodeType===Node.TEXT_NODE){const k=d.parentElement;if(y.push(d.nodeValue.slice(p).replaceAll(Df,"")),k!==this.editorDiv){let L=g;for(const M of this.editorDiv.childNodes){if(M===k){L=y;continue}L.push(x(E=nt,or,rp).call(E,M))}}g.push(d.nodeValue.slice(0,p).replaceAll(Df,""))}else if(d===this.editorDiv){let k=g,L=0;for(const M of this.editorDiv.childNodes)L++===p&&(k=y),k.push(x(C=nt,or,rp).call(C,M))}b(this,Vn,`${g.join(`
`)}${o}${y.join(`
`)}`),x(this,kt,op).call(this);const v=new Range;let S=g.reduce((k,L)=>k+L.length,0);for(const{firstChild:k}of this.editorDiv.childNodes)if(k.nodeType===Node.TEXT_NODE){const L=k.nodeValue.length;if(S<=L){v.setStart(k,S),v.setEnd(k,S);break}S-=L}l.removeAllRanges(),l.addRange(v)}get contentDiv(){return this.editorDiv}static async deserialize(t,n,r){var u;let o=null;if(t instanceof p_){const{data:{defaultAppearanceData:{fontSize:d,fontColor:p},rect:g,rotation:y,id:v,popupRef:S},textContent:A,textPosition:E,parent:{page:{pageNumber:C}}}=t;if(!A||A.length===0)return null;o=t={annotationType:Me.FREETEXT,color:Array.from(p),fontSize:d,value:A.join(`
`),position:E,pageIndex:C-1,rect:g.slice(0),rotation:y,id:v,deleted:!1,popupRef:S}}const l=await super.deserialize(t,n,r);return b(l,Wn,t.fontSize),b(l,Ns,ge.makeHexColor(...t.color)),b(l,Vn,x(u=nt,or,vv).call(u,t.value)),l.annotationElementId=t.id||null,l._initialData=o,l}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=nt._internalPadding*this.parentScale,r=this.getRect(n,n),o=Qe._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:h(this,Ns)),l={annotationType:Me.FREETEXT,color:o,fontSize:h(this,Wn),value:x(this,kt,E_).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?l:this.annotationElementId&&!x(this,kt,b_).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:r}=n;r.fontSize=`calc(${h(this,Wn)}px * var(--scale-factor))`,r.color=h(this,Ns),n.replaceChildren();for(const l of h(this,Vn).split(`
`)){const u=document.createElement("div");u.append(l?document.createTextNode(l):document.createElement("br")),n.append(u)}const o=nt._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(o,o),popupContent:h(this,Vn)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Ns=new WeakMap,Vn=new WeakMap,Vh=new WeakMap,wa=new WeakMap,Wn=new WeakMap,kt=new WeakSet,w_=function(t){const n=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-h(this,Wn))*this.parentScale),b(this,Wn,o),x(this,kt,ip).call(this)},r=h(this,Wn);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ke.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},A_=function(t){const n=o=>{b(this,Ns,this.editorDiv.style.color=o)},r=h(this,Ns);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ke.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},S_=function(){var r;const t=[];this.editorDiv.normalize();let n=null;for(const o of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(t.push(x(r=nt,or,rp).call(r,o)),n=o);return t.join(`
`)},ip=function(){const[t,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:o,div:l}=this,u=l.style.display,d=l.classList.contains("hidden");l.classList.remove("hidden"),l.style.display="hidden",o.div.append(this.div),r=l.getBoundingClientRect(),l.remove(),l.style.display=u,l.classList.toggle("hidden",d)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/n):(this.width=r.height/t,this.height=r.width/n),this.fixAndSetPosition()},or=new WeakSet,rp=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Df,"")},op=function(){if(this.editorDiv.replaceChildren(),!!h(this,Vn))for(const t of h(this,Vn).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},E_=function(){return h(this,Vn).replaceAll(""," ")},vv=function(t){return t.replaceAll(" ","")},b_=function(t){const{value:n,fontSize:r,color:o,pageIndex:l}=this._initialData;return this._hasBeenMoved||t.value!==n||t.fontSize!==r||t.color.some((u,d)=>u!==o[d])||t.pageIndex!==l},T(nt,or),Ce(nt,"_freeTextDefaultContent",""),Ce(nt,"_internalPadding",0),Ce(nt,"_defaultColor",null),Ce(nt,"_defaultFontSize",10),Ce(nt,"_type","freetext"),Ce(nt,"_editorType",Me.FREETEXT);let yv=nt;class __{toSVGPath(){rt("Abstract method `toSVGPath` must be implemented.")}get box(){rt("Abstract getter `box` must be implemented.")}serialize(e,t){rt("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){rt("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){rt("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Gn,Is,lc,cc,ci,je,Aa,Sa,Wh,Gh,uc,hc,Jr,qh,Bp,Up,Dt,Iu,x_,C_,k_,T_,R_,P_;const Li=class Li{constructor({x:e,y:t},n,r,o,l,u=0){T(this,Dt);T(this,Gn);T(this,Is,[]);T(this,lc);T(this,cc);T(this,ci,[]);T(this,je,new Float64Array(18));T(this,Aa);T(this,Sa);T(this,Wh);T(this,Gh);T(this,uc);T(this,hc);T(this,Jr,[]);b(this,Gn,n),b(this,hc,o*r),b(this,cc,l),h(this,je).set([NaN,NaN,NaN,NaN,e,t],6),b(this,lc,u),b(this,Gh,h(Li,qh)*r),b(this,Wh,h(Li,Up)*r),b(this,uc,r),h(this,Jr).push(e,t)}isEmpty(){return isNaN(h(this,je)[8])}add({x:e,y:t}){var K;b(this,Aa,e),b(this,Sa,t);const[n,r,o,l]=h(this,Gn);let[u,d,p,g]=h(this,je).subarray(8,12);const y=e-p,v=t-g,S=Math.hypot(y,v);if(S<h(this,Wh))return!1;const A=S-h(this,Gh),E=A/S,C=E*y,k=E*v;let L=u,M=d;u=p,d=g,p+=C,g+=k,(K=h(this,Jr))==null||K.push(e,t);const I=-k/A,j=C/A,z=I*h(this,hc),U=j*h(this,hc);return h(this,je).set(h(this,je).subarray(2,8),0),h(this,je).set([p+z,g+U],4),h(this,je).set(h(this,je).subarray(14,18),12),h(this,je).set([p-z,g-U],16),isNaN(h(this,je)[6])?(h(this,ci).length===0&&(h(this,je).set([u+z,d+U],2),h(this,ci).push(NaN,NaN,NaN,NaN,(u+z-n)/o,(d+U-r)/l),h(this,je).set([u-z,d-U],14),h(this,Is).push(NaN,NaN,NaN,NaN,(u-z-n)/o,(d-U-r)/l)),h(this,je).set([L,M,u,d,p,g],6),!this.isEmpty()):(h(this,je).set([L,M,u,d,p,g],6),Math.abs(Math.atan2(M-d,L-u)-Math.atan2(k,C))<Math.PI/2?([u,d,p,g]=h(this,je).subarray(2,6),h(this,ci).push(NaN,NaN,NaN,NaN,((u+p)/2-n)/o,((d+g)/2-r)/l),[u,d,L,M]=h(this,je).subarray(14,18),h(this,Is).push(NaN,NaN,NaN,NaN,((L+u)/2-n)/o,((M+d)/2-r)/l),!0):([L,M,u,d,p,g]=h(this,je).subarray(0,6),h(this,ci).push(((L+5*u)/6-n)/o,((M+5*d)/6-r)/l,((5*u+p)/6-n)/o,((5*d+g)/6-r)/l,((u+p)/2-n)/o,((d+g)/2-r)/l),[p,g,u,d,L,M]=h(this,je).subarray(12,18),h(this,Is).push(((L+5*u)/6-n)/o,((M+5*d)/6-r)/l,((5*u+p)/6-n)/o,((5*d+g)/6-r)/l,((u+p)/2-n)/o,((d+g)/2-r)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const e=h(this,ci),t=h(this,Is);if(isNaN(h(this,je)[6])&&!this.isEmpty())return x(this,Dt,x_).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);x(this,Dt,k_).call(this,n);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return x(this,Dt,C_).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,r,o,l){return new L_(e,t,n,r,o,l)}getOutlines(){var y;const e=h(this,ci),t=h(this,Is),n=h(this,je),[r,o,l,u]=h(this,Gn),d=new Float64Array((((y=h(this,Jr))==null?void 0:y.length)??0)+2);for(let v=0,S=d.length-2;v<S;v+=2)d[v]=(h(this,Jr)[v]-r)/l,d[v+1]=(h(this,Jr)[v+1]-o)/u;if(d[d.length-2]=(h(this,Aa)-r)/l,d[d.length-1]=(h(this,Sa)-o)/u,isNaN(n[6])&&!this.isEmpty())return x(this,Dt,T_).call(this,d);const p=new Float64Array(h(this,ci).length+24+h(this,Is).length);let g=e.length;for(let v=0;v<g;v+=2){if(isNaN(e[v])){p[v]=p[v+1]=NaN;continue}p[v]=e[v],p[v+1]=e[v+1]}g=x(this,Dt,P_).call(this,p,g);for(let v=t.length-6;v>=6;v-=6)for(let S=0;S<6;S+=2){if(isNaN(t[v+S])){p[g]=p[g+1]=NaN,g+=2;continue}p[g]=t[v+S],p[g+1]=t[v+S+1],g+=2}return x(this,Dt,R_).call(this,p,g),this.newFreeDrawOutline(p,d,h(this,Gn),h(this,uc),h(this,lc),h(this,cc))}};Gn=new WeakMap,Is=new WeakMap,lc=new WeakMap,cc=new WeakMap,ci=new WeakMap,je=new WeakMap,Aa=new WeakMap,Sa=new WeakMap,Wh=new WeakMap,Gh=new WeakMap,uc=new WeakMap,hc=new WeakMap,Jr=new WeakMap,qh=new WeakMap,Bp=new WeakMap,Up=new WeakMap,Dt=new WeakSet,Iu=function(){const e=h(this,je).subarray(4,6),t=h(this,je).subarray(16,18),[n,r,o,l]=h(this,Gn);return[(h(this,Aa)+(e[0]-t[0])/2-n)/o,(h(this,Sa)+(e[1]-t[1])/2-r)/l,(h(this,Aa)+(t[0]-e[0])/2-n)/o,(h(this,Sa)+(t[1]-e[1])/2-r)/l]},x_=function(){const[e,t,n,r]=h(this,Gn),[o,l,u,d]=x(this,Dt,Iu).call(this);return`M${(h(this,je)[2]-e)/n} ${(h(this,je)[3]-t)/r} L${(h(this,je)[4]-e)/n} ${(h(this,je)[5]-t)/r} L${o} ${l} L${u} ${d} L${(h(this,je)[16]-e)/n} ${(h(this,je)[17]-t)/r} L${(h(this,je)[14]-e)/n} ${(h(this,je)[15]-t)/r} Z`},C_=function(e){const t=h(this,Is);e.push(`L${t[4]} ${t[5]} Z`)},k_=function(e){const[t,n,r,o]=h(this,Gn),l=h(this,je).subarray(4,6),u=h(this,je).subarray(16,18),[d,p,g,y]=x(this,Dt,Iu).call(this);e.push(`L${(l[0]-t)/r} ${(l[1]-n)/o} L${d} ${p} L${g} ${y} L${(u[0]-t)/r} ${(u[1]-n)/o}`)},T_=function(e){const t=h(this,je),[n,r,o,l]=h(this,Gn),[u,d,p,g]=x(this,Dt,Iu).call(this),y=new Float64Array(36);return y.set([NaN,NaN,NaN,NaN,(t[2]-n)/o,(t[3]-r)/l,NaN,NaN,NaN,NaN,(t[4]-n)/o,(t[5]-r)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(t[16]-n)/o,(t[17]-r)/l,NaN,NaN,NaN,NaN,(t[14]-n)/o,(t[15]-r)/l],0),this.newFreeDrawOutline(y,e,h(this,Gn),h(this,uc),h(this,lc),h(this,cc))},R_=function(e,t){const n=h(this,Is);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},P_=function(e,t){const n=h(this,je).subarray(4,6),r=h(this,je).subarray(16,18),[o,l,u,d]=h(this,Gn),[p,g,y,v]=x(this,Dt,Iu).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-o)/u,(n[1]-l)/d,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,y,v,NaN,NaN,NaN,NaN,(r[0]-o)/u,(r[1]-l)/d],t),t+=24},T(Li,qh,8),T(Li,Bp,2),T(Li,Up,h(Li,qh)+h(Li,Bp));let bp=Li;var dc,Ea,Gi,Xh,qn,Kh,Et,In,Fu,Du,M_;class L_ extends __{constructor(t,n,r,o,l,u){super();T(this,In);T(this,dc);T(this,Ea,null);T(this,Gi);T(this,Xh);T(this,qn);T(this,Kh);T(this,Et);b(this,Et,t),b(this,qn,n),b(this,dc,r),b(this,Kh,o),b(this,Gi,l),b(this,Xh,u),x(this,In,M_).call(this,u);const{x:d,y:p,width:g,height:y}=h(this,Ea);for(let v=0,S=t.length;v<S;v+=2)t[v]=(t[v]-d)/g,t[v+1]=(t[v+1]-p)/y;for(let v=0,S=n.length;v<S;v+=2)n[v]=(n[v]-d)/g,n[v+1]=(n[v+1]-p)/y}toSVGPath(){const t=[`M${h(this,Et)[4]} ${h(this,Et)[5]}`];for(let n=6,r=h(this,Et).length;n<r;n+=6){if(isNaN(h(this,Et)[n])){t.push(`L${h(this,Et)[n+4]} ${h(this,Et)[n+5]}`);continue}t.push(`C${h(this,Et)[n]} ${h(this,Et)[n+1]} ${h(this,Et)[n+2]} ${h(this,Et)[n+3]} ${h(this,Et)[n+4]} ${h(this,Et)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,r,o],l){const u=r-t,d=o-n;let p,g;switch(l){case 0:p=x(this,In,Fu).call(this,h(this,Et),t,o,u,-d),g=x(this,In,Fu).call(this,h(this,qn),t,o,u,-d);break;case 90:p=x(this,In,Du).call(this,h(this,Et),t,n,u,d),g=x(this,In,Du).call(this,h(this,qn),t,n,u,d);break;case 180:p=x(this,In,Fu).call(this,h(this,Et),r,n,-u,d),g=x(this,In,Fu).call(this,h(this,qn),r,n,-u,d);break;case 270:p=x(this,In,Du).call(this,h(this,Et),r,o,-u,-d),g=x(this,In,Du).call(this,h(this,qn),r,o,-u,-d);break}return{outline:Array.from(p),points:[Array.from(g)]}}get box(){return h(this,Ea)}newOutliner(t,n,r,o,l,u=0){return new bp(t,n,r,o,l,u)}getNewOutline(t,n){const{x:r,y:o,width:l,height:u}=h(this,Ea),[d,p,g,y]=h(this,dc),v=l*g,S=u*y,A=r*g+d,E=o*y+p,C=this.newOutliner({x:h(this,qn)[0]*v+A,y:h(this,qn)[1]*S+E},h(this,dc),h(this,Kh),t,h(this,Xh),n??h(this,Gi));for(let k=2;k<h(this,qn).length;k+=2)C.add({x:h(this,qn)[k]*v+A,y:h(this,qn)[k+1]*S+E});return C.getOutlines()}get mustRemoveSelfIntersections(){return!0}}dc=new WeakMap,Ea=new WeakMap,Gi=new WeakMap,Xh=new WeakMap,qn=new WeakMap,Kh=new WeakMap,Et=new WeakMap,In=new WeakSet,Fu=function(t,n,r,o,l){const u=new Float64Array(t.length);for(let d=0,p=t.length;d<p;d+=2)u[d]=n+t[d]*o,u[d+1]=r+t[d+1]*l;return u},Du=function(t,n,r,o,l){const u=new Float64Array(t.length);for(let d=0,p=t.length;d<p;d+=2)u[d]=n+t[d+1]*o,u[d+1]=r+t[d]*l;return u},M_=function(t){const n=h(this,Et);let r=n[4],o=n[5],l=r,u=o,d=r,p=o,g=r,y=o;const v=t?Math.max:Math.min;for(let k=6,L=n.length;k<L;k+=6){if(isNaN(n[k]))l=Math.min(l,n[k+4]),u=Math.min(u,n[k+5]),d=Math.max(d,n[k+4]),p=Math.max(p,n[k+5]),y<n[k+5]?(g=n[k+4],y=n[k+5]):y===n[k+5]&&(g=v(g,n[k+4]));else{const M=ge.bezierBoundingBox(r,o,...n.slice(k,k+6));l=Math.min(l,M[0]),u=Math.min(u,M[1]),d=Math.max(d,M[2]),p=Math.max(p,M[3]),y<M[3]?(g=M[2],y=M[3]):y===M[3]&&(g=v(g,M[2]))}r=n[k+4],o=n[k+5]}const S=l-h(this,Gi),A=u-h(this,Gi),E=d-l+2*h(this,Gi),C=p-u+2*h(this,Gi);b(this,Ea,{x:S,y:A,width:E,height:C,lastPoint:[g,y]})};var Yh,Zr,Fs,Sn,N_,ap,I_,F_,wv;class ZS{constructor(e,t=0,n=0,r=!0){T(this,Sn);T(this,Yh);T(this,Zr,[]);T(this,Fs,[]);let o=1/0,l=-1/0,u=1/0,d=-1/0;const p=10**-4;for(const{x:C,y:k,width:L,height:M}of e){const I=Math.floor((C-t)/p)*p,j=Math.ceil((C+L+t)/p)*p,z=Math.floor((k-t)/p)*p,U=Math.ceil((k+M+t)/p)*p,W=[I,z,U,!0],K=[j,z,U,!1];h(this,Zr).push(W,K),o=Math.min(o,I),l=Math.max(l,j),u=Math.min(u,z),d=Math.max(d,U)}const g=l-o+2*n,y=d-u+2*n,v=o-n,S=u-n,A=h(this,Zr).at(r?-1:-2),E=[A[0],A[2]];for(const C of h(this,Zr)){const[k,L,M]=C;C[0]=(k-v)/g,C[1]=(L-S)/y,C[2]=(M-S)/y}b(this,Yh,{x:v,y:S,width:g,height:y,lastPoint:E})}getOutlines(){h(this,Zr).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of h(this,Zr))t[3]?(e.push(...x(this,Sn,wv).call(this,t)),x(this,Sn,I_).call(this,t)):(x(this,Sn,F_).call(this,t),e.push(...x(this,Sn,wv).call(this,t)));return x(this,Sn,N_).call(this,e)}}Yh=new WeakMap,Zr=new WeakMap,Fs=new WeakMap,Sn=new WeakSet,N_=function(e){const t=[],n=new Set;for(const l of e){const[u,d,p]=l;t.push([u,d,l],[u,p,l])}t.sort((l,u)=>l[1]-u[1]||l[0]-u[0]);for(let l=0,u=t.length;l<u;l+=2){const d=t[l][2],p=t[l+1][2];d.push(p),p.push(d),n.add(d),n.add(p)}const r=[];let o;for(;n.size>0;){const l=n.values().next().value;let[u,d,p,g,y]=l;n.delete(l);let v=u,S=d;for(o=[u,p],r.push(o);;){let A;if(n.has(g))A=g;else if(n.has(y))A=y;else break;n.delete(A),[u,d,p,g,y]=A,v!==u&&(o.push(v,S,u,S===d?d:p),v=u),S=S===d?p:d}o.push(v,S)}return new fM(r,h(this,Yh))},ap=function(e){const t=h(this,Fs);let n=0,r=t.length-1;for(;n<=r;){const o=n+r>>1,l=t[o][0];if(l===e)return o;l<e?n=o+1:r=o-1}return r+1},I_=function([,e,t]){const n=x(this,Sn,ap).call(this,e);h(this,Fs).splice(n,0,[e,t])},F_=function([,e,t]){const n=x(this,Sn,ap).call(this,e);for(let r=n;r<h(this,Fs).length;r++){const[o,l]=h(this,Fs)[r];if(o!==e)break;if(o===e&&l===t){h(this,Fs).splice(r,1);return}}for(let r=n-1;r>=0;r--){const[o,l]=h(this,Fs)[r];if(o!==e)break;if(o===e&&l===t){h(this,Fs).splice(r,1);return}}},wv=function(e){const[t,n,r]=e,o=[[t,n,r]],l=x(this,Sn,ap).call(this,r);for(let u=0;u<l;u++){const[d,p]=h(this,Fs)[u];for(let g=0,y=o.length;g<y;g++){const[,v,S]=o[g];if(!(p<=v||S<=d)){if(v>=d){if(S>p)o[g][1]=p;else{if(y===1)return[];o.splice(g,1),g--,y--}continue}o[g][2]=d,S>p&&o.push([t,p,S])}}}return o};var Qh,fc;class fM extends __{constructor(t,n){super();T(this,Qh);T(this,fc);b(this,fc,t),b(this,Qh,n)}toSVGPath(){const t=[];for(const n of h(this,fc)){let[r,o]=n;t.push(`M${r} ${o}`);for(let l=2;l<n.length;l+=2){const u=n[l],d=n[l+1];u===r?(t.push(`V${d}`),o=d):d===o&&(t.push(`H${u}`),r=u)}t.push("Z")}return t.join(" ")}serialize([t,n,r,o],l){const u=[],d=r-t,p=o-n;for(const g of h(this,fc)){const y=new Array(g.length);for(let v=0;v<g.length;v+=2)y[v]=t+g[v]*d,y[v+1]=o-g[v+1]*p;u.push(y)}return u}get box(){return h(this,Qh)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Qh=new WeakMap,fc=new WeakMap;class Av extends bp{newFreeDrawOutline(e,t,n,r,o,l){return new pM(e,t,n,r,o,l)}get classNamesForDrawing(){return["highlight","free"]}}class pM extends L_{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,n,r,o,l=0){return new Av(e,t,n,r,o,l)}}var Ds,ba,pc,Nt,Jh,gc,Zh,ed,eo,Os,mc,td,Je,Sv,Ev,bv,Mo,D_,Mr;const Rn=class Rn{constructor({editor:e=null,uiManager:t=null}){T(this,Je);T(this,Ds,null);T(this,ba,null);T(this,pc);T(this,Nt,null);T(this,Jh,!1);T(this,gc,!1);T(this,Zh,null);T(this,ed);T(this,eo,null);T(this,Os,null);T(this,mc);var n;e?(b(this,gc,!1),b(this,mc,ke.HIGHLIGHT_COLOR),b(this,Zh,e)):(b(this,gc,!0),b(this,mc,ke.HIGHLIGHT_DEFAULT_COLOR)),b(this,Os,(e==null?void 0:e._uiManager)||t),b(this,ed,h(this,Os)._eventBus),b(this,pc,(e==null?void 0:e.color)||((n=h(this,Os))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),h(Rn,td)||b(Rn,td,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Be(this,"_keyboardManager",new pd([[["Escape","mac+Escape"],Rn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Rn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Rn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Rn.prototype._moveToPrevious],[["Home","mac+Home"],Rn.prototype._moveToBeginning],[["End","mac+End"],Rn.prototype._moveToEnd]]))}renderButton(){const e=b(this,Ds,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=h(this,Os)._signal;e.addEventListener("click",x(this,Je,Mo).bind(this),{signal:t}),e.addEventListener("keydown",x(this,Je,bv).bind(this),{signal:t});const n=b(this,ba,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=h(this,pc),e.append(n),e}renderMainDropdown(){const e=b(this,Nt,x(this,Je,Sv).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===h(this,Ds)){x(this,Je,Mo).call(this,e);return}const t=e.target.getAttribute("data-color");t&&x(this,Je,Ev).call(this,t,e)}_moveToNext(e){var t,n;if(!h(this,Je,Mr)){x(this,Je,Mo).call(this,e);return}if(e.target===h(this,Ds)){(t=h(this,Nt).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=h(this,Nt))==null?void 0:t.firstChild)||e.target===h(this,Ds)){h(this,Je,Mr)&&this._hideDropdownFromKeyboard();return}h(this,Je,Mr)||x(this,Je,Mo).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!h(this,Je,Mr)){x(this,Je,Mo).call(this,e);return}(t=h(this,Nt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!h(this,Je,Mr)){x(this,Je,Mo).call(this,e);return}(t=h(this,Nt).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=h(this,Nt))==null||e.classList.add("hidden"),(t=h(this,eo))==null||t.abort(),b(this,eo,null)}_hideDropdownFromKeyboard(){var e;if(!h(this,gc)){if(!h(this,Je,Mr)){(e=h(this,Zh))==null||e.unselect();return}this.hideDropdown(),h(this,Ds).focus({preventScroll:!0,focusVisible:h(this,Jh)})}}updateColor(e){if(h(this,ba)&&(h(this,ba).style.backgroundColor=e),!h(this,Nt))return;const t=h(this,Os).highlightColors.values();for(const n of h(this,Nt).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=h(this,Ds))==null||e.remove(),b(this,Ds,null),b(this,ba,null),(t=h(this,Nt))==null||t.remove(),b(this,Nt,null)}};Ds=new WeakMap,ba=new WeakMap,pc=new WeakMap,Nt=new WeakMap,Jh=new WeakMap,gc=new WeakMap,Zh=new WeakMap,ed=new WeakMap,eo=new WeakMap,Os=new WeakMap,mc=new WeakMap,td=new WeakMap,Je=new WeakSet,Sv=function(){const e=document.createElement("div"),t=h(this,Os)._signal;e.addEventListener("contextmenu",gs,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,r]of h(this,Os).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=n,o.setAttribute("data-l10n-id",h(Rn,td)[n]);const l=document.createElement("span");o.append(l),l.className="swatch",l.style.backgroundColor=r,o.setAttribute("aria-selected",r===h(this,pc)),o.addEventListener("click",x(this,Je,Ev).bind(this,r),{signal:t}),e.append(o)}return e.addEventListener("keydown",x(this,Je,bv).bind(this),{signal:t}),e},Ev=function(e,t){t.stopPropagation(),h(this,ed).dispatch("switchannotationeditorparams",{source:this,type:h(this,mc),value:e})},bv=function(e){Rn._keyboardManager.exec(this,e)},Mo=function(e){if(h(this,Je,Mr)){this.hideDropdown();return}if(b(this,Jh,e.detail===0),h(this,eo)||(b(this,eo,new AbortController),window.addEventListener("pointerdown",x(this,Je,D_).bind(this),{signal:h(this,Os).combinedSignal(h(this,eo))})),h(this,Nt)){h(this,Nt).classList.remove("hidden");return}const t=b(this,Nt,x(this,Je,Sv).call(this));h(this,Ds).append(t)},D_=function(e){var t;(t=h(this,Nt))!=null&&t.contains(e.target)||this.hideDropdown()},Mr=function(){return h(this,Nt)&&!h(this,Nt).classList.contains("hidden")},T(Rn,td,null);let _p=Rn;var yc,nd,qi,_a,vc,cs,sd,id,xa,js,ln,Mn,wc,Xi,It,Ac,us,rd,Le,_v,lp,O_,j_,H_,xv,No,fs,El,z_,cp,Ou,B_,U_,$_,V_,W_;const Ge=class Ge extends Qe{constructor(t){super({...t,name:"highlightEditor"});T(this,Le);T(this,yc,null);T(this,nd,0);T(this,qi);T(this,_a,null);T(this,vc,null);T(this,cs,null);T(this,sd,null);T(this,id,0);T(this,xa,null);T(this,js,null);T(this,ln,null);T(this,Mn,!1);T(this,wc,null);T(this,Xi);T(this,It,null);T(this,Ac,"");T(this,us);T(this,rd,"");this.color=t.color||Ge._defaultColor,b(this,us,t.thickness||Ge._defaultThickness),b(this,Xi,t.opacity||Ge._defaultOpacity),b(this,qi,t.boxes||null),b(this,rd,t.methodOfCreation||""),b(this,Ac,t.text||""),this._isDraggable=!1,t.highlightId>-1?(b(this,Mn,!0),x(this,Le,lp).call(this,t),x(this,Le,No).call(this)):h(this,qi)&&(b(this,yc,t.anchorNode),b(this,nd,t.anchorOffset),b(this,sd,t.focusNode),b(this,id,t.focusOffset),x(this,Le,_v).call(this),x(this,Le,No).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Ge.prototype;return Be(this,"_keyboardManager",new pd([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:h(this,Mn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:h(this,us),methodOfCreation:h(this,rd)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var r;Qe.initialize(t,n),Ge._defaultColor||(Ge._defaultColor=((r=n.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case ke.HIGHLIGHT_DEFAULT_COLOR:Ge._defaultColor=n;break;case ke.HIGHLIGHT_THICKNESS:Ge._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return h(this,wc)}updateParams(t,n){switch(t){case ke.HIGHLIGHT_COLOR:x(this,Le,O_).call(this,n);break;case ke.HIGHLIGHT_THICKNESS:x(this,Le,j_).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[ke.HIGHLIGHT_DEFAULT_COLOR,Ge._defaultColor],[ke.HIGHLIGHT_THICKNESS,Ge._defaultThickness]]}get propertiesToUpdate(){return[[ke.HIGHLIGHT_COLOR,this.color||Ge._defaultColor],[ke.HIGHLIGHT_THICKNESS,h(this,us)||Ge._defaultThickness],[ke.HIGHLIGHT_FREE,h(this,Mn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(b(this,vc,new _p({editor:this})),t.addColorPicker(h(this,vc))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(x(this,Le,Ou).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,x(this,Le,Ou).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){x(this,Le,xv).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(x(this,Le,No).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let n=!1;this.parent&&!t?x(this,Le,xv).call(this):t&&(x(this,Le,No).call(this,t),n=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var o,l,u;const{drawLayer:n}=this.parent;let r;h(this,Mn)?(t=(t-this.rotation+360)%360,r=x(o=Ge,fs,El).call(o,h(this,js).box,t)):r=x(l=Ge,fs,El).call(l,this,t),n.rotate(h(this,ln),t),n.rotate(h(this,It),t),n.updateBox(h(this,ln),r),n.updateBox(h(this,It),x(u=Ge,fs,El).call(u,h(this,cs).box,t))}render(){if(this.div)return this.div;const t=super.render();h(this,Ac)&&(t.setAttribute("aria-label",h(this,Ac)),t.setAttribute("role","mark")),h(this,Mn)?t.classList.add("free"):this.div.addEventListener("keydown",x(this,Le,z_).bind(this),{signal:this._uiManager._signal});const n=b(this,xa,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=h(this,_a);const[r,o]=this.parentDimensions;return this.setDims(this.width*r,this.height*o),Sp(this,h(this,xa),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(h(this,It),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(h(this,It),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:x(this,Le,cp).call(this,!0);break;case 1:case 3:x(this,Le,cp).call(this,!1);break}}select(){var t,n;super.select(),h(this,It)&&((t=this.parent)==null||t.drawLayer.removeClass(h(this,It),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(h(this,It),"selected"))}unselect(){var t;super.unselect(),h(this,It)&&((t=this.parent)==null||t.drawLayer.removeClass(h(this,It),"selected"),h(this,Mn)||x(this,Le,cp).call(this,!1))}get _mustFixPosition(){return!h(this,Mn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(h(this,ln),t),this.parent.drawLayer.show(h(this,It),t))}static startHighlighting(t,n,{target:r,x:o,y:l}){const{x:u,y:d,width:p,height:g}=r.getBoundingClientRect(),y=new AbortController,v=t.combinedSignal(y),S=E=>{E.preventDefault(),E.stopPropagation()},A=E=>{y.abort(),x(this,fs,V_).call(this,t,E)};window.addEventListener("blur",A,{signal:v}),window.addEventListener("pointerup",A,{signal:v}),window.addEventListener("pointerdown",S,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",gs,{signal:v}),r.addEventListener("pointermove",x(this,fs,$_).bind(this,t),{signal:v}),this._freeHighlight=new Av({x:o,y:l},[u,d,p,g],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(t,n,r){var E,C,k,L;let o=null;if(t instanceof m_){const{data:{quadPoints:M,rect:I,rotation:j,id:z,color:U,opacity:W,popupRef:K},parent:{page:{pageNumber:te}}}=t;o=t={annotationType:Me.HIGHLIGHT,color:Array.from(U),opacity:W,quadPoints:M,boxes:null,pageIndex:te-1,rect:I.slice(0),rotation:j,id:z,deleted:!1,popupRef:K}}else if(t instanceof p0){const{data:{inkLists:M,rect:I,rotation:j,id:z,color:U,borderStyle:{rawWidth:W},popupRef:K},parent:{page:{pageNumber:te}}}=t;o=t={annotationType:Me.HIGHLIGHT,color:Array.from(U),thickness:W,inkLists:M,boxes:null,pageIndex:te-1,rect:I.slice(0),rotation:j,id:z,deleted:!1,popupRef:K}}const{color:l,quadPoints:u,inkLists:d,opacity:p}=t,g=await super.deserialize(t,n,r);g.color=ge.makeHexColor(...l),b(g,Xi,p||1),d&&b(g,us,t.thickness),g.annotationElementId=t.id||null,g._initialData=o;const[y,v]=g.pageDimensions,[S,A]=g.pageTranslation;if(u){const M=b(g,qi,[]);for(let I=0;I<u.length;I+=8)M.push({x:(u[I]-S)/y,y:1-(u[I+1]-A)/v,width:(u[I+2]-u[I])/y,height:(u[I+1]-u[I+5])/v});x(E=g,Le,_v).call(E),x(C=g,Le,No).call(C),g.rotate(g.rotation)}else if(d){b(g,Mn,!0);const M=d[0],I={x:M[0]-S,y:v-(M[1]-A)},j=new Av(I,[0,0,y,v],1,h(g,us)/2,!0,.001);for(let W=0,K=M.length;W<K;W+=2)I.x=M[W]-S,I.y=v-(M[W+1]-A),j.add(I);const{id:z,clipPathId:U}=n.drawLayer.draw(j,g.color,g._defaultOpacity,!0);x(k=g,Le,lp).call(k,{highlightOutlines:j.getOutlines(),highlightId:z,clipPathId:U}),x(L=g,Le,No).call(L)}return g}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),r=Qe._colorManager.convert(this.color),o={annotationType:Me.HIGHLIGHT,color:r,opacity:h(this,Xi),thickness:h(this,us),quadPoints:x(this,Le,B_).call(this),outlines:x(this,Le,U_).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:x(this,Le,Ou).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!x(this,Le,W_).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};yc=new WeakMap,nd=new WeakMap,qi=new WeakMap,_a=new WeakMap,vc=new WeakMap,cs=new WeakMap,sd=new WeakMap,id=new WeakMap,xa=new WeakMap,js=new WeakMap,ln=new WeakMap,Mn=new WeakMap,wc=new WeakMap,Xi=new WeakMap,It=new WeakMap,Ac=new WeakMap,us=new WeakMap,rd=new WeakMap,Le=new WeakSet,_v=function(){const t=new ZS(h(this,qi),.001);b(this,js,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=h(this,js).box;const n=new ZS(h(this,qi),.0025,.001,this._uiManager.direction==="ltr");b(this,cs,n.getOutlines());const{lastPoint:r}=h(this,cs).box;b(this,wc,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},lp=function({highlightOutlines:t,highlightId:n,clipPathId:r}){var y,v;if(b(this,js,t),b(this,cs,t.getNewOutline(h(this,us)/2+1.5,.0025)),n>=0)b(this,ln,n),b(this,_a,r),this.parent.drawLayer.finalizeLine(n,t),b(this,It,this.parent.drawLayer.drawOutline(h(this,cs)));else if(this.parent){const S=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(h(this,ln),t),this.parent.drawLayer.updateBox(h(this,ln),x(y=Ge,fs,El).call(y,h(this,js).box,(S-this.rotation+360)%360)),this.parent.drawLayer.updateLine(h(this,It),h(this,cs)),this.parent.drawLayer.updateBox(h(this,It),x(v=Ge,fs,El).call(v,h(this,cs).box,S))}const{x:l,y:u,width:d,height:p}=t.box;switch(this.rotation){case 0:this.x=l,this.y=u,this.width=d,this.height=p;break;case 90:{const[S,A]=this.parentDimensions;this.x=u,this.y=1-l,this.width=d*A/S,this.height=p*S/A;break}case 180:this.x=1-l,this.y=1-u,this.width=d,this.height=p;break;case 270:{const[S,A]=this.parentDimensions;this.x=1-u,this.y=l,this.width=d*A/S,this.height=p*S/A;break}}const{lastPoint:g}=h(this,cs).box;b(this,wc,[(g[0]-l)/d,(g[1]-u)/p])},O_=function(t){const n=(l,u)=>{var d,p,g;this.color=l,(d=this.parent)==null||d.drawLayer.changeColor(h(this,ln),l),(p=h(this,vc))==null||p.updateColor(l),b(this,Xi,u),(g=this.parent)==null||g.drawLayer.changeOpacity(h(this,ln),u)},r=this.color,o=h(this,Xi);this.addCommands({cmd:n.bind(this,t,Ge._defaultOpacity),undo:n.bind(this,r,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ke.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},j_=function(t){const n=h(this,us),r=o=>{b(this,us,o),x(this,Le,H_).call(this,o)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ke.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},H_=function(t){if(!h(this,Mn))return;x(this,Le,lp).call(this,{highlightOutlines:h(this,js).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)},xv=function(){h(this,ln)===null||!this.parent||(this.parent.drawLayer.remove(h(this,ln)),b(this,ln,null),this.parent.drawLayer.remove(h(this,It)),b(this,It,null))},No=function(t=this.parent){h(this,ln)===null&&({id:gn(this,ln)._,clipPathId:gn(this,_a)._}=t.drawLayer.draw(h(this,js),this.color,h(this,Xi)),b(this,It,t.drawLayer.drawOutline(h(this,cs))),h(this,xa)&&(h(this,xa).style.clipPath=h(this,_a)))},fs=new WeakSet,El=function({x:t,y:n,width:r,height:o},l){switch(l){case 90:return{x:1-n-o,y:t,width:o,height:r};case 180:return{x:1-t-r,y:1-n-o,width:r,height:o};case 270:return{x:n,y:1-t-r,width:o,height:r}}return{x:t,y:n,width:r,height:o}},z_=function(t){Ge._keyboardManager.exec(this,t)},cp=function(t){if(!h(this,yc))return;const n=window.getSelection();t?n.setPosition(h(this,yc),h(this,nd)):n.setPosition(h(this,sd),h(this,id))},Ou=function(){return h(this,Mn)?this.rotation:0},B_=function(){if(h(this,Mn))return null;const[t,n]=this.pageDimensions,[r,o]=this.pageTranslation,l=h(this,qi),u=new Float32Array(l.length*8);let d=0;for(const{x:p,y:g,width:y,height:v}of l){const S=p*t+r,A=(1-g-v)*n+o;u[d]=u[d+4]=S,u[d+1]=u[d+3]=A,u[d+2]=u[d+6]=S+y*t,u[d+5]=u[d+7]=A+v*n,d+=8}return u},U_=function(t){return h(this,js).serialize(t,x(this,Le,Ou).call(this))},$_=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},V_=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},W_=function(t){const{color:n}=this._initialData;return t.color.some((r,o)=>r!==n[o])},T(Ge,fs),Ce(Ge,"_defaultColor",null),Ce(Ge,"_defaultOpacity",1),Ce(Ge,"_defaultThickness",12),Ce(Ge,"_type","highlight"),Ce(Ge,"_editorType",Me.HIGHLIGHT),Ce(Ge,"_freeHighlightId",-1),Ce(Ge,"_freeHighlight",null),Ce(Ge,"_freeHighlightClipId","");let xp=Ge;var Ca,ka,ui,Ki,hs,Ta,Ra,Pa,Yi,Sc,La,Ma,to,ne,G_,q_,X_,K_,kv,Y_,Tv,Q_,J_,Z_,ex,tx,Io,Rv,Pv,Lv,up,hp,bl,Mv,dp,lr,nx,Nv,sx,ix,Iv,fp,ju;const ht=class ht extends Qe{constructor(t){super({...t,name:"inkEditor"});T(this,ne);T(this,Ca,0);T(this,ka,0);T(this,ui,null);T(this,Ki,new Path2D);T(this,hs,!1);T(this,Ta,null);T(this,Ra,!1);T(this,Pa,!1);T(this,Yi,null);T(this,Sc,null);T(this,La,0);T(this,Ma,0);T(this,to,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,n){Qe.initialize(t,n)}static updateDefaultParams(t,n){switch(t){case ke.INK_THICKNESS:ht._defaultThickness=n;break;case ke.INK_COLOR:ht._defaultColor=n;break;case ke.INK_OPACITY:ht._defaultOpacity=n/100;break}}updateParams(t,n){switch(t){case ke.INK_THICKNESS:x(this,ne,G_).call(this,n);break;case ke.INK_COLOR:x(this,ne,q_).call(this,n);break;case ke.INK_OPACITY:x(this,ne,X_).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[ke.INK_THICKNESS,ht._defaultThickness],[ke.INK_COLOR,ht._defaultColor||Qe._defaultLineColor],[ke.INK_OPACITY,Math.round(ht._defaultOpacity*100)]]}get propertiesToUpdate(){return[[ke.INK_THICKNESS,this.thickness||ht._defaultThickness],[ke.INK_COLOR,this.color||ht._defaultColor||Qe._defaultLineColor],[ke.INK_OPACITY,Math.round(100*(this.opacity??ht._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(x(this,ne,up).call(this),x(this,ne,hp).call(this)),this.isAttachedToDOM||(this.parent.add(this),x(this,ne,bl).call(this)),x(this,ne,ju).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,h(this,ui)&&(clearTimeout(h(this,ui)),b(this,ui,null)),(t=h(this,Yi))==null||t.disconnect(),b(this,Yi,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,n]=this.parentDimensions,r=this.width*t,o=this.height*n;this.setDimensions(r,o)}enableEditMode(){h(this,hs)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,x(this,ne,Rv).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),x(this,ne,Pv).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){h(this,hs)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),b(this,hs,!0),this.div.classList.add("disabled"),x(this,ne,ju).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||h(this,hs)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),x(this,ne,Y_).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),x(this,ne,Tv).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),x(this,ne,Lv).call(this,t)}canvasPointerleave(t){x(this,ne,Lv).call(this,t)}get isResizable(){return!this.isEmpty()&&h(this,hs)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,o,l,u]=x(this,ne,K_).call(this);if(this.setAt(r,o,0,0),this.setDims(l,u),x(this,ne,up).call(this),this.width){const[d,p]=this.parentDimensions;this.setAspectRatio(this.width*d,this.height*p),this.setAt(t*d,n*p,this.width*d,this.height*p),b(this,Pa,!0),x(this,ne,bl).call(this),this.setDims(this.width*d,this.height*p),x(this,ne,Io).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return x(this,ne,hp).call(this),this.div}setDimensions(t,n){const r=Math.round(t),o=Math.round(n);if(h(this,La)===r&&h(this,Ma)===o)return;b(this,La,r),b(this,Ma,o),this.canvas.style.visibility="hidden";const[l,u]=this.parentDimensions;this.width=t/l,this.height=n/u,this.fixAndSetPosition(),h(this,hs)&&x(this,ne,Mv).call(this,t,n),x(this,ne,bl).call(this),x(this,ne,Io).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(t,n,r){var C,k,L;if(t instanceof p0)return null;const o=await super.deserialize(t,n,r);o.thickness=t.thickness,o.color=ge.makeHexColor(...t.color),o.opacity=t.opacity;const[l,u]=o.pageDimensions,d=o.width*l,p=o.height*u,g=o.parentScale,y=t.thickness/2;b(o,hs,!0),b(o,La,Math.round(d)),b(o,Ma,Math.round(p));const{paths:v,rect:S,rotation:A}=t;for(let{bezier:M}of v){M=x(C=ht,lr,sx).call(C,M,S,A);const I=[];o.paths.push(I);let j=g*(M[0]-y),z=g*(M[1]-y);for(let W=2,K=M.length;W<K;W+=6){const te=g*(M[W]-y),se=g*(M[W+1]-y),_e=g*(M[W+2]-y),pe=g*(M[W+3]-y),de=g*(M[W+4]-y),Ae=g*(M[W+5]-y);I.push([[j,z],[te,se],[_e,pe],[de,Ae]]),j=de,z=Ae}const U=x(this,lr,nx).call(this,I);o.bezierPath2D.push(U)}const E=x(k=o,ne,Iv).call(k);return b(o,ka,Math.max(Qe.MIN_SIZE,E[2]-E[0])),b(o,Ca,Math.max(Qe.MIN_SIZE,E[3]-E[1])),x(L=o,ne,Mv).call(L,d,p),o}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),n=Qe._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Me.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:x(this,ne,ix).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Ca=new WeakMap,ka=new WeakMap,ui=new WeakMap,Ki=new WeakMap,hs=new WeakMap,Ta=new WeakMap,Ra=new WeakMap,Pa=new WeakMap,Yi=new WeakMap,Sc=new WeakMap,La=new WeakMap,Ma=new WeakMap,to=new WeakMap,ne=new WeakSet,G_=function(t){const n=o=>{this.thickness=o,x(this,ne,ju).call(this)},r=this.thickness;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ke.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},q_=function(t){const n=o=>{this.color=o,x(this,ne,Io).call(this)},r=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ke.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},X_=function(t){const n=o=>{this.opacity=o,x(this,ne,Io).call(this)};t/=100;const r=this.opacity;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ke.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},K_=function(){const{parentRotation:t,parentDimensions:[n,r]}=this;switch(t){case 90:return[0,r,r,n];case 180:return[n,r,n,r];case 270:return[n,0,r,n];default:return[0,0,n,r]}},kv=function(){const{ctx:t,color:n,opacity:r,thickness:o,parentScale:l,scaleFactor:u}=this;t.lineWidth=o*l/u,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${n}${DP(r)}`},Y_=function(t,n){this.canvas.addEventListener("contextmenu",gs,{signal:this._uiManager._signal}),x(this,ne,Pv).call(this),b(this,Ta,new AbortController);const r=this._uiManager.combinedSignal(h(this,Ta));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,h(this,Pa)||(b(this,Pa,!0),x(this,ne,bl).call(this),this.thickness||(this.thickness=ht._defaultThickness),this.color||(this.color=ht._defaultColor||Qe._defaultLineColor),this.opacity??(this.opacity=ht._defaultOpacity)),this.currentPath.push([t,n]),b(this,Ra,!1),x(this,ne,kv).call(this),b(this,to,()=>{x(this,ne,Z_).call(this),h(this,to)&&window.requestAnimationFrame(h(this,to))}),window.requestAnimationFrame(h(this,to))},Tv=function(t,n){const[r,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===r&&n===o)return;const l=this.currentPath;let u=h(this,Ki);if(l.push([t,n]),b(this,Ra,!0),l.length<=2){u.moveTo(...l[0]),u.lineTo(t,n);return}l.length===3&&(b(this,Ki,u=new Path2D),u.moveTo(...l[0])),x(this,ne,ex).call(this,u,...l.at(-3),...l.at(-2),t,n)},Q_=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);h(this,Ki).lineTo(...t)},J_=function(t,n){b(this,to,null),t=Math.min(Math.max(t,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),x(this,ne,Tv).call(this,t,n),x(this,ne,Q_).call(this);let r;if(this.currentPath.length!==1)r=x(this,ne,tx).call(this);else{const p=[t,n];r=[[p,p.slice(),p.slice(),p]]}const o=h(this,Ki),l=this.currentPath;this.currentPath=[],b(this,Ki,new Path2D);const u=()=>{this.allRawPaths.push(l),this.paths.push(r),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},d=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(x(this,ne,up).call(this),x(this,ne,hp).call(this)),x(this,ne,ju).call(this))};this.addCommands({cmd:u,undo:d,mustExec:!0})},Z_=function(){if(!h(this,Ra))return;b(this,Ra,!1);const t=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),r=n.map(u=>u[0]),o=n.map(u=>u[1]);Math.min(...r)-t,Math.max(...r)+t,Math.min(...o)-t,Math.max(...o)+t;const{ctx:l}=this;l.save(),l.clearRect(0,0,this.canvas.width,this.canvas.height);for(const u of this.bezierPath2D)l.stroke(u);l.stroke(h(this,Ki)),l.restore()},ex=function(t,n,r,o,l,u,d){const p=(n+o)/2,g=(r+l)/2,y=(o+u)/2,v=(l+d)/2;t.bezierCurveTo(p+2*(o-p)/3,g+2*(l-g)/3,y+2*(o-y)/3,v+2*(l-v)/3,y,v)},tx=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const n=[];let r,[o,l]=t[0];for(r=1;r<t.length-2;r++){const[S,A]=t[r],[E,C]=t[r+1],k=(S+E)/2,L=(A+C)/2,M=[o+2*(S-o)/3,l+2*(A-l)/3],I=[k+2*(S-k)/3,L+2*(A-L)/3];n.push([[o,l],M,I,[k,L]]),[o,l]=[k,L]}const[u,d]=t[r],[p,g]=t[r+1],y=[o+2*(u-o)/3,l+2*(d-l)/3],v=[p+2*(u-p)/3,g+2*(d-g)/3];return n.push([[o,l],y,v,[p,g]]),n},Io=function(){if(this.isEmpty()){x(this,ne,dp).call(this);return}x(this,ne,kv).call(this);const{canvas:t,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.width,t.height),x(this,ne,dp).call(this);for(const r of this.bezierPath2D)n.stroke(r)},Rv=function(){if(h(this,Sc))return;b(this,Sc,new AbortController);const t=this._uiManager.combinedSignal(h(this,Sc));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})},Pv=function(){var t;(t=this.pointerdownAC)==null||t.abort(),this.pointerdownAC=null},Lv=function(t){var n;(n=h(this,Ta))==null||n.abort(),b(this,Ta,null),x(this,ne,Rv).call(this),h(this,ui)&&clearTimeout(h(this,ui)),b(this,ui,setTimeout(()=>{b(this,ui,null),this.canvas.removeEventListener("contextmenu",gs)},10)),x(this,ne,J_).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},up=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},hp=function(){b(this,Yi,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),h(this,Yi).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=h(this,Yi))==null||t.disconnect(),b(this,Yi,null)},{once:!0})},bl=function(){if(!h(this,Pa))return;const[t,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*n),x(this,ne,dp).call(this)},Mv=function(t,n){const r=x(this,ne,fp).call(this),o=(t-r)/h(this,ka),l=(n-r)/h(this,Ca);this.scaleFactor=Math.min(o,l)},dp=function(){const t=x(this,ne,fp).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},lr=new WeakSet,nx=function(t){const n=new Path2D;for(let r=0,o=t.length;r<o;r++){const[l,u,d,p]=t[r];r===0&&n.moveTo(...l),n.bezierCurveTo(u[0],u[1],d[0],d[1],p[0],p[1])}return n},Nv=function(t,n,r){const[o,l,u,d]=n;switch(r){case 0:for(let p=0,g=t.length;p<g;p+=2)t[p]+=o,t[p+1]=d-t[p+1];break;case 90:for(let p=0,g=t.length;p<g;p+=2){const y=t[p];t[p]=t[p+1]+o,t[p+1]=y+l}break;case 180:for(let p=0,g=t.length;p<g;p+=2)t[p]=u-t[p],t[p+1]+=l;break;case 270:for(let p=0,g=t.length;p<g;p+=2){const y=t[p];t[p]=u-t[p+1],t[p+1]=d-y}break;default:throw new Error("Invalid rotation")}return t},sx=function(t,n,r){const[o,l,u,d]=n;switch(r){case 0:for(let p=0,g=t.length;p<g;p+=2)t[p]-=o,t[p+1]=d-t[p+1];break;case 90:for(let p=0,g=t.length;p<g;p+=2){const y=t[p];t[p]=t[p+1]-l,t[p+1]=y-o}break;case 180:for(let p=0,g=t.length;p<g;p+=2)t[p]=u-t[p],t[p+1]-=l;break;case 270:for(let p=0,g=t.length;p<g;p+=2){const y=t[p];t[p]=d-t[p+1],t[p+1]=u-y}break;default:throw new Error("Invalid rotation")}return t},ix=function(t,n,r,o){var g,y;const l=[],u=this.thickness/2,d=t*n+u,p=t*r+u;for(const v of this.paths){const S=[],A=[];for(let E=0,C=v.length;E<C;E++){const[k,L,M,I]=v[E];if(k[0]===I[0]&&k[1]===I[1]&&C===1){const pe=t*k[0]+d,de=t*k[1]+p;S.push(pe,de),A.push(pe,de);break}const j=t*k[0]+d,z=t*k[1]+p,U=t*L[0]+d,W=t*L[1]+p,K=t*M[0]+d,te=t*M[1]+p,se=t*I[0]+d,_e=t*I[1]+p;E===0&&(S.push(j,z),A.push(j,z)),S.push(U,W,K,te,se,_e),A.push(U,W),E===C-1&&A.push(se,_e)}l.push({bezier:x(g=ht,lr,Nv).call(g,S,o,this.rotation),points:x(y=ht,lr,Nv).call(y,A,o,this.rotation)})}return l},Iv=function(){let t=1/0,n=-1/0,r=1/0,o=-1/0;for(const l of this.paths)for(const[u,d,p,g]of l){const y=ge.bezierBoundingBox(...u,...d,...p,...g);t=Math.min(t,y[0]),r=Math.min(r,y[1]),n=Math.max(n,y[2]),o=Math.max(o,y[3])}return[t,r,n,o]},fp=function(){return h(this,hs)?Math.ceil(this.thickness*this.parentScale):0},ju=function(t=!1){if(this.isEmpty())return;if(!h(this,hs)){x(this,ne,Io).call(this);return}const n=x(this,ne,Iv).call(this),r=x(this,ne,fp).call(this);b(this,ka,Math.max(Qe.MIN_SIZE,n[2]-n[0])),b(this,Ca,Math.max(Qe.MIN_SIZE,n[3]-n[1]));const o=Math.ceil(r+h(this,ka)*this.scaleFactor),l=Math.ceil(r+h(this,Ca)*this.scaleFactor),[u,d]=this.parentDimensions;this.width=o/u,this.height=l/d,this.setAspectRatio(o,l);const p=this.translationX,g=this.translationY;this.translationX=-n[0],this.translationY=-n[1],x(this,ne,bl).call(this),x(this,ne,Io).call(this),b(this,La,o),b(this,Ma,l),this.setDims(o,l);const y=t?r/this.scaleFactor/2:0;this.translate(p-this.translationX-y,g-this.translationY-y)},T(ht,lr),Ce(ht,"_defaultColor",null),Ce(ht,"_defaultOpacity",1),Ce(ht,"_defaultThickness",1),Ce(ht,"_type","ink"),Ce(ht,"_editorType",Me.INK);let Cv=ht;var ft,Qt,no,Qi,so,Ec,hi,Ji,di,Xn,bc,ze,Hu,zu,pp,Dv,rx,gp,Ov,mp,ox,ax;const $u=class $u extends Qe{constructor(t){super({...t,name:"stampEditor"});T(this,ze);T(this,ft,null);T(this,Qt,null);T(this,no,null);T(this,Qi,null);T(this,so,null);T(this,Ec,"");T(this,hi,null);T(this,Ji,null);T(this,di,null);T(this,Xn,!1);T(this,bc,!1);b(this,Qi,t.bitmapUrl),b(this,so,t.bitmapFile)}static initialize(t,n){Qe.initialize(t,n)}static get supportedTypes(){return Be(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return Be(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,n){n.pasteEditor(Me.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:l,height:u}=t||this.copyCanvas(null,null,!0).imageData,d=await r.guess({name:"altText",request:{data:o,width:l,height:u,channels:o.length/(l*u)}});if(!d)throw new Error("No response from the AI service.");if(d.error)throw new Error("Error from the AI service.");if(d.cancel)return null;if(!d.output)throw new Error("No valid response from the AI service.");const p=d.output;return await this.setGuessedAltText(p),n&&!this.hasAltTextData()&&(this.altTextData={alt:p,decorative:!1}),p}remove(){var t,n;h(this,Qt)&&(b(this,ft,null),this._uiManager.imageManager.deleteId(h(this,Qt)),(t=h(this,hi))==null||t.remove(),b(this,hi,null),(n=h(this,Ji))==null||n.disconnect(),b(this,Ji,null),h(this,di)&&(clearTimeout(h(this,di)),b(this,di,null))),super.remove()}rebuild(){if(!this.parent){h(this,Qt)&&x(this,ze,pp).call(this);return}super.rebuild(),this.div!==null&&(h(this,Qt)&&h(this,hi)===null&&x(this,ze,pp).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(h(this,no)||h(this,ft)||h(this,Qi)||h(this,so)||h(this,Qt))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;if(this.width&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),h(this,ft)?x(this,ze,Dv).call(this):x(this,ze,pp).call(this),this.width&&!this.annotationElementId){const[r,o]=this.parentDimensions;this.setAt(t*r,n*o,this.width*r,this.height*o)}return this.div}copyCanvas(t,n,r=!1){var S;t||(t=224);const{width:o,height:l}=h(this,ft),u=new Ly;let d=h(this,ft),p=o,g=l,y=null;if(n){if(o>n||l>n){const W=Math.min(n/o,n/l);p=Math.floor(o*W),g=Math.floor(l*W)}y=document.createElement("canvas");const A=y.width=Math.ceil(p*u.sx),E=y.height=Math.ceil(g*u.sy);h(this,Xn)||(d=x(this,ze,gp).call(this,A,E));const C=y.getContext("2d");C.filter=this._uiManager.hcmFilter;let k="white",L="#cfcfd8";this._uiManager.hcmFilter!=="none"?L="black":(S=window.matchMedia)!=null&&S.call(window,"(prefers-color-scheme: dark)").matches&&(k="#8f8f9d",L="#42414d");const M=15,I=M*u.sx,j=M*u.sy,z=new OffscreenCanvas(I*2,j*2),U=z.getContext("2d");U.fillStyle=k,U.fillRect(0,0,I*2,j*2),U.fillStyle=L,U.fillRect(0,0,I,j),U.fillRect(I,j,I,j),C.fillStyle=C.createPattern(z,"repeat"),C.fillRect(0,0,A,E),C.drawImage(d,0,0,d.width,d.height,0,0,A,E)}let v=null;if(r){let A,E;if(u.symmetric&&d.width<t&&d.height<t)A=d.width,E=d.height;else if(d=h(this,ft),o>t||l>t){const L=Math.min(t/o,t/l);A=Math.floor(o*L),E=Math.floor(l*L),h(this,Xn)||(d=x(this,ze,gp).call(this,A,E))}const k=new OffscreenCanvas(A,E).getContext("2d",{willReadFrequently:!0});k.drawImage(d,0,0,d.width,d.height,0,0,A,E),v={width:A,height:E,data:k.getImageData(0,0,A,E).data}}return{canvas:y,width:p,height:g,imageData:v}}getImageForAltText(){return h(this,hi)}static async deserialize(t,n,r){var E;let o=null;if(t instanceof y_){const{data:{rect:C,rotation:k,id:L,structParent:M,popupRef:I},container:j,parent:{page:{pageNumber:z}}}=t,U=j.querySelector("canvas"),W=r.imageManager.getFromCanvas(j.id,U);U.remove();const K=((E=await n._structTree.getAriaAttributes(`${s0}${L}`))==null?void 0:E.get("aria-label"))||"";o=t={annotationType:Me.STAMP,bitmapId:W.id,bitmap:W.bitmap,pageIndex:z-1,rect:C.slice(0),rotation:k,id:L,deleted:!1,accessibilityData:{decorative:!1,altText:K},isSvg:!1,structParent:M,popupRef:I}}const l=await super.deserialize(t,n,r),{rect:u,bitmap:d,bitmapUrl:p,bitmapId:g,isSvg:y,accessibilityData:v}=t;g&&r.imageManager.isValidId(g)?(b(l,Qt,g),d&&b(l,ft,d)):b(l,Qi,p),b(l,Xn,y);const[S,A]=l.pageDimensions;return l.width=(u[2]-u[0])/S,l.height=(u[3]-u[1])/A,l.annotationElementId=t.id||null,v&&(l.altTextData=v),l._initialData=o,b(l,bc,!!o),l}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Me.STAMP,bitmapId:h(this,Qt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:h(this,Xn),structTreeParentId:this._structTreeParentId};if(t)return r.bitmapUrl=x(this,ze,mp).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:o,altText:l}=this.serializeAltText(!1);if(!o&&l&&(r.accessibilityData={type:"Figure",alt:l}),this.annotationElementId){const d=x(this,ze,ax).call(this,r);if(d.isSame)return null;d.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,n===null)return r;n.stamps||(n.stamps=new Map);const u=h(this,Xn)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(h(this,Qt)))n.stamps.set(h(this,Qt),{area:u,serialized:r}),r.bitmap=x(this,ze,mp).call(this,!1);else if(h(this,Xn)){const d=n.stamps.get(h(this,Qt));u>d.area&&(d.area=u,d.serialized.bitmap.close(),d.serialized.bitmap=x(this,ze,mp).call(this,!1))}return r}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};ft=new WeakMap,Qt=new WeakMap,no=new WeakMap,Qi=new WeakMap,so=new WeakMap,Ec=new WeakMap,hi=new WeakMap,Ji=new WeakMap,di=new WeakMap,Xn=new WeakMap,bc=new WeakMap,ze=new WeakSet,Hu=function(t,n=!1){if(!t){this.remove();return}b(this,ft,t.bitmap),n||(b(this,Qt,t.id),b(this,Xn,t.isSvg)),t.file&&b(this,Ec,t.file.name),x(this,ze,Dv).call(this)},zu=function(){if(b(this,no,null),this._uiManager.enableWaiting(!1),!!h(this,hi)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,ft)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,ft)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},pp=function(){if(h(this,Qt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(h(this,Qt)).then(r=>x(this,ze,Hu).call(this,r,!0)).finally(()=>x(this,ze,zu).call(this));return}if(h(this,Qi)){const r=h(this,Qi);b(this,Qi,null),this._uiManager.enableWaiting(!0),b(this,no,this._uiManager.imageManager.getFromUrl(r).then(o=>x(this,ze,Hu).call(this,o)).finally(()=>x(this,ze,zu).call(this)));return}if(h(this,so)){const r=h(this,so);b(this,so,null),this._uiManager.enableWaiting(!0),b(this,no,this._uiManager.imageManager.getFromFile(r).then(o=>x(this,ze,Hu).call(this,o)).finally(()=>x(this,ze,zu).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=$u.supportedTypesStr;const n=this._uiManager._signal;b(this,no,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),x(this,ze,Hu).call(this,o)}r()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>x(this,ze,zu).call(this))),t.click()},Dv=function(){const{div:t}=this;let{width:n,height:r}=h(this,ft);const[o,l]=this.pageDimensions,u=.75;if(this.width)n=this.width*o,r=this.height*l;else if(n>u*o||r>u*l){const y=Math.min(u*o/n,u*l/r);n*=y,r*=y}const[d,p]=this.parentDimensions;this.setDims(n*d/o,r*p/l),this._uiManager.enableWaiting(!1);const g=b(this,hi,document.createElement("canvas"));g.setAttribute("role","img"),this.addContainer(g),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),x(this,ze,Ov).call(this,n,r),x(this,ze,ox).call(this),h(this,bc)||(this.parent.addUndoableEditor(this),b(this,bc,!0)),this._reportTelemetry({action:"inserted_image"}),h(this,Ec)&&g.setAttribute("aria-label",h(this,Ec))},rx=function(t,n){var u;const[r,o]=this.parentDimensions;this.width=t/r,this.height=n/o,(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,h(this,di)!==null&&clearTimeout(h(this,di)),b(this,di,setTimeout(()=>{b(this,di,null),x(this,ze,Ov).call(this,t,n)},200))},gp=function(t,n){const{width:r,height:o}=h(this,ft);let l=r,u=o,d=h(this,ft);for(;l>2*t||u>2*n;){const p=l,g=u;l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2)),u>2*n&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2));const y=new OffscreenCanvas(l,u);y.getContext("2d").drawImage(d,0,0,p,g,0,0,l,u),d=y.transferToImageBitmap()}return d},Ov=function(t,n){const r=new Ly,o=Math.ceil(t*r.sx),l=Math.ceil(n*r.sy),u=h(this,hi);if(!u||u.width===o&&u.height===l)return;u.width=o,u.height=l;const d=h(this,Xn)?h(this,ft):x(this,ze,gp).call(this,o,l),p=u.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(d,0,0,d.width,d.height,0,0,o,l)},mp=function(t){if(t){if(h(this,Xn)){const o=this._uiManager.imageManager.getSvgUrl(h(this,Qt));if(o)return o}const n=document.createElement("canvas");return{width:n.width,height:n.height}=h(this,ft),n.getContext("2d").drawImage(h(this,ft),0,0),n.toDataURL()}if(h(this,Xn)){const[n,r]=this.pageDimensions,o=Math.round(this.width*n*lo.PDF_TO_CSS_UNITS),l=Math.round(this.height*r*lo.PDF_TO_CSS_UNITS),u=new OffscreenCanvas(o,l);return u.getContext("2d").drawImage(h(this,ft),0,0,h(this,ft).width,h(this,ft).height,0,0,o,l),u.transferToImageBitmap()}return structuredClone(h(this,ft))},ox=function(){this._uiManager._signal&&(b(this,Ji,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&x(this,ze,rx).call(this,n.width,n.height)})),h(this,Ji).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=h(this,Ji))==null||t.disconnect(),b(this,Ji,null)},{once:!0}))},ax=function(t){var p;const{rect:n,pageIndex:r,accessibilityData:{altText:o}}=this._initialData,l=t.rect.every((g,y)=>Math.abs(g-n[y])<1),u=t.pageIndex===r,d=(((p=t.accessibilityData)==null?void 0:p.alt)||"")===o;return{isSame:l&&u&&d,isSameAltText:d}},Ce($u,"_type","stamp"),Ce($u,"_editorType",Me.STAMP);let Fv=$u;var Na,_c,fi,io,Zi,Kn,ro,xc,Cc,cn,er,we,oo,Jt,lx,Hv,zv,Bv,yp;const _s=class _s{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:r,accessibilityManager:o,annotationLayer:l,drawLayer:u,textLayer:d,viewport:p,l10n:g}){T(this,Jt);T(this,Na);T(this,_c,!1);T(this,fi,null);T(this,io,null);T(this,Zi,null);T(this,Kn,new Map);T(this,ro,!1);T(this,xc,!1);T(this,Cc,!1);T(this,cn,null);T(this,er,null);T(this,we);const y=[...h(_s,oo).values()];if(!_s._initialized){_s._initialized=!0;for(const v of y)v.initialize(g,e)}e.registerEditorTypes(y),b(this,we,e),this.pageIndex=t,this.div=n,b(this,Na,o),b(this,fi,l),this.viewport=p,b(this,cn,d),this.drawLayer=u,this._structTree=r,h(this,we).addLayer(this)}get isEmpty(){return h(this,Kn).size===0}get isInvisible(){return this.isEmpty&&h(this,we).getMode()===Me.NONE}updateToolbar(e){h(this,we).updateToolbar(e)}updateMode(e=h(this,we).getMode()){switch(x(this,Jt,yp).call(this),e){case Me.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Me.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Me.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of h(_s,oo).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=h(this,cn))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(h(this,we).getMode()!==Me.INK)return;if(!e){for(const n of h(this,Kn).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){h(this,we).setEditingState(e)}addCommands(e){h(this,we).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=h(this,fi))==null||t.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of h(this,Kn).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(h(this,we).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!h(this,fi))return;const t=h(this,fi).getEditableAnnotations();for(const n of t){if(n.hide(),h(this,we).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const r=await this.deserialize(n);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;b(this,Cc,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const o of h(this,Kn).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){e.set(o.annotationElementId,o);continue}else t.set(o.annotationElementId,o);(r=this.getEditableAnnotation(o.annotationElementId))==null||r.show(),o.remove()}if(h(this,fi)){const o=h(this,fi).getEditableAnnotations();for(const l of o){const{id:u}=l.data;if(h(this,we).isDeletedAnnotationElement(u))continue;let d=t.get(u);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=e.get(u),d&&(h(this,we).addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}x(this,Jt,yp).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const o of h(_s,oo).values())n.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),b(this,Cc,!1)}getEditableAnnotation(e){var t;return((t=h(this,fi))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){h(this,we).getActive()!==e&&h(this,we).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=h(this,cn))!=null&&e.div&&!h(this,er)){b(this,er,new AbortController);const t=h(this,we).combinedSignal(h(this,er));h(this,cn).div.addEventListener("pointerdown",x(this,Jt,lx).bind(this),{signal:t}),h(this,cn).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=h(this,cn))!=null&&e.div&&h(this,er)&&(h(this,er).abort(),b(this,er,null),h(this,cn).div.classList.remove("highlighting"))}enableClick(){if(h(this,io))return;b(this,io,new AbortController);const e=h(this,we).combinedSignal(h(this,io));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=h(this,io))==null||e.abort(),b(this,io,null)}attach(e){h(this,Kn).set(e.id,e);const{annotationElementId:t}=e;t&&h(this,we).isDeletedAnnotationElement(t)&&h(this,we).removeDeletedAnnotationElement(e)}detach(e){var t;h(this,Kn).delete(e.id),(t=h(this,Na))==null||t.removePointerInTextLayer(e.contentDiv),!h(this,Cc)&&e.annotationElementId&&h(this,we).addDeletedAnnotationElement(e)}remove(e){this.detach(e),h(this,we).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,h(this,xc)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(h(this,we).addDeletedAnnotationElement(e.annotationElementId),Qe.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),h(this,we).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),h(this,we).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!h(this,Zi)&&(e._focusEventsAllowed=!1,b(this,Zi,setTimeout(()=>{b(this,Zi,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:h(this,we)._signal}),t.focus())},0))),e._structTreeParentId=(n=h(this,Na))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return h(this,we).getId()}combinedSignal(e){return h(this,we).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=h(this,Jt,Hv))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){h(this,we).updateToolbar(e),h(this,we).updateMode(e);const{offsetX:n,offsetY:r}=x(this,Jt,Bv).call(this),o=this.getNextId(),l=x(this,Jt,zv).call(this,{parent:this,id:o,x:n,y:r,uiManager:h(this,we),isCentered:!0,...t});l&&this.add(l)}async deserialize(e){var t;return await((t=h(_s,oo).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,h(this,we)))||null}createAndAddNewEditor(e,t,n={}){const r=this.getNextId(),o=x(this,Jt,zv).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:h(this,we),isCentered:t,...n});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(x(this,Jt,Bv).call(this),!0)}setSelected(e){h(this,we).setSelected(e)}toggleSelected(e){h(this,we).toggleSelected(e)}unselect(e){h(this,we).unselect(e)}pointerup(e){const{isMac:t}=wn.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&h(this,ro)){if(b(this,ro,!1),!h(this,_c)){b(this,_c,!0);return}if(h(this,we).getMode()===Me.STAMP){h(this,we).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(h(this,we).getMode()===Me.HIGHLIGHT&&this.enableTextSelection(),h(this,ro)){b(this,ro,!1);return}const{isMac:t}=wn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;b(this,ro,!0);const n=h(this,we).getActive();b(this,_c,!n||n.isEmpty())}findNewParent(e,t,n){const r=h(this,we).findParent(t,n);return r===null||r===this?!1:(r.changeParent(e),!0)}destroy(){var e,t;((e=h(this,we).getActive())==null?void 0:e.parent)===this&&(h(this,we).commitOrRemove(),h(this,we).setActiveEditor(null)),h(this,Zi)&&(clearTimeout(h(this,Zi)),b(this,Zi,null));for(const n of h(this,Kn).values())(t=h(this,Na))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,h(this,Kn).clear(),h(this,we).removeLayer(this)}render({viewport:e}){this.viewport=e,Da(this.div,e);for(const t of h(this,we).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){h(this,we).commitOrRemove(),x(this,Jt,yp).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,Da(this.div,{rotation:n}),t!==n)for(const r of h(this,Kn).values())r.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return h(this,we).viewParameters.realScale}};Na=new WeakMap,_c=new WeakMap,fi=new WeakMap,io=new WeakMap,Zi=new WeakMap,Kn=new WeakMap,ro=new WeakMap,xc=new WeakMap,Cc=new WeakMap,cn=new WeakMap,er=new WeakMap,we=new WeakMap,oo=new WeakMap,Jt=new WeakSet,lx=function(e){h(this,we).unselectAll();const{target:t}=e;if(t===h(this,cn).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&h(this,cn).div.contains(t)){const{isMac:n}=wn.platform;if(e.button!==0||e.ctrlKey&&n)return;h(this,we).showAllEditors("highlight",!0,!0),h(this,cn).div.classList.add("free"),this.toggleDrawing(),xp.startHighlighting(this,h(this,we).direction==="ltr",{target:h(this,cn).div,x:e.x,y:e.y}),h(this,cn).div.addEventListener("pointerup",()=>{h(this,cn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:h(this,we)._signal}),e.preventDefault()}},Hv=function(){return h(_s,oo).get(h(this,we).getMode())},zv=function(e){const t=h(this,Jt,Hv);return t?new t.prototype.constructor(e):null},Bv=function(){const{x:e,y:t,width:n,height:r}=this.div.getBoundingClientRect(),o=Math.max(0,e),l=Math.max(0,t),u=Math.min(window.innerWidth,e+n),d=Math.min(window.innerHeight,t+r),p=(o+u)/2-e,g=(l+d)/2-t,[y,v]=this.viewport.rotation%180===0?[p,g]:[g,p];return{offsetX:y,offsetY:v}},yp=function(){b(this,xc,!0);for(const e of h(this,Kn).values())e.isEmpty()&&e.remove();b(this,xc,!1)},Ce(_s,"_initialized",!1),T(_s,oo,new Map([yv,Cv,Fv,xp].map(e=>[e._editorType,e])));let jv=_s;var pi,od,Ct,tr,ad,$v,Ba,Vv,cx;const Xt=class Xt{constructor({pageIndex:e}){T(this,Ba);T(this,pi,null);T(this,od,0);T(this,Ct,new Map);T(this,tr,new Map);this.pageIndex=e}setParent(e){if(!h(this,pi)){b(this,pi,e);return}if(h(this,pi)!==e){if(h(this,Ct).size>0)for(const t of h(this,Ct).values())t.remove(),e.append(t);b(this,pi,e)}}static get _svgFactory(){return Be(this,"_svgFactory",new f0)}draw(e,t,n,r=!1){const o=gn(this,od)._++,l=x(this,Ba,Vv).call(this,e.box);l.classList.add(...e.classNamesForDrawing);const u=Xt._svgFactory.createElement("defs");l.append(u);const d=Xt._svgFactory.createElement("path");u.append(d);const p=`path_p${this.pageIndex}_${o}`;d.setAttribute("id",p),d.setAttribute("d",e.toSVGPath()),r&&h(this,tr).set(o,d);const g=x(this,Ba,cx).call(this,u,p),y=Xt._svgFactory.createElement("use");return l.append(y),l.setAttribute("fill",t),l.setAttribute("fill-opacity",n),y.setAttribute("href",`#${p}`),h(this,Ct).set(o,l),{id:o,clipPathId:`url(#${g})`}}drawOutline(e){const t=gn(this,od)._++,n=x(this,Ba,Vv).call(this,e.box);n.classList.add(...e.classNamesForOutlining);const r=Xt._svgFactory.createElement("defs");n.append(r);const o=Xt._svgFactory.createElement("path");r.append(o);const l=`path_p${this.pageIndex}_${t}`;o.setAttribute("id",l),o.setAttribute("d",e.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let u;if(e.mustRemoveSelfIntersections){const g=Xt._svgFactory.createElement("mask");r.append(g),u=`mask_p${this.pageIndex}_${t}`,g.setAttribute("id",u),g.setAttribute("maskUnits","objectBoundingBox");const y=Xt._svgFactory.createElement("rect");g.append(y),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("fill","white");const v=Xt._svgFactory.createElement("use");g.append(v),v.setAttribute("href",`#${l}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const d=Xt._svgFactory.createElement("use");n.append(d),d.setAttribute("href",`#${l}`),u&&d.setAttribute("mask",`url(#${u})`);const p=d.cloneNode();return n.append(p),d.classList.add("mainOutline"),p.classList.add("secondaryOutline"),h(this,Ct).set(t,n),t}finalizeLine(e,t){const n=h(this,tr).get(e);h(this,tr).delete(e),this.updateBox(e,t.box),n.setAttribute("d",t.toSVGPath())}updateLine(e,t){h(this,Ct).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){h(this,tr).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var n;x(n=Xt,ad,$v).call(n,h(this,Ct).get(e),t)}show(e,t){h(this,Ct).get(e).classList.toggle("hidden",!t)}rotate(e,t){h(this,Ct).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){h(this,Ct).get(e).setAttribute("fill",t)}changeOpacity(e,t){h(this,Ct).get(e).setAttribute("fill-opacity",t)}addClass(e,t){h(this,Ct).get(e).classList.add(t)}removeClass(e,t){h(this,Ct).get(e).classList.remove(t)}getSVGRoot(e){return h(this,Ct).get(e)}remove(e){h(this,tr).delete(e),h(this,pi)!==null&&(h(this,Ct).get(e).remove(),h(this,Ct).delete(e))}destroy(){b(this,pi,null);for(const e of h(this,Ct).values())e.remove();h(this,Ct).clear(),h(this,tr).clear()}};pi=new WeakMap,od=new WeakMap,Ct=new WeakMap,tr=new WeakMap,ad=new WeakSet,$v=function(e,{x:t=0,y:n=0,width:r=1,height:o=1}={}){const{style:l}=e;l.top=`${100*n}%`,l.left=`${100*t}%`,l.width=`${100*r}%`,l.height=`${100*o}%`},Ba=new WeakSet,Vv=function(e){var n;const t=Xt._svgFactory.create(1,1,!0);return h(this,pi).append(t),t.setAttribute("aria-hidden",!0),x(n=Xt,ad,$v).call(n,t,e),t},cx=function(e,t){const n=Xt._svgFactory.createElement("clipPath");e.append(n);const r=`clip_${t}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const o=Xt._svgFactory.createElement("use");return n.append(o),o.setAttribute("href",`#${t}`),o.classList.add("clip"),r},T(Xt,ad);let Uv=Xt;var gM=Re.AbortException,mM=Re.AnnotationEditorLayer,yM=Re.AnnotationEditorParamsType,vM=Re.AnnotationEditorType,wM=Re.AnnotationEditorUIManager,ux=Re.AnnotationLayer,hx=Re.AnnotationMode,AM=Re.ColorPicker,SM=Re.DOMSVGFactory,EM=Re.DrawLayer,bM=Re.FeatureTest,dx=Re.GlobalWorkerOptions,_M=Re.ImageKind,xM=Re.InvalidPDFException,CM=Re.MissingPDFException,kM=Re.OPS,TM=Re.OutputScale,RM=Re.PDFDataRangeTransport,PM=Re.PDFDateString,LM=Re.PDFWorker,MM=Re.PasswordResponses,NM=Re.PermissionFlag,IM=Re.PixelsPerInch,FM=Re.RenderingCancelledException,fx=Re.TextLayer,DM=Re.UnexpectedResponseException,OM=Re.Util,jM=Re.VerbosityLevel,HM=Re.XfaLayer,zM=Re.build,BM=Re.createValidAbsoluteUrl,UM=Re.fetchData,px=Re.getDocument,$M=Re.getFilenameFromUrl,VM=Re.getPdfFilenameFromUrl,WM=Re.getXfaPageViewport,GM=Re.isDataScheme,qM=Re.isPdfFile,XM=Re.noContextMenu,KM=Re.normalizeUnicode,YM=Re.setLayerDimensions,QM=Re.shadow,JM=Re.version;const ZM=Object.freeze(Object.defineProperty({__proto__:null,AbortException:gM,AnnotationEditorLayer:mM,AnnotationEditorParamsType:yM,AnnotationEditorType:vM,AnnotationEditorUIManager:wM,AnnotationLayer:ux,AnnotationMode:hx,ColorPicker:AM,DOMSVGFactory:SM,DrawLayer:EM,FeatureTest:bM,GlobalWorkerOptions:dx,ImageKind:_M,InvalidPDFException:xM,MissingPDFException:CM,OPS:kM,OutputScale:TM,PDFDataRangeTransport:RM,PDFDateString:PM,PDFWorker:LM,PasswordResponses:MM,PermissionFlag:NM,PixelsPerInch:IM,RenderingCancelledException:FM,TextLayer:fx,UnexpectedResponseException:DM,Util:OM,VerbosityLevel:jM,XfaLayer:HM,build:zM,createValidAbsoluteUrl:BM,fetchData:UM,getDocument:px,getFilenameFromUrl:$M,getPdfFilenameFromUrl:VM,getXfaPageViewport:WM,isDataScheme:GM,isPdfFile:qM,noContextMenu:XM,normalizeUnicode:KM,setLayerDimensions:YM,shadow:QM,version:JM},Symbol.toStringTag,{value:"Module"}));var zt=function(a,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,o;n<r;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return a.concat(o||Array.prototype.slice.call(e))},eN=["onCopy","onCut","onPaste"],tN=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],nN=["onFocus","onBlur"],sN=["onInput","onInvalid","onReset","onSubmit"],iN=["onLoad","onError"],rN=["onKeyDown","onKeyPress","onKeyUp"],oN=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],aN=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],lN=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],cN=["onSelect"],uN=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],hN=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],dN=["onScroll"],fN=["onWheel"],pN=["onAnimationStart","onAnimationEnd","onAnimationIteration"],gN=["onTransitionEnd"],mN=["onToggle"],yN=["onChange"],vN=zt(zt(zt(zt(zt(zt(zt(zt(zt(zt(zt(zt(zt(zt(zt(zt(zt(zt([],eN,!0),tN,!0),nN,!0),sN,!0),iN,!0),rN,!0),oN,!0),aN,!0),lN,!0),cN,!0),uN,!0),hN,!0),dN,!0),fN,!0),pN,!0),gN,!0),yN,!0),mN,!0);function gx(a,e){var t={};return vN.forEach(function(n){var r=a[n];r&&(e?t[n]=function(o){return r(o,e(n))}:t[n]=r)}),t}function md(a){var e=!1,t=new Promise(function(n,r){a.then(function(o){return!e&&n(o)}).catch(function(o){return!e&&r(o)})});return{promise:t,cancel:function(){e=!0}}}function mx(a){var e,t,n="";if(typeof a=="string"||typeof a=="number")n+=a;else if(typeof a=="object")if(Array.isArray(a)){var r=a.length;for(e=0;e<r;e++)a[e]&&(t=mx(a[e]))&&(n&&(n+=" "),n+=t)}else for(t in a)a[t]&&(n&&(n+=" "),n+=t);return n}function rg(){for(var a,e,t=0,n="",r=arguments.length;t<r;t++)(a=arguments[t])&&(e=mx(a))&&(n&&(n+=" "),n+=e);return n}var wN="Invariant failed";function et(a,e){if(!a)throw new Error(wN)}var yy,eE;function AN(){if(eE)return yy;eE=1;var a=function(){};return yy=a,yy}var SN=AN();const hn=xC(SN);var tE=Object.prototype.hasOwnProperty;function nE(a,e,t){for(t of a.keys())if(kl(t,e))return t}function kl(a,e){var t,n,r;if(a===e)return!0;if(a&&e&&(t=a.constructor)===e.constructor){if(t===Date)return a.getTime()===e.getTime();if(t===RegExp)return a.toString()===e.toString();if(t===Array){if((n=a.length)===e.length)for(;n--&&kl(a[n],e[n]););return n===-1}if(t===Set){if(a.size!==e.size)return!1;for(n of a)if(r=n,r&&typeof r=="object"&&(r=nE(e,r),!r)||!e.has(r))return!1;return!0}if(t===Map){if(a.size!==e.size)return!1;for(n of a)if(r=n[0],r&&typeof r=="object"&&(r=nE(e,r),!r)||!kl(n[1],e.get(r)))return!1;return!0}if(t===ArrayBuffer)a=new Uint8Array(a),e=new Uint8Array(e);else if(t===DataView){if((n=a.byteLength)===e.byteLength)for(;n--&&a.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(a)){if((n=a.byteLength)===e.byteLength)for(;n--&&a[n]===e[n];);return n===-1}if(!t||typeof a=="object"){n=0;for(t in a)if(tE.call(a,t)&&++n&&!tE.call(e,t)||!(t in e)||!kl(a[t],e[t]))return!1;return Object.keys(e).length===n}}return a!==a&&e!==e}const yx=F.createContext(null);function Tl({children:a,type:e}){return R.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:a})}const EN="noopener noreferrer nofollow";class bN{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return et(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){et(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{et(this.pdfDocument),et(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{et(Array.isArray(t));const n=t[0];new Promise(r=>{et(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(o=>{r(o)}).catch(()=>{et(!1)}):typeof n=="number"?r(n):et(!1)}).then(r=>{const o=r+1;et(this.pdfViewer),et(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:r,pageNumber:o})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;et(this.pdfViewer),et(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||EN,e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const sE={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},og=typeof window<"u",vx=og&&window.location.protocol==="file:";function _N(a){return typeof a<"u"}function Po(a){return _N(a)&&a!==null}function xN(a){return typeof a=="string"}function CN(a){return a instanceof ArrayBuffer}function kN(a){return et(og),a instanceof Blob}function Wv(a){return xN(a)&&/^data:/.test(a)}function iE(a){et(Wv(a));const[e="",t=""]=a.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function TN(){return og&&window.devicePixelRatio||1}const wx="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function rE(){hn(!vx,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${wx}`)}function RN(){hn(!vx,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${wx}`)}function Ha(a){a!=null&&a.cancel&&a.cancel()}function Gv(a,e){return Object.defineProperty(a,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(a,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(a,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(a,"originalHeight",{get(){return this.view[3]},configurable:!0}),a}function PN(a){return a.name==="RenderingCancelledException"}function LN(a){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return t(new Error("Error while reading a file."));e(n.result)},n.onerror=r=>{if(!r.target)return t(new Error("Error while reading a file."));const{error:o}=r.target;if(!o)return t(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},n.readAsArrayBuffer(a)})}function MN(a,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return a}}function kc(){return F.useReducer(MN,{value:void 0,error:void 0})}var NN=function(a,e,t,n){function r(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(g){try{p(n.next(g))}catch(y){l(y)}}function d(g){try{p(n.throw(g))}catch(y){l(y)}}function p(g){g.done?o(g.value):r(g.value).then(u,d)}p((n=n.apply(a,e||[])).next())})},oE=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(a);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(a,n[r])&&(t[n[r]]=a[n[r]]);return t};const{PDFDataRangeTransport:IN}=ZM,FN=(a,e)=>{switch(e){case sE.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");a(t);break}case sE.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");a(t);break}}};function aE(a){return typeof a=="object"&&a!==null&&("data"in a||"range"in a||"url"in a)}const lE=F.forwardRef(function(e,t){var{children:n,className:r,error:o="Failed to load PDF file.",externalLinkRel:l,externalLinkTarget:u,file:d,inputRef:p,imageResourcesPath:g,loading:y="Loading PDF",noData:v="No PDF file specified.",onItemClick:S,onLoadError:A,onLoadProgress:E,onLoadSuccess:C,onPassword:k=FN,onSourceError:L,onSourceSuccess:M,options:I,renderMode:j,rotate:z}=e,U=oE(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[W,K]=kc(),{value:te,error:se}=W,[_e,pe]=kc(),{value:de,error:Ae}=_e,me=F.useRef(new bN),Z=F.useRef([]),G=F.useRef(void 0),ae=F.useRef(void 0);d&&d!==G.current&&aE(d)&&(hn(!kl(d,G.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),G.current=d),I&&I!==ae.current&&(hn(!kl(I,ae.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),ae.current=I);const ee=F.useRef({scrollPageIntoView:We=>{const{dest:ot,pageNumber:Tt,pageIndex:wt=Tt-1}=We;if(S){S({dest:ot,pageIndex:wt,pageNumber:Tt});return}const Us=Z.current[wt];if(Us){Us.scrollIntoView();return}hn(!1,`An internal link leading to page ${Tt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});F.useImperativeHandle(t,()=>({linkService:me,pages:Z,viewer:ee}),[]);function O(){M&&M()}function q(){se&&(hn(!1,se.toString()),L&&L(se))}function ce(){K({type:"RESET"})}F.useEffect(ce,[d,K]);const Se=F.useCallback(()=>NN(this,void 0,void 0,function*(){if(!d)return null;if(typeof d=="string")return Wv(d)?{data:iE(d)}:(rE(),{url:d});if(d instanceof IN)return{range:d};if(CN(d))return{data:d};if(og&&kN(d))return{data:yield LN(d)};if(et(typeof d=="object"),et(aE(d)),"url"in d&&typeof d.url=="string"){if(Wv(d.url)){const{url:We}=d,ot=oE(d,["url"]),Tt=iE(We);return Object.assign({data:Tt},ot)}rE()}return d}),[d]);F.useEffect(()=>{const We=md(Se());return We.promise.then(ot=>{K({type:"RESOLVE",value:ot})}).catch(ot=>{K({type:"REJECT",error:ot})}),()=>{Ha(We)}},[Se,K]),F.useEffect(()=>{if(!(typeof te>"u")){if(te===!1){q();return}O()}},[te]);function Te(){de&&(C&&C(de),Z.current=new Array(de.numPages),me.current.setDocument(de))}function ve(){Ae&&(hn(!1,Ae.toString()),A&&A(Ae))}F.useEffect(function(){pe({type:"RESET"})},[pe,te]),F.useEffect(function(){if(!te)return;const ot=I?Object.assign(Object.assign({},te),I):te,Tt=px(ot);E&&(Tt.onProgress=E),k&&(Tt.onPassword=k);const wt=Tt,Us=wt.promise.then(hr=>{pe({type:"RESOLVE",value:hr})}).catch(hr=>{wt.destroyed||pe({type:"REJECT",error:hr})});return()=>{Us.finally(()=>wt.destroy())}},[I,pe,te]),F.useEffect(()=>{if(!(typeof de>"u")){if(de===!1){ve();return}Te()}},[de]),F.useEffect(function(){me.current.setViewer(ee.current),me.current.setExternalLinkRel(l),me.current.setExternalLinkTarget(u)},[l,u]);const ye=F.useCallback((We,ot)=>{Z.current[We]=ot},[]),Ne=F.useCallback(We=>{delete Z.current[We]},[]),He=F.useMemo(()=>({imageResourcesPath:g,linkService:me.current,onItemClick:S,pdf:de,registerPage:ye,renderMode:j,rotate:z,unregisterPage:Ne}),[g,S,de,ye,j,z,Ne]),De=F.useMemo(()=>gx(U,()=>de),[U,de]);function Bs(){return R.jsx(yx.Provider,{value:He,children:n})}function ur(){return d?de==null?R.jsx(Tl,{type:"loading",children:typeof y=="function"?y():y}):de===!1?R.jsx(Tl,{type:"error",children:typeof o=="function"?o():o}):Bs():R.jsx(Tl,{type:"no-data",children:typeof v=="function"?v():v})}return R.jsx("div",Object.assign({className:rg("react-pdf__Document",r),ref:p,style:{"--scale-factor":"1"}},De,{children:ur()}))});function Ax(){return F.useContext(yx)}function Sx(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];var t=a.filter(Boolean);if(t.length<=1){var n=t[0];return n||null}return function(o){t.forEach(function(l){typeof l=="function"?l(o):l&&(l.current=o)})}}const Ex=F.createContext(null),bx={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},DN=/^H(\d+)$/;function ON(a){return a in bx}function ag(a){return"children"in a}function _x(a){return ag(a)?a.children.length===1&&0 in a.children&&"id"in a.children[0]:!1}function jN(a){const e={};if(ag(a)){const{role:t}=a,n=t.match(DN);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(ON(t)){const r=bx[t];r&&(e.role=r)}}return e}function xx(a){const e={};if(ag(a)){if(a.alt!==void 0&&(e["aria-label"]=a.alt),a.lang!==void 0&&(e.lang=a.lang),_x(a)){const[t]=a.children;if(t){const n=xx(t);return Object.assign(Object.assign({},e),n)}}}else"id"in a&&(e["aria-owns"]=a.id);return e}function HN(a){return a?Object.assign(Object.assign({},jN(a)),xx(a)):null}function Cx({className:a,node:e}){const t=F.useMemo(()=>HN(e),[e]),n=F.useMemo(()=>!ag(e)||_x(e)?null:e.children.map((r,o)=>R.jsx(Cx,{node:r},o)),[e]);return R.jsx("span",Object.assign({className:a},t,{children:n}))}function lg(){return F.useContext(Ex)}function zN(){const a=lg();et(a);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=a,[n,r]=kc(),{value:o,error:l}=n,{customTextRenderer:u,page:d}=a;function p(){o&&t&&t(o)}function g(){l&&(hn(!1,l.toString()),e&&e(l))}return F.useEffect(function(){r({type:"RESET"})},[r,d]),F.useEffect(function(){if(u||!d)return;const v=md(d.getStructTree()),S=v;return v.promise.then(A=>{r({type:"RESOLVE",value:A})}).catch(A=>{r({type:"REJECT",error:A})}),()=>Ha(S)},[u,d,r]),F.useEffect(()=>{if(o!==void 0){if(o===!1){g();return}p()}},[o]),o?R.jsx(Cx,{className:"react-pdf__Page__structTree structTree",node:o}):null}const cE=hx;function BN(a){const e=lg();et(e);const t=Object.assign(Object.assign({},e),a),{_className:n,canvasBackground:r,devicePixelRatio:o=TN(),onRenderError:l,onRenderSuccess:u,page:d,renderForms:p,renderTextLayer:g,rotate:y,scale:v}=t,{canvasRef:S}=a;et(d);const A=F.useRef(null);function E(){d&&u&&u(Gv(d,v))}function C(I){PN(I)||(hn(!1,I.toString()),l&&l(I))}const k=F.useMemo(()=>d.getViewport({scale:v*o,rotation:y}),[o,d,y,v]),L=F.useMemo(()=>d.getViewport({scale:v,rotation:y}),[d,y,v]);F.useEffect(function(){if(!d)return;d.cleanup();const{current:j}=A;if(!j)return;j.width=k.width,j.height=k.height,j.style.width=`${Math.floor(L.width)}px`,j.style.height=`${Math.floor(L.height)}px`,j.style.visibility="hidden";const z={annotationMode:p?cE.ENABLE_FORMS:cE.ENABLE,canvasContext:j.getContext("2d",{alpha:!1}),viewport:k};r&&(z.background=r);const U=d.render(z),W=U;return U.promise.then(()=>{j.style.visibility="",E()}).catch(C),()=>Ha(W)},[r,d,p,k,L]);const M=F.useCallback(()=>{const{current:I}=A;I&&(I.width=0,I.height=0)},[]);return F.useEffect(()=>M,[M]),R.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:Sx(S,A),style:{display:"block",userSelect:"none"},children:g?R.jsx(zN,{}):null})}function UN(a){return"str"in a}function $N(){const a=lg();et(a);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:n,onRenderTextLayerError:r,onRenderTextLayerSuccess:o,page:l,pageIndex:u,pageNumber:d,rotate:p,scale:g}=a;et(l);const[y,v]=kc(),{value:S,error:A}=y,E=F.useRef(null);hn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function C(){S&&n&&n(S)}function k(){A&&(hn(!1,A.toString()),t&&t(A))}F.useEffect(function(){v({type:"RESET"})},[l,v]),F.useEffect(function(){if(!l)return;const W=md(l.getTextContent()),K=W;return W.promise.then(te=>{v({type:"RESOLVE",value:te})}).catch(te=>{v({type:"REJECT",error:te})}),()=>Ha(K)},[l,v]),F.useEffect(()=>{if(S!==void 0){if(S===!1){k();return}C()}},[S]);const L=F.useCallback(()=>{o&&o()},[o]),M=F.useCallback(U=>{hn(!1,U.toString()),r&&r(U)},[r]);function I(){const U=E.current;U&&U.classList.add("selecting")}function j(){const U=E.current;U&&U.classList.remove("selecting")}const z=F.useMemo(()=>l.getViewport({scale:g,rotation:p}),[l,p,g]);return F.useLayoutEffect(function(){if(!l||!S)return;const{current:W}=E;if(!W)return;W.innerHTML="";const K=l.streamTextContent({includeMarkedContent:!0}),te={container:W,textContentSource:K,viewport:z},se=new fx(te),_e=se;return se.render().then(()=>{const pe=document.createElement("div");pe.className="endOfContent",W.append(pe);const de=W.querySelectorAll('[role="presentation"]');if(e){let Ae=0;S.items.forEach((me,Z)=>{if(!UN(me))return;const G=de[Ae];if(!G)return;const ae=e(Object.assign({pageIndex:u,pageNumber:d,itemIndex:Z},me));G.innerHTML=ae,Ae+=me.str&&me.hasEOL?2:1})}L()}).catch(M),()=>Ha(_e)},[e,M,L,l,u,d,S,z]),R.jsx("div",{className:rg("react-pdf__Page__textContent","textLayer"),onMouseUp:j,onMouseDown:I,ref:E})}function VN(){const a=Ax(),e=lg();et(e);const t=Object.assign(Object.assign({},a),e),{imageResourcesPath:n,linkService:r,onGetAnnotationsError:o,onGetAnnotationsSuccess:l,onRenderAnnotationLayerError:u,onRenderAnnotationLayerSuccess:d,page:p,pdf:g,renderForms:y,rotate:v,scale:S=1}=t;et(g),et(p),et(r);const[A,E]=kc(),{value:C,error:k}=A,L=F.useRef(null);hn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function M(){C&&l&&l(C)}function I(){k&&(hn(!1,k.toString()),o&&o(k))}F.useEffect(function(){E({type:"RESET"})},[E,p]),F.useEffect(function(){if(!p)return;const K=md(p.getAnnotations()),te=K;return K.promise.then(se=>{E({type:"RESOLVE",value:se})}).catch(se=>{E({type:"REJECT",error:se})}),()=>{Ha(te)}},[E,p]),F.useEffect(()=>{if(C!==void 0){if(C===!1){I();return}M()}},[C]);function j(){d&&d()}function z(W){hn(!1,`${W}`),u&&u(W)}const U=F.useMemo(()=>p.getViewport({scale:S,rotation:v}),[p,v,S]);return F.useEffect(function(){if(!g||!p||!r||!C)return;const{current:K}=L;if(!K)return;const te=U.clone({dontFlip:!0}),se={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:K,l10n:null,page:p,structTreeLayer:null,viewport:te},_e={annotations:C,annotationStorage:g.annotationStorage,div:K,imageResourcesPath:n,linkService:r,page:p,renderForms:y,viewport:te};K.innerHTML="";try{new ux(se).render(_e),j()}catch(pe){z(pe)}return()=>{}},[C,n,r,p,g,y,U]),R.jsx("div",{className:rg("react-pdf__Page__annotations","annotationLayer"),ref:L})}var WN=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(a);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(a,n[r])&&(t[n[r]]=a[n[r]]);return t};const uE=1;function hE(a){const e=Ax(),t=Object.assign(Object.assign({},e),a),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:o,canvasRef:l,children:u,className:d,customRenderer:p,customTextRenderer:g,devicePixelRatio:y,error:v="Failed to load the page.",height:S,inputRef:A,loading:E="Loading page",noData:C="No page specified.",onGetAnnotationsError:k,onGetAnnotationsSuccess:L,onGetStructTreeError:M,onGetStructTreeSuccess:I,onGetTextError:j,onGetTextSuccess:z,onLoadError:U,onLoadSuccess:W,onRenderAnnotationLayerError:K,onRenderAnnotationLayerSuccess:te,onRenderError:se,onRenderSuccess:_e,onRenderTextLayerError:pe,onRenderTextLayerSuccess:de,pageIndex:Ae,pageNumber:me,pdf:Z,registerPage:G,renderAnnotationLayer:ae=!0,renderForms:ee=!1,renderMode:O="canvas",renderTextLayer:q=!0,rotate:ce,scale:Se=uE,unregisterPage:Te,width:ve}=t,ye=WN(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Ne,He]=kc(),{value:De,error:Bs}=Ne,ur=F.useRef(null);et(Z);const We=Po(me)?me-1:Ae??null,ot=me??(Po(Ae)?Ae+1:null),Tt=ce??(De?De.rotate:null),wt=F.useMemo(()=>{if(!De)return null;let $s=1;const yi=Se??uE;if(ve||S){const mo=De.getViewport({scale:1,rotation:Tt});ve?$s=ve/mo.width:S&&($s=S/mo.height)}return yi*$s},[S,De,Tt,Se,ve]);F.useEffect(function(){return()=>{Po(We)&&r&&Te&&Te(We)}},[r,Z,We,Te]);function Us(){if(W){if(!De||!wt)return;W(Gv(De,wt))}if(r&&G){if(!Po(We)||!ur.current)return;G(We,ur.current)}}function hr(){Bs&&(hn(!1,Bs.toString()),U&&U(Bs))}F.useEffect(function(){He({type:"RESET"})},[He,Z,We]),F.useEffect(function(){if(!Z||!ot)return;const yi=md(Z.getPage(ot)),mo=yi;return yi.promise.then(vi=>{He({type:"RESOLVE",value:vi})}).catch(vi=>{He({type:"REJECT",error:vi})}),()=>Ha(mo)},[He,Z,ot]),F.useEffect(()=>{if(De!==void 0){if(De===!1){hr();return}Us()}},[De,wt]);const Nc=F.useMemo(()=>De&&Po(We)&&ot&&Po(Tt)&&Po(wt)?{_className:n,canvasBackground:o,customTextRenderer:g,devicePixelRatio:y,onGetAnnotationsError:k,onGetAnnotationsSuccess:L,onGetStructTreeError:M,onGetStructTreeSuccess:I,onGetTextError:j,onGetTextSuccess:z,onRenderAnnotationLayerError:K,onRenderAnnotationLayerSuccess:te,onRenderError:se,onRenderSuccess:_e,onRenderTextLayerError:pe,onRenderTextLayerSuccess:de,page:De,pageIndex:We,pageNumber:ot,renderForms:ee,renderTextLayer:q,rotate:Tt,scale:wt}:null,[n,o,g,y,k,L,M,I,j,z,K,te,se,_e,pe,de,De,We,ot,ee,q,Tt,wt]),go=F.useMemo(()=>gx(ye,()=>De&&(wt?Gv(De,wt):void 0)),[ye,De,wt]),ms=`${We}@${wt}/${Tt}`;function Ic(){switch(O){case"custom":return et(p),R.jsx(p,{},`${ms}_custom`);case"none":return null;case"canvas":default:return R.jsx(BN,{canvasRef:l},`${ms}_canvas`)}}function yd(){return q?R.jsx($N,{},`${ms}_text`):null}function vd(){return ae?R.jsx(VN,{},`${ms}_annotations`):null}function wd(){return R.jsxs(Ex.Provider,{value:Nc,children:[Ic(),yd(),vd(),u]})}function Ad(){return ot?Z===null||De===void 0||De===null?R.jsx(Tl,{type:"loading",children:typeof E=="function"?E():E}):Z===!1||De===!1?R.jsx(Tl,{type:"error",children:typeof v=="function"?v():v}):wd():R.jsx(Tl,{type:"no-data",children:typeof C=="function"?C():C})}return R.jsx("div",Object.assign({className:rg(n,d),"data-page-number":ot,ref:Sx(A,ur),style:{"--scale-factor":`${wt}`,backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},go,{children:Ad()}))}RN();dx.workerSrc="pdf.worker.mjs";const GN="/assets/test-d8p1Ck-F.pdf";function qN(){const[a,e]=F.useState(null),[t,n]=F.useState(null),r=l=>{const u=l.target.files[0];console.log(u.name),u?e(URL.createObjectURL(u)):alert("Please upload a valid PDF file.")},o=({numPages:l})=>{n(l)};return R.jsxs("div",{children:[R.jsx("input",{type:"file",accept:".pdf",onChange:r}),R.jsx("input",{type:"file",accept:".pdf,.doc,.docx",className:"file-input"}),a&&R.jsxs("div",{className:"pdf-container",children:[R.jsx("h2",{children:"PDF Preview"}),R.jsx(lE,{file:a,onLoadSuccess:o,children:R.jsx(hE,{pageNumber:1})}),t>1&&R.jsxs("p",{children:["This PDF has ",t," pages. You can render more pages if needed."]})]}),R.jsx("h2",{children:"PDF Preview"}),R.jsx(lE,{file:GN,onLoadSuccess:o,children:R.jsx(hE,{pageNumber:1})}),t>1&&R.jsxs("p",{children:["This PDF has ",t," pages. You can render more pages if needed."]})]})}function XN(){const[a,e]=F.useState({name:"John Doe",username:"johndoe",email:"john.doe@example.com",location:"San Francisco, CA",about:"I'm a passionate frontend developer with 5+ years of experience building modern web applications. I specialize in React, TypeScript, and modern JavaScript frameworks. I enjoy creating intuitive user interfaces and solving complex problems.",experience:4,education:"PHD",skills:["Redux","Next.js","GraphQL","Webpack","Jest","Git","RESTful APIs","Responsive Design","Sass/SCSS","Tailwind CSS"]});return R.jsx("div",{children:R.jsxs(Xk,{children:[R.jsx(hP,{setProfile:e,profile:a}),R.jsxs(_k,{children:[R.jsx(gl,{exact:!0,path:"/",element:R.jsx(uP,{setProfile:e})}),R.jsx(gl,{exact:!0,path:"/dashboard",element:R.jsx(oP,{setProfile:e,profile:a})}),R.jsx(gl,{exact:!0,path:"/search",element:R.jsx(aP,{})}),R.jsx(gl,{exact:!0,path:"/profile",element:R.jsx(dP,{setProfile:e,profile:a})}),R.jsx(gl,{exact:!0,path:"/test",element:R.jsx(qN,{})})]})]})})}IC.createRoot(document.getElementById("root")).render(R.jsx(F.StrictMode,{children:R.jsx(XN,{})}));
